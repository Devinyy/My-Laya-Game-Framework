!function(){"use strict";var e,t,n,a,i,o,r,s,l,c,h,u,d,m,y,g,p,f,w,S,b,L,v,D,O,B,C,A,I,k,N,x,R,T,P,_,M,E=Laya.View,V=Laya.ClassUtils.regClass;!function(e){!function(e){class t extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/ADGetReward")}}e.ADGetRewardUI=t,V("ui.Views.ADGetRewardUI",t);class n extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/BeRewarded")}}e.BeRewardedUI=n,V("ui.Views.BeRewardedUI",n);class a extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/CheckIn")}}e.CheckInUI=a,V("ui.Views.CheckInUI",a);class i extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/CheckInDay6RenderObj")}}e.CheckInDay6RenderObjUI=i,V("ui.Views.CheckInDay6RenderObjUI",i);class o extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/CheckInDay7RrwardRenderObj")}}e.CheckInDay7RrwardRenderObjUI=o,V("ui.Views.CheckInDay7RrwardRenderObjUI",o);class r extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Defeated")}}e.DefeatedUI=r,V("ui.Views.DefeatedUI",r);class s extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/EndLessSettle")}}e.EndLessSettleUI=s,V("ui.Views.EndLessSettleUI",s);class l extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Levels")}}e.LevelsUI=l,V("ui.Views.LevelsUI",l);class c extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Lottery")}}e.LotteryUI=c,V("ui.Views.LotteryUI",c);class h extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/LotteryRenderObj")}}e.LotteryRenderObjUI=h,V("ui.Views.LotteryRenderObjUI",h);class u extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/LuckyWheel")}}e.LuckyWheelUI=u,V("ui.Views.LuckyWheelUI",u);class d extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/LuckyWheelRenderObj")}}e.LuckyWheelRenderObjUI=d,V("ui.Views.LuckyWheelRenderObjUI",d);class m extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/PropTry")}}e.PropTryUI=m,V("ui.Views.PropTryUI",m);class y extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Resurgence")}}e.ResurgenceUI=y,V("ui.Views.ResurgenceUI",y);class g extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/SkillUpgradeObj")}}e.SkillUpgradeObjUI=g,V("ui.Views.SkillUpgradeObjUI",g);class p extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/SkillUpgradeRenderObj")}}e.SkillUpgradeRenderObjUI=p,V("ui.Views.SkillUpgradeRenderObjUI",p);class f extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Skin")}}e.SkinUI=f,V("ui.Views.SkinUI",f);class w extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/SkinRenderObj")}}e.SkinRenderObjUI=w,V("ui.Views.SkinRenderObjUI",w);class S extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/SkinTry")}}e.SkinTryUI=S,V("ui.Views.SkinTryUI",S);class b extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/SpecialAwards")}}e.SpecialAwardsUI=b,V("ui.Views.SpecialAwardsUI",b);class L extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Victory")}}e.VictoryUI=L,V("ui.Views.VictoryUI",L)}(e.Views||(e.Views={}))}(e||(e={})),function(e){!function(e){!function(e){class t extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/CloseBtnObj")}}e.CloseBtnObjUI=t,V("ui.Views.Base.CloseBtnObjUI",t);class n extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/DialogCommon")}}e.DialogCommonUI=n,V("ui.Views.Base.DialogCommonUI",n);class a extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/DialogHint")}}e.DialogHintUI=a,V("ui.Views.Base.DialogHintUI",a);class i extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/DiamondObj")}}e.DiamondObjUI=i,V("ui.Views.Base.DiamondObjUI",i);class o extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/DiamondSingleObj")}}e.DiamondSingleObjUI=o,V("ui.Views.Base.DiamondSingleObjUI",o);class r extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/FloatFontArtObj")}}e.FloatFontArtObjUI=r,V("ui.Views.Base.FloatFontArtObjUI",r);class s extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/FloatFontSystemObj")}}e.FloatFontSystemObjUI=s,V("ui.Views.Base.FloatFontSystemObjUI",s);class l extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/GameManager")}}e.GameManagerUI=l,V("ui.Views.Base.GameManagerUI",l);class c extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/GameManagerBtnObj")}}e.GameManagerBtnObjUI=c,V("ui.Views.Base.GameManagerBtnObjUI",c);class h extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/GameManagerRenderObj")}}e.GameManagerRenderObjUI=h,V("ui.Views.Base.GameManagerRenderObjUI",h);class u extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/GoldObj")}}e.GoldObjUI=u,V("ui.Views.Base.GoldObjUI",u);class d extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/Guide")}}e.GuideUI=d,V("ui.Views.Base.GuideUI",d);class m extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/Init")}}e.InitUI=m,V("ui.Views.Base.InitUI",m);class y extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/PreLoad")}}e.PreLoadUI=y,V("ui.Views.Base.PreLoadUI",y);class g extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/PreLoadCutIn")}}e.PreLoadCutInUI=g,V("ui.Views.Base.PreLoadCutInUI",g);class p extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/RedDotObj")}}e.RedDotObjUI=p,V("ui.Views.Base.RedDotObjUI",p);class f extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/ReturnBtnObj")}}e.ReturnBtnObjUI=f,V("ui.Views.Base.ReturnBtnObjUI",f);class w extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/Set")}}e.SetUI=w,V("ui.Views.Base.SetUI",w);class S extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/StaminaObj")}}e.StaminaObjUI=S,V("ui.Views.Base.StaminaObjUI",S);class b extends E{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("Views/Base/Start")}}e.StartUI=b,V("ui.Views.Base.StartUI",b)}(e.Base||(e.Base={}))}(e.Views||(e.Views={}))}(e||(e={})),function(e){let t;e.Init=class{constructor(n){n&&(e.type=n),e.systemInfo={screenWidth:Laya.stage.width,screenHeight:Laya.stage.height,windowWidth:Laya.stage.width,windowHeight:Laya.stage.height},Laya.Browser.onWeiXin?(e.type=t.WeChat,e.systemInfo=Laya.Browser.window.wx.getSystemInfoSync()):Laya.Browser.onQGMiniGame?e.type=t.OPPO:Laya.Browser.onVVMiniGame?e.type=t.VIVO:Laya.Browser.onTTMiniGame?e.type=t.Bytedance:e.type=t.ExploitNoAD}get LwgPlatform(){return"LwgPlatform"}},function(e){e[e.Exploit=0]="Exploit",e[e.ExploitNoAD=1]="ExploitNoAD",e[e.WeChat=2]="WeChat",e[e.OPPO=3]="OPPO",e[e.VIVO=4]="VIVO",e[e.Bytedance=5]="Bytedance",e[e.WebAD=6]="WebAD",e[e.WebTest=7]="WebTest",e[e.WebTestClear=8]="WebTestClear"}(t=e.EmType||(e.EmType={})),e.type=t.ExploitNoAD;e.Subpackage=class{constructor(n,a){e.type===t.WeChat?this.loadBasePacks(n,a):a&&a()}loadBasePacks(e,t){const n=e,a=()=>{const e=n.shift();e?Laya.Browser.window.wx.loadSubpackage({name:e,success:t=>{console.log("分包加载成功=",e),a()},fail:t=>{console.log("分包加载失败=",e),n.unshift(e),setTimeout(a,1e3)}}):t&&t()};a()}}}(t||(t={})),function(e){let n;e.Init=class{constructor(t){e.Login=new a,e.AD=new i(t.AD),e.Share=new r(t.Share.tattle,t.Share.imgUrl)}get LwgWX(){return"LwgWX"}},function(e){e[e.AD=0]="AD",e[e.share=1]="share",e[e.test=2]="test"}(n=e.EmADVideoModel||(e.EmADVideoModel={}));class a{constructor(){Laya.Browser.onWeiXin&&(this.onShow(),this.onHide())}onShow(){Laya.Browser.window.wx.onShow(()=>{O.playMusic(),console.log("----- 切入前台"),Date.now()-e.Login.offlineTime>=1500&&e.AD.video.model==e.EmADVideoModel.share&&(e.AD.video.watchguideCompeletCb&&e.AD.video.watchguideCompeletCb(),l.showTips("分享成功!"))})}onHide(){Laya.Browser.window.wx.onHide(()=>{O.stopMusic();let e=(new Date).getTime();this.offlineTime=e,console.log("----- 切入后台， 离线时间",e)})}}class i{constructor(e){Laya.Browser.onWeiXin&&(this.lodeVideo(e.video),this.lodeBanner(e.bannar),this.loadInterst(e.interst),this.lodeCustom(e.customArr))}setShowInScenes(e){Laya.Browser.onWeiXin&&(this.showBannarInSceneCheck(e),this.showCustomInSceneCheck(e))}setHideInScenes(e){Laya.Browser.onWeiXin&&(this.hideBannarInSceneCheck(e),this.hideCustomInSceneCheck())}lodeBanner(e,t){this.bannar=e,this.bannar.adUnitId&&(this.bannar.instance=Laya.Browser.window.wx.createBannerAd({adUnitId:e.adUnitId,adIntervals:this.bannar.autoUpdateTime?this.bannar.autoUpdateTime:30,style:{left:e.style.left?e.style.left:0,top:e.style.top?e.style.top:Laya.Browser.onWeiXin?Laya.Browser.window.wx.systemInfoSync().windowWidth-148:0,width:e.style.width?e.style.width:750}}),this.bannar.instance.onLoad(()=>{t&&this.bannar.instance.show(),console.log(`banner${this.bannar.adUnitId}广告加载成功!`)}),this.bannar.instance.onError(e=>{console.log(`banner广告:${this.bannar.adUnitId}加载失败！错误信息:${e}`)}))}showBannarInSceneCheck(e){this.bannar.showTrack||(this.bannar.showTrack=[]);let t=!1;for(let n=0;n<this.bannar.showScenes.length;n++){if(this.bannar.showScenes[n]==e){t=!0;break}}t?(this.showBanner(),this.bannar.showTrack.push({sceneName:e,show:!0})):(this.hideBanner(),this.bannar.showTrack.push({sceneName:e,show:!1}))}hideBannarInSceneCheck(e){this.bannar.showTrack||(this.bannar.showTrack=[]),this.bannar.showTrack.pop(),this.bannar.showTrack.length>0&&this.bannar.showTrack[this.bannar.showTrack.length-1].show?this.showBanner():this.hideBanner()}showBanner(){this.bannar&&this.bannar.instance&&this.bannar.instance.show().then(()=>console.log("banner 广告显示"))}showBannerNew(){this.bannar.instance.destroy(),this.bannar.instance=null,this.lodeBanner(this.bannar,!0)}hideBanner(){this.bannar&&this.bannar.instance&&this.bannar.instance.hide().then(()=>console.log("banner 广告关闭"))}lodeCustom(e){this.customArr=e;for(let t=0;t<e.length;t++){const n=e[t];n.adUnitId&&(n.instance=Laya.Browser.window.wx.createCustomAd({adUnitId:n.adUnitId,style:{left:n.style.left,top:n.style.top,width:n.style.width?n.style.width:100,fixed:n.style.fixed}}))}}showCustomInSceneCheck(e){for(let t=0;t<this.customArr.length;t++){const n=this.customArr[t];if(n&&n.instance){let t=!1;for(let a=0;a<n.showScenes.length;a++){if(n.showScenes[a]==e){t=!0;break}}n.showTrack||(n.showTrack=[]),t?n.instance.show().then(()=>{let e=!1;for(let t=0;t<n.showScenes.length;t++){if(n.showScenes[t]===o.lastSceneName){e=!0;break}}e||n.instance.hide(),console.log("原生广告展示！")}):n.instance.hide().then(()=>console.log("原生广告关闭！")),n.showTrack.push({sceneName:e,show:t})}}}hideCustomInSceneCheck(){for(let e=0;e<this.customArr.length;e++){const t=this.customArr[e];t.showTrack||(t.showTrack=[]),t.showTrack.pop(),t.instance&&(t.showTrack.length>0&&t.showTrack[t.showTrack.length-1].show?t.instance.show().then(()=>{console.log("原生广告展示！")}):t.instance.hide().then(()=>console.log("原生广告关闭！")))}}lodeVideo(e){this.video=e;this.video.adUnitId?(this.video.model=n.AD,this.video.instance=Laya.Browser.window.wx.createRewardedVideoAd({adUnitId:this.video.adUnitId}),this.video.instance.onLoad(()=>{console.log(`激励视频${this.video.adUnitId}广告加载成功!`),this.video.instance.offLoad(),this.video.instance.offClose()}),this.video.instance.onError(e=>{console.log(`激励视频${this.video.adUnitId}广告加载失败！错误信息:${e}`),this.video.instance.offLoad(),this.video.instance.offClose()})):this.video.model=n.share}showVideo(a,i){if(t.type!==t.EmType.Exploit&&t.type!==t.EmType.ExploitNoAD&&t.type!==t.EmType.WebTest&&t.type!==t.EmType.WebTestClear){if(this.video.model===n.share)return this.video.watchguideCompeletCb=a,void e.Share.share(a);if(void 0===this.video.curVideoTime&&(this.video.curVideoTime=0),d.Now.time-this.video.curVideoTime<5e3)console.log("5秒内不得再次看视频广告！");else if(this.video.curVideoTime=d.Now.time,Laya.Browser.onMiniGame)if(this.video&&this.video.instance){var o=e=>{e&&e.isEnded||void 0===e?(l.showTips("观看完成，获得奖励!"),O.playMusic(),a&&a(e)):(i&&i(e),O.playMusic(),l.showTips("观看完整广告才可以领取奖励!")),this.video.instance.offClose(o)};this.video.instance.show().catch(e=>{console.log(`广告播放失败：${e},准备重新加载`),this.video.instance.load().then(()=>this.video.instance.show().catch(()=>{l.showTips("暂无广告！!")}))}),this.video.instance.onClose(o)}else console.log("广告不存在！");else l.showTips("展示视频广告失败，不在微信上!")}else a&&a()}showInterstCloseSceneCheck(e){if(Laya.Browser.onWeiXin)for(let t=0;t<this.interst.showCloseScenesLaterArr.length;t++){if(this.interst.showCloseScenesLaterArr[t]==e){this.interst&&this.interst.instance&&this.interst.instance.show().catch(e=>{console.error("插屏广告展示失败！",e)});break}}}loadInterst(e){this.interst=e,this.interst.adUnitId&&(this.interst.instance=Laya.Browser.window.wx.createInterstitialAd({adUnitId:this.interst.adUnitId}),this.interst.instance.onLoad(()=>{console.log("插屏广告加载成功",this.interst)}),this.interst.instance.onError(e=>{console.error("插屏广告加载失败:"+JSON.stringify(e))}),this.interst.instance.onClose(e=>{console.log("插屏广告加载关闭:"+JSON.stringify(e)),this.interst.closeCb&&this.interst.closeCb()}))}}class r{constructor(e,t){this.shareTattle="",this.shareImgUrl="",this.shareTattle=e,this.shareImgUrl=t,this.onShareAppMessage()}share(e){Laya.Browser.window.wx?Laya.Browser.window.wx.shareAppMessage({title:this.shareTattle,imageUrl:this.shareImgUrl}):Laya.Browser.onMiniGame||e&&e()}onShareAppMessage(){Laya.Browser.onMiniGame&&(Laya.Browser.window.wx.showShareMenu({withShareTicket:!0}),Laya.Browser.window.wx&&Laya.Browser.window.wx.onShareAppMessage(()=>({title:this.shareTattle,imageUrl:this.shareImgUrl})))}}e.shakeShort=function(){Laya.Browser.onMiniGame&&wx.vibrateShort({success:()=>{},fail:()=>{},complete:()=>{}})},e.shakeLong=function(){Laya.Browser.onMiniGame&&wx.vibrateLong({success:()=>{},fail:()=>{},complete:()=>{}})}}(n||(n={})),function(e){e.LwgEffects="Lwg/Effects",e.LwgUI="Lwg/UI",e.Init="Init/",e.GameUI="Game/UI/",e.GameSound="Game/Sound/",e.GameData="GameData/",e.Skeleton="GameData/",e.Views="Views/",e.ViewsBase="Views/Base/",e.Scene3D="Game3D/Scene3D/",e.Prefab3D="Game3D/Prefab3D/"}(a||(a={})),function(e){e.Init=class{constructor(t,o,r,s){e.Game=new a(t,o,r,s),e.Login=new n,e.Player=new i}get LwgControl(){return"LwgControl"}};class n{constructor(){const e=new Date;this.info=g.arrayArray("Login/info"),this.info.value.push([e.getFullYear(),e.getMonth()+1,e.getDate(),e.getDay(),e.getHours(),e.getMinutes(),e.getSeconds()]);let t=[];if(this.info.value.length>0)for(let e=0;e<this.info.value.length;e++)t.push(this.info.value[e]);t.push([e.getFullYear(),e.getMonth()+1,e.getDate(),e.getDay(),e.getHours(),e.getMinutes(),e.getSeconds()]),this.info.value=t,this.totalNum++,this.todayNum++}get totalNum(){return Laya.LocalStorage.getItem("Login/totalNum")?Number(Laya.LocalStorage.getItem("Login/totalNum")):0}set totalNum(e){Laya.LocalStorage.setItem("Login/totalNum",e.toString())}get todayNum(){return Laya.LocalStorage.getItem("Login/todayNum")?Number(Laya.LocalStorage.getItem("Login/todayNum")):0}set todayNum(e){d.Now.date==this.info.value[this.info.value.length-1][2]&&Laya.LocalStorage.setItem("Login/todayNum",e.toString())}get dayBefore(){const e=this.info.value,t=e[e.length-1][1];let n=!1;for(let a=e.length-1;a<0;a--){const i=e[a][1];if(i!==t)return n=!0,i}if(!n)return(new Date).getDate()}get frontDate(){return this.info.value.length>=2?this.info.value[this.info.value.length-2][2]:this.info.value[this.info.value.length-1][2]}get lastdayComparisonToday(){return this.frontDate==d.Now.date}}e._Login=n;class a{constructor(e,n,a,i){this.levelLoop=-1,this.levelLoopSection=[-1,-1],this.levelLoop=e,t.type==t.EmType.Exploit||t.type==t.EmType.ExploitNoAD&&a?Laya.Stat.show():Laya.Stat.hide(),Laya.MouseManager.multiTouchEnabled=i}get pause(){return this._pause}set pause(e){e?(this._pause=!1,m.onOff=!1,b.Filter.setValue(b.EmfilterType.all)):(this._pause=!0,m.onOff=!0,b.Filter.setValue(b.EmfilterType.none))}get level(){let e=Laya.LocalStorage.getItem("Game/level");return e?Number(e):(Laya.LocalStorage.setItem("Game/level",1..toString()),1)}set level(e){const t=e-(Laya.LocalStorage.getItem("Game/level")?Number(Laya.LocalStorage.getItem("Game/level")):1);t>0&&(this.levelDisplay+=t),-1!=this.levelLoop&&e>=this.levelLoop?-1!==this.levelLoopSection[0]?Laya.LocalStorage.setItem("Game/level",this.levelLoopSection[0].toString()):Laya.LocalStorage.setItem("Game/level",1..toString()):(Laya.LocalStorage.setItem("Game/level",e.toString()),e<=this.levelLoop&&(this.levelDisplay=e))}get levelDisplay(){return Laya.LocalStorage.getItem("Game/levelDisplay")?Number(Laya.LocalStorage.getItem("Game/levelDisplay")):this.level}set levelDisplay(e){Laya.LocalStorage.setItem("Game/levelDisplay",e.toString())}}class i{constructor(e){this._NAME="You",this._NAME=e}get NAME(){return g.string("Player/NAME",null,this._NAME).value}set NAME(e){g.string("Player/NAME").value=e}get level(){return g.number("Player/level",null,1).value}set level(e){g.number("Player/level").value=e}get empirical(){return g.number("Player/empirical",null,0).value}set empirical(e){g.number("Player/empirical").value=e}}}(i||(i={})),function(t){let i,o,l;t.Init=class{constructor(e){t.sceneScript=e.sceneScript,e.sceneOpenAniType&&(t.commSceneOpenAniType=e.sceneOpenAniType),e.overlaySceneOpenAnitype&&(t.commOverlaySceneOpenAniType=e.overlaySceneOpenAnitype),e.overlaySceneCloseAnitype&&(t.commOverlaySceneCloseAniType=e.overlaySceneCloseAnitype),t.sceneParent=new Laya.Sprite,t.sceneParent.name=i.sceneParent,t.sceneParent.zOrder=10,t.sceneParent.size(Laya.stage.width,Laya.stage.height),Laya.stage.addChild(t.sceneParent),t.baseViewObjParent=new Laya.Sprite,t.baseViewObjParent.name=i.baseViewObjParent,t.baseViewObjParent.zOrder=11,t.baseViewObjParent.size(Laya.stage.width,Laya.stage.height),t.baseViewObjParent.mouseThrough=!0,Laya.stage.addChild(t.baseViewObjParent),t.commonViewParent=new Laya.Sprite,t.commonViewParent.name=i.commonViewParent,t.commonViewParent.zOrder=12,t.commonViewParent.size(Laya.stage.width,Laya.stage.height),t.commonViewParent.mouseThrough=!0,Laya.stage.addChild(t.commonViewParent)}get LwgScene(){return"LwgScene"}},t.sceneControl={},function(e){e.sceneParent="sceneParent",e.commonViewParent="commonViewParent",e.baseViewObjParent="baseViewObjParent"}(i=t.EmSceneParent||(t.EmSceneParent={})),t.sceneScript={},t.openSceneTrack=[];class d{}function closeAllExceptSelf(e){for(const n in t.sceneControl)if(Object.prototype.hasOwnProperty.call(t.sceneControl,n)){const a=t.sceneControl[n];a.name!==e&&a.close()}}function addSceneInStage(e,n,a,o,r,s){if(e){const l=addDefaultScript(e,s);let c;if(l&&(l.isOverlay=a,l.openData=n||{},l.showReturnBtn=o,e[e.name]=l),(c=r===i.commonViewParent?t.commonViewParent:r===i.baseViewObjParent?t.baseViewObjParent:t.sceneParent).getChildByName(e.name))return console.log(`场景${e.name}重复出现，请检查代码，可能是按钮点击多次！`),void b.Filter.setValue(b.EmfilterType.all);t.sceneControl[e.name]=e,c.addChild(e)}}function addDefaultScript(e,n){let a,i=!1;for(const o in t.sceneScript)if(Object.prototype.hasOwnProperty.call(t.sceneScript,o)){const r=t.sceneScript[o];if((n&&o===n||o===e.name)&&!e.getComponent(r))return i=!0,a=e.addComponent(r)}i||console.log(`${e.name}场景没有同名脚本！,需在LwgInit脚本中导入该脚本！`)}function goSceneOpenAni(e,n){const a=e[e.name],i=e.name;var o=()=>{n&&n.close(),!a.isOverlay&&closeAllExceptSelf(i),openAniAfterCommCb(a)};if(a){let i=a.lwgOpenAni();i?Laya.timer.once(i,this,o):r.playSceneOpen(t.commSceneOpenAniType,e,n,o)}}function goOverlaySceneOpenAni(e){const n=e[e.name];r.playOverlaySceneOpen(t.commOverlaySceneOpenAniType,e,()=>{openAniAfterCommCb(n)})}function goOverlaySceneCloseAni(e){b.Filter.setValue(b.EmfilterType.none),r.playOverlaySceneClose(t.commOverlaySceneCloseAniType,e,()=>{closeAniAfterCommCb(e)})}function goCommonDialogOpenAni(e){const t=e[e.name],n=t.Doalog[t.openAnitype];n.play(0,!1),n.once(Laya.Event.COMPLETE,this,()=>{openAniAfterCommCb(t)})}function goCommonDialogCloseAni(e){b.Filter.setValue(b.EmfilterType.none);const t=e[e.name],n=t.Doalog[t.closeAniType];n.play(0,!1),n.once(Laya.Event.COMPLETE,this,()=>{closeAniAfterCommCb(e)})}function openAniAfterCommCb(e){b.Filter.setValue(b.EmfilterType.all),t.lastSceneName=e.owner.name,e.setViewShowByOpen(),e.lwgButton(),e.openNum++,e.lwgOpenAniAfter(),u.notify(u.BaseEvent.openSceneAniAfter,[e.owner.name,e.openNum])}function closeAniAfterCommCb(e){e.close(),b.Filter.setValue(b.EmfilterType.all)}function lodeScene(e,t){b.Filter.setValue(b.EmfilterType.none);let n=d[e]?a.ViewsBase:a.Views;Laya.Scene.load(`${n}${e}.json`,Laya.Handler.create(this,function(n){n.name=e,t&&t(n)}))}function openScene(e,n,a,i,o){lodeScene(e,r=>{!i&&t.openSceneTrack.push(e),addSceneInStage(r,a,!1,o),goSceneOpenAni(r,t.sceneControl[n])})}function openOverlayScene(e,t){lodeScene(e,e=>{addSceneInStage(e,t,!0),goOverlaySceneOpenAni(e)})}function clearScene(e){Laya.Tween.clearAll(e),Laya.timer.clearAll(e),u.offAllCaller(e)}d.Init="Init",d.PreLoad="PreLoad",d.PreLoadCutIn="PreLoadCutIn",d.Guide="Guide",d.CommonDialog="CommonDialog",d.GameManager="GameManager",d.Start="Start",d.Set="Set",d.DialogHint="DialogHint",t.NameBase=d,t.returnToPreviousScene=function(){if(t.openSceneTrack.length>=2&&t.openSceneTrack[t.openSceneTrack.length-2]!==d.PreLoad){const e=t.openSceneTrack[t.openSceneTrack.length-2],n=t.openSceneTrack[t.openSceneTrack.length-1];if(e===n)return void console.log("返回按钮设置有问题，只能指向start使用！");t.openSceneTrack.pop(),openScene(e,n,null,!0),e===d.Start&&(t.openSceneTrack=[d.Start])}},t.closeAllExceptSelf=closeAllExceptSelf,t.upSceneZOder=function(e){let n=0;for(const e in t.sceneControl)if(Object.prototype.hasOwnProperty.call(t.sceneControl,e)){const a=t.sceneControl[e];a.parent&&(a.zOrder=0,n++)}e&&(e.zOrder=n)},t.addSceneInStage=addSceneInStage,t.addDefaultScript=addDefaultScript,t.goSceneOpenAni=goSceneOpenAni,t.goOverlaySceneOpenAni=goOverlaySceneOpenAni,t.goOverlaySceneCloseAni=goOverlaySceneCloseAni,t.goCommonDialogOpenAni=goCommonDialogOpenAni,t.goCommonDialogCloseAni=goCommonDialogCloseAni,t.findNodeBelongToScene=function(e){return e.parent==t.sceneParent?e:this.findNodeBelongToScene(e.parent)},t.preLoadInfo={openName:null,fromName:null,openIsOverlay:null,dataOpen:null},t.openSceneAndPreLoad=function(e,n,a,i){t.preLoadInfo.openName=e,t.preLoadInfo.fromName=n,t.preLoadInfo.openIsOverlay=a,openOverlayScene(d.PreLoadCutIn,i)},t.openScene=openScene,t.openOverlayScene=openOverlayScene,t.openOverlayOtherParentView=function(e,n,a){lodeScene(e,e=>{t.addSceneInStage(e,a,!0,!1,n),goOverlaySceneOpenAni(e)})},t.openCommonDialog=function(e,t,n){lodeScene(d.CommonDialog,n=>{addSceneInStage(n,t,!0,!1,null,e),goCommonDialogOpenAni(n),Laya.Scene.load(`${a.Views}${e}.json`,Laya.Handler.create(this,function(e){n.ViewBox.addChild(e),n.ViewBox.size(e.width,e.height),n.content.size(n.ViewBox.width+40,n.ViewBox.height+200),b.btnOnceUp(n.BtnClose,this,()=>{goCommonDialogCloseAni(n)})}))})},t.closeOverlayScene=function(e){if(e){const t=e[e.name];t.isOverlay?(t.lwgClearOwner(),goOverlaySceneCloseAni(e)):console.log("只有叠加在场景上面的场景可以自由关闭，否则请使用打开另一个场景，基础场景会自动关闭！")}},t.clearScene=clearScene;class m extends Laya.Script{constructor(){super(...arguments),this.ownerSceneName=""}lwgOnAwake(){}lwgAdaptive(){}lwgEvent(){}evRegister(e,t){u.register(e,this,t)}evRegisterOnce(e,t){u.registerOnce(e,this,t)}evNotify(e,t){u.notify(e,t)}lwgOnEnable(){}lwgOnStart(){}lwgButton(){}btnOnDown(e,t,n){b.btnOnDown(e,this,t,n)}btnOnDownAD(e,t,n){b.btnOnDownAD(e,this,t,n)}btnOnceDownAD(e,t,n){b.btnOnceDownAD(e,this,t,n)}btnOnMove(e,t,n){b.btnOnMove(e,this,t,n)}btnOnUp(e,t,n){b.btnOnUp(e,this,t,n)}btnOnUpAD(e,t,n){b.btnOnUpAD(e,this,t,n)}btnOnceUpAD(e,t,n){b.btnOnceUpAD(e,this,t,n)}btnOnUpADCondition(e,t,n,a,i){b.btnOnUpADCondition(e,this,t,n,a,i)}btnOnceUpADCondition(e,t,n,a,i){b.btnOnceUpADCondition(e,this,t,n,a,i)}btnOnOut(e,t,n){b.btnOnOut(e,this,t,n)}btnOff(e,t,n){b.off(e)}btnOnFour(e,t,n,a,i,o){b.on(o,e,this,t,n,a,i)}btnOnceDown(e,t,n){b.once(n,e,this,t,null,null,null)}btnOnceMove(e,t,n){b.once(n,e,this,null,t,null,null)}btnOnceUp(e,t,n){b.once(n,e,this,null,null,t,null)}btnOnceUpADByCondition(e,t,a,i){b.once(i,e,this,null,null,()=>{t?n.AD.showVideo(()=>{a&&a()}):a&&a()},null)}btnOnceOut(e,t,n){b.once(n,e,this,null,null,null,t)}btnOnceFour(e,t,n,a,i,o){b.once(o,e,this,t,n,a,i)}openScene(e,n,a,i){this.lwgClearOwner(),a?t.openSceneAndPreLoad(e,this.owner.name,!1,n):t.openScene(e,this.owner.name,n,a,i)}lwgClearOwner(){}openOverlayScene(e,n,a){a?t.openSceneAndPreLoad(e,this.owner.name,!0,n):t.openOverlayScene(e,n)}openCommonDialog(e,n,a){t.openCommonDialog(e,n,a)}lwgOnUpdate(){}lwgOnDisable(){}onStageMouseDown(e){b.Filter.checkStage()&&this.lwgOnStageMouseDown(e)}onStageMouseMove(e){b.Filter.checkStage()&&this.lwgOnStageMouseMove(e)}onStageMouseUp(e){b.Filter.checkStage()&&this.lwgOnStageMouseUp(e)}lwgOnStageMouseDown(e){}lwgOnStageMouseMove(e){}lwgOnStageMouseUp(e){}}class p extends m{constructor(){super()}get openNum(){return g.number(`${this.owner.name}/openNum`).value}set openNum(e){g.number(`${this.owner.name}/openNum`).value=e}onAwake(){this.showReturnBtn&&c.ReturnBtn.show(),this.setWH(),this.setBg(),this.lwgOnAwake(),this.lwgAdaptive()}setWH(){this.owner.width=Laya.stage.width,this.owner.height=Laya.stage.height}setBg(){this.owner.getChildByName("background")&&(this.owner.getChildByName("background").width=Laya.stage.width,this.owner.getChildByName("background").height=Laya.stage.height),this.owner.background&&(this.owner.background.width=Laya.stage.width,this.owner.background.height=Laya.stage.height)}onEnable(){this.lwgEvent(),this.lwgOnEnable()}onStart(){this.lwgOnStart()}setViewShowByOpen(){h.Gold.showInSceneCheck(this.owner.name),h.Stamina.showInSceneCheck(this.owner.name),h.Diamond.showInSceneCheck(this.owner.name),c.BtnGameManager.showInSceneCheck(this.owner.name),n.AD&&n.AD.setShowInScenes(this.owner.name)}lwgOpenAni(){return null}lwgOpenAniAfter(){}adaptiveHeight(e){y.stageHeight(e)}adaptiveWidth(e){y.stageWidth(e)}adaptiveCenter(e){y.center(e,Laya.stage)}onUpdate(){this.lwgOnUpdate()}closeScene(e){let n;n=e?t.sceneControl[e]:this.owner,t.closeOverlayScene(n)}lwgCloseAni(){return null}lwgClearOwner(){clearScene(this),clearScene(this.owner)}setViewShowByClose(){this.owner.name!==d.PreLoadCutIn&&(n.AD.showInterstCloseSceneCheck(this.owner.name),this.isOverlay&&(n.AD.setHideInScenes(this.owner.name),h.Gold.hideInSceneCheck(),h.Diamond.hideInSceneCheck(),h.Stamina.hideInSceneCheck(),c.BtnGameManager.hideInSceneCheck()))}onDisable(){this.setViewShowByClose(),this.lwgClearOwner(),this.lwgOnDisable()}}t.SceneBase=p,function(e){e.none="none",e.open_popup="open_popup",e.open_popupRotate="open_popupRotate"}(o=t.EmDialogCommonOpenAniType||(t.EmDialogCommonOpenAniType={})),function(e){e.none="none",e.close_shrink="close_shrink"}(l=t.EmDialogCommonCloseAniType||(t.EmDialogCommonCloseAniType={}));t.CommonDialogBase=class extends p{constructor(){super(...arguments),this.openAnitype=o.open_popup,this.closeAniType=l.close_shrink}get Doalog(){return this.owner}onAwake(){this.setWH(),this.setBg(),this.lwgOnAwake(),this.lwgAdaptive()}};t.ObjectBase=class extends m{constructor(){super()}clearAndDestroy(){this.lwgClearOwner(),this._owner.destroy()}get _owner(){return this.owner}get presentPoint(){return new Laya.Point(this._owner.x,this._owner.y)}get ownerScene(){return this.owner.scene}onAwake(){s.addProperty(this._owner),this._owner[this._owner.name]=this,this.ownerSceneName=this._owner.name,this.lwgOnAwake(),this.lwgAdaptive()}onEnable(){this.lwgButton(),this.lwgEvent(),this.lwgOnEnable()}onStart(){this.lwgOnStart()}onUpdate(){this.lwgOnUpdate()}lwgClearOwner(){clearScene(this),clearScene(this.owner)}onDisable(){this.lwgClearOwner(),this.lwgOnDisable()}};t.ViewObjBase=class{constructor(){this.viewNameByUI="",this.style={x:4,y:46},this.aniTime=100,this.appearScene=[],this.showRrackArray=[]}show(e=this.style,n=this.aniTime,a=t.baseViewObjParent){this.createView(e,a),this.showAni(n)}showInSceneCheck(e){let t=!1;for(let n=0;n<this.appearScene.length;n++)if(this.appearScene[n]==e){t=!0;break}t?(this.show(),this.showRrackArray.push({sceneName:e,show:!0})):(this.hide(),this.showRrackArray.push({sceneName:e,show:!1}))}hideInSceneCheck(){this.showRrackArray.pop(),this.showRrackArray.length>0&&this.showRrackArray[this.showRrackArray.length-1].show?this.show():this.hide()}createView(n,a=Laya.stage){this.view||(this.view=new e.Views.Base[this.viewNameByUI],this.view.visible=!1,this.view.zOrder=100,this.createCb()),a?a.addChild(this.view):t.commonViewParent.addChild(this.view),n.x&&(this.view.x=n.x),n.y&&(this.view.y=n.y),n.left&&(this.view.left=n.left),n.right&&(this.view.right=n.right),n.centerX&&(this.view.centerX=n.centerX),n.centerY&&(this.view.centerY=n.centerY)}createCb(){}showAni(e){this.view.visible?this.showCb():e&&(this.view.visible=!0,e?v.scale_Alpha(this.view,0,1,1,1,1,1,e,0,()=>{this.showCb()}):this.showCb())}showCb(){}move(e,t,n=200,a=0,i=null){v.move(this.view,e,t||this.view.y,n,()=>{i&&i()},a)}hide(e,t=null){this.view&&(e?v.scale_Alpha(this.view,1,1,1,1,1,0,this.aniTime,0,()=>{this.view.visible=!1,this.hideCb(),t&&t()}):(this.view.visible=!1,this.hideCb(),t&&t()))}hideCb(){}};t.RuntimeImgBase=class extends Laya.Image{onAwake(){this.lwgOnAwake()}lwgOnAwake(){}onDisable(){this.lwgClear(),this.lwgOnDisable()}lwgOnDisable(){}lwgClear(){clearScene(this)}};t.RuntimeImgViwe=class extends Laya.View{onAwake(){this.lwgOnAwake()}lwgOnAwake(){}onDisable(){this.lwgClear(),this.lwgOnDisable()}lwgOnDisable(){}lwgClear(){Laya.Tween.clearAll(this),Laya.timer.clearAll(this),u.offAllCaller(this)}}}(o||(o={})),function(e){let t,n,a,i,o,r;!function(e){e.fadeOut_openLaterClose="fadeOut_openLaterClose",e.fadeOut_closeLaterOpen="fadeOut_closeLaterOpen"}(t=e.EmOpenSceneType||(e.EmOpenSceneType={})),function(e){e.fadeOut_commonFadeOut="fadeOut_commonFadeOut"}(n=e.EmOpenOverlayType||(e.EmOpenOverlayType={})),function(e){e.fadeOut_commonFadeOut="fadeOut_commonFadeOut"}(a=e.EmCloseOverlayType||(e.EmCloseOverlayType={})),e.playSceneOpen=function(e=t.fadeOut_openLaterClose,n,a,o){const r=e.split("_");i[r[0]][r[1]](n,a,o)},e.playOverlaySceneOpen=function(e=n.fadeOut_commonFadeOut,t,a){const i=e.split("_");o[i[0]][i[1]](t,a)},e.playOverlaySceneClose=function(e=a.fadeOut_commonFadeOut,t,n){const i=e.split("_");r[i[0]][i[1]](t,n)},function(e){e.fadeOut=class{static openLaterClose(e,t,n){return e.background&&v.fadeOut(e.background,0,1,50),v.fadeOut(e,0,1,100,0,()=>{t&&t.close(),n&&n()}),100}static closeLaterOpen(e,t,n){return e.Background&&v.fadeOut(t.Background,1,0,100),v.fadeOut(e,1,0,200,100,()=>{t&&t.close(),n&&n()}),300}}}(i||(i={})),function(e){e.fadeOut=class{static commonFadeOut(e,t){return i.fadeOut.openLaterClose(e,null,t)}};e.Popup=class{static QBounce(e,t){}}}(o||(o={})),function(e){e.fadeOut=class{static commonFadeOut(e,t){return v.fadeOut(e,1,0,300,0,()=>{e&&e.close(),t&&t()}),300}};e.PinchIn=class{static commonPinchIn(e,t){}}}(r||(r={}))}(r||(r={})),function(e){e.Sprite=class extends Laya.Sprite{};e.Image=class extends Laya.Image{};e._Box=class extends Laya.Box{},e.addProperty=function(e,t){if(!e)return;let n,a=()=>e.parent?e.parent.localToGlobal(new Laya.Point(e.x,e.y)):null;n={get gPoint(){return a()},fPoint:new Laya.Point(e.x,e.y),fGPoint:a(),fRotation:e.rotation,getDisByNode(t){const n=a();if(n&&t.parent){let a=t.parent.localToGlobal(new Laya.Point(e.x,e.y));return n.distance(a.x,a.y)}return null},getGlobleDisByPoint:e=>a().distance(e.x,e.y),getLocalDisByPoint:t=>new Laya.Point(e.x,e.y).distance(t.x,t.y),getChildGPoint(t){const n=new Laya.Point(t.x,t.y);return e.localToGlobal(n)}},e.lwg=n}}(s||(s={})),function(t){let n,i,r;n=t.EmFloatWordAniType||(t.EmFloatWordAniType={});t.FloatWord=class{static createFontSystem(t,n,a,i,o=!0,r){const s=new e.Views.Base.FloatFontSystemObjUI,l=i||1;return s.scale(l,l),Laya.stage.addChild(s),s.pos(t,n),s.lbContent.text=a.content,a.color&&(s.lbContent.color=a.color),a.size&&s.lbContent.size(a.size,a.size),o||(s.imgIcon.visible=!1),a.stroke&&(s.lbContent.stroke=a.stroke),a.strokeColor&&(s.lbContent.strokeColor=a.strokeColor),s.ani1.on(Laya.Event.LABEL,this,e=>{"end"==e&&s.destroy()}),s}static createFontArt(e,t,n,a,i=!0,o){}static createFontArtNum(e,t,n,a,i=!0,o){}},function(e){e.Single="Single",e.Double="Double",e.Check="Check"}(i=t.EmDialogHint||(t.EmDialogHint={})),t.openDialogHint=function(e){Laya.Scene.load(`${a.ViewsBase}${o.NameBase.DialogHint}.json`,Laya.Handler.create(this,t=>{t.name=o.NameBase.DialogHint,o.addSceneInStage(t,e,!0,!1,o.EmSceneParent.commonViewParent),t.zOrder=o.sceneParent.zOrder+1,o.goOverlaySceneOpenAni(t)}))},function(e){e.blackBord="Lwg/UI/img_rectangle_mask_06.png"}(r||(r={})),t.showTips=function(e){const t=Laya.Pool.getItemByClass("CommonTips",Laya.Sprite);t.name="CommonTips",Laya.stage.addChild(t),t.width=Laya.stage.width,t.height=100,t.pivotY=t.height/2,t.pivotX=Laya.stage.width/2,t.x=Laya.stage.width/2,t.y=Laya.stage.height/2,t.zOrder=100;const n=new Laya.Image;t.addChild(n),n.skin=r.blackBord,n.width=Laya.stage.width,n.pivotX=Laya.stage.width/2,n.height=100,n.pivotY=n.height/2,n.y=t.height/2,n.x=Laya.stage.width/2,n.alpha=.6;const a=new Laya.Label;t.addChild(a),a.width=Laya.stage.width,a.text=e,a.pivotX=Laya.stage.width/2,a.x=Laya.stage.width/2,a.height=100,a.pivotY=50,a.y=t.height/2,a.bold=!0,a.fontSize=35,a.color="#ffffff",a.align="center",a.valign="middle",a.alpha=0,v.scale_Alpha(t,0,1,0,1,1,1,200,0,()=>{v.fadeOut(a,0,1,150,0,()=>{v.fadeOut(a,1,0,200,800,()=>{v.scale_Alpha(t,1,1,1,1,0,0,200,0,()=>{t.removeSelf()})})})})}}(l||(l={})),function(e){e.Init=class{constructor(a){e.ReturnBtn=new n,e.BtnGameManager=new i,e.ReturnBtn.appearScene=a.ReturnBtn.appearScene,t.type===t.EmType.Exploit||t.type===t.EmType.ExploitNoAD?e.BtnGameManager.appearScene=a.BtnGameManager.appearScene:e.BtnGameManager.appearScene=[]}get LwgCommon(){return"LwgCommon"}};class n extends o.ViewObjBase{constructor(){super(...arguments),this.viewNameByUI="ReturnBtnObjUI"}static get ins(){return this._ins||(this._ins=new n),this._ins}createCb(){b.on(b.effectType,this.view,this,null,null,()=>{o.returnToPreviousScene()})}}e._BtnReturn=n;class i extends o.ViewObjBase{constructor(){super(...arguments),this.viewNameByUI="GameManagerBtnObjUI",this.style={right:20,bottom:20}}static get ins(){return this._ins||(this._ins=new i),this._ins}createCb(){b.on(b.effectType,this.view,this,null,null,()=>{Laya.stage.getChildByName(o.NameBase.GameManager)||Laya.Scene.load(`${a.ViewsBase}${o.NameBase.GameManager}.json`,Laya.Handler.create(this,e=>{e.name=o.NameBase.GameManager,o.addSceneInStage(e,null,!0,!1,o.EmSceneParent.commonViewParent),o.goOverlaySceneOpenAni(e)}))})}}e._GameManagerBtn=i}(c||(c={})),function(e){let t;e.Init=class{constructor(t){e.Gold=new a(t.Gold),e.Diamond=new i(t.Diamond),e.Stamina=new r(t.Stamina)}get name(){return"LwgCurrency"}},function(e){e[e["Lwg/UI/img_corner_12.png"]=0]="Lwg/UI/img_corner_12.png"}(t||(t={}));class n extends o.ViewObjBase{constructor(){super(...arguments),this.viewNameByUI="GoldObjUI",this.initialNum=0}get num(){return this._num}set num(e){this._num=e}createCb(){this.view.num.text=this.num.toString(),b.on(b.EmEffectType.NoEffect,this.view,this,e=>{e.stopPropagation()},null,e=>{e.stopPropagation(),b.Filter.checkBtn(this.view)&&this.btnAddClick&&this.btnAddClick()}),u.notify(u.BaseEvent.redDotHint)}updateNumOnNode(){const e=this.view.num;e.sheet?e.value=this.num.toString():e.text=this.num.toString()}addNumDisPlayNode(e){this.num+=e,this.updateNumOnNode()}subNumDisPlayNode(e){this.num-=e,this.updateNumOnNode()}addDisPlayNode(e){const t=this.view.getChildByName("Num");t.sheet?t.value=(Number(t.value)+e).toString():t.text=(Number(t.text)+e).toString()}addNumNoDisPlayNode(e){this.num+=Number(e)}createOne(e,n,a){const i=Laya.Pool.getItemByClass("addGold",Laya.Image);return i.name="addGold",i.alpha=1,i.zOrder=60,i.width=e,i.height=n,i.pivotX=e/2,i.pivotY=n/2,i.skin=a||t[0],this.view&&(i.zOrder=this.view.zOrder+10),i}playGetSingleAni(e,t,n,a,i,o,r,s,l){for(let c=0;c<t;c++)Laya.timer.once(30*c,this,()=>{const h=this.createOne(n,a,i);e.addChild(h),v.move_Scale(h,1,o.x,o.y,r.x,r.y,1,500,0,Laya.Ease.cubicInOut,()=>{O.playSound(O.getMoneyUrl),c===t-1?Laya.timer.once(300,this,()=>{l&&l()}):s&&s(),h.removeSelf()})})}playGetHeapAni(e,n,a,i,o,r,s,l,c=!0){for(let h=0;h<n;h++){const u=this.createOne(a[0]?a[0]:60,a[1]?a[1]:60,i||t[0]);(e=e||Laya.stage).addChild(u),o=o||new Laya.Point(Laya.stage.width/2,Laya.stage.height/2),r=r||new Laya.Point(this.view.x+this.view.icon.x,this.view.y+this.view.icon.y);let d=1==Math.floor(2*Math.random())?o.x+100*Math.random():o.x-100*Math.random(),m=1==Math.floor(2*Math.random())?o.y+100*Math.random():o.y-100*Math.random();v.move_Scale(u,.5,o.x,o.y,d,m,1,300,100*Math.random()+100,Laya.Ease.cubicOut,()=>{v.move_Scale(u,1,u.x,u.y,r.x,r.y,1,400,200*Math.random()+100,Laya.Ease.cubicOut,()=>{c&&O.playSound(O.getMoneyUrl),h===n-1?Laya.timer.once(200,this,()=>{l&&l()}):s&&s(),u.destroy(!0)})})}}}class a extends n{constructor(e){super(),this.viewNameByUI="GoldObjUI",this.appearScene=e.appearScene,this.initialNum=e.initialNum?e.initialNum:0,e.btnAddClick&&(this.btnAddClick=e.btnAddClick)}get num(){return Laya.LocalStorage.getItem("Gold/num")?Number(Laya.LocalStorage.getItem("Gold/num")):this.initialNum}set num(e){e=Math.round(e),Laya.LocalStorage.setItem("Gold/numm",e.toString()),u.notify(u.BaseEvent.redDotHint)}}class i extends n{constructor(e){super(),this.viewNameByUI="DiamondObjUI",this.style={x:4,y:46},this.appearScene=e.appearScene,this.initialNum=e.initialNum?e.initialNum:0,e.btnAddClick&&(this.btnAddClick=e.btnAddClick)}get num(){return Laya.LocalStorage.getItem("Diamond/num")?Number(Laya.LocalStorage.getItem("Diamond/num")):this.initialNum}set num(e){e=Math.round(e),Laya.LocalStorage.setItem("Diamond/num",e.toString()),u.notify(u.BaseEvent.redDotHint)}}class r extends n{constructor(e){super(),this.maxNum=100,this.initialNum=50,this.addOnceByTime=3e5,this.addNumByTime=5,this.viewNameByUI="StaminaObjUI",this.style={x:174,y:46},this.appearScene=e.appearScene,this.initialNum=e.initialNum,this.maxNum=e.maxNum,this.addOnceByTime=e.addOnceByTime,this.addNumByTime=e.addNumByTime,e.btnAddClick&&(this.btnAddClick=e.btnAddClick)}get num(){return Laya.LocalStorage.getItem("Stamina/num")?Number(Laya.LocalStorage.getItem("Stamina/num")):this.initialNum}set num(e){e>this.maxNum&&(e=this.maxNum),e<0&&(e=0),e=Math.round(e),Laya.LocalStorage.setItem("Stamina/num",e.toString()),u.notify(u.BaseEvent.redDotHint)}showCb(){Laya.timer.clearAll(this),this.addRules()}hideCb(){Laya.timer.clearAll(this)}get lastAddTime(){return Laya.LocalStorage.getItem("Stamina/lastAddTime")||Laya.LocalStorage.setItem("Stamina/lastAddTime",d.Now.time.toString()),Number(Laya.LocalStorage.getItem("Stamina/lastAddTime"))}set lastAddTime(e){Laya.LocalStorage.setItem("Stamina/lastAddTime",e.toString())}addRules(){m.frameLoop(1,this,()=>{if(Number(this.num)>=this.maxNum)this.view.countDown.text="00:00",this.view.boxCountHint.visible=!1;else{this.view.boxCountHint.visible=!0;const e=d.Now.time-this.lastAddTime;if(d.Now.time-this.lastAddTime>this.addOnceByTime){const e=Math.round((d.Now.time-this.lastAddTime)/this.addOnceByTime)*this.addNumByTime;this.num+=e,this.lastAddTime=d.Now.time,this.view.countDown.text="00:00"}else{const t=d.getHMSByTime(e),n=this.addOnceByTime/1e3/60-t.minutes,a=59-t.seconds,i=a>=10?a:"0"+a;if(n>0){const e=n-1>=10?n-1:"0"+(n-1);this.view.countDown.text=`${e}:${i}`}else{const e=a>=10?a:"0"+a;this.view.countDown.text=`00:${e}`}}}this.view.num.text=this.num.toString()})}}}(h||(h={})),function(e){class t{}t.redDotHint="redDotHint",t.openScene="openScene",t.openSceneAniAfter="openSceneAniAfter",e.BaseEvent=t,e.dispatcher=new Laya.EventDispatcher,e.register=function(t,n,a){n||console.error("事件的执行域必须存在!"),e.dispatcher.on(t.toString(),n,a)},e.registerOnce=function(t,n,a){n||console.error("事件的执行域必须存在!"),e.dispatcher.once(t.toString(),n,a)},e.notify=function(t,n){e.dispatcher.event(t.toString(),n)},e.off=function(t,n,a){e.dispatcher.off(t.toString(),n,a)},e.offAll=function(t){e.dispatcher.offAll(t.toString())},e.offAllCaller=function(t){e.dispatcher.offAllCaller(t)}}(u||(u={})),function(e){function getHMSByTime(e){return{hours:+parseInt(`${e/36e5}`).toString(),minutes:+parseInt(`${e%36e5/6e4}`).toString(),seconds:+parseInt(`${e%6e4/1e3}`).toString()}}function getSumHoursByTime(e,t){const n=getHMSByTime(1e3*(Math.floor(t/1e3)-Math.floor(e/1e3)));return n.hours+60*n.minutes+3600*n.seconds}function getSumMinutesByTime(e,t){const n=getHMSByTime(1e3*(Math.floor(t/1e3)-Math.floor(e/1e3)));return 60*n.hours+n.minutes+n.seconds/60}function getSumSecondsByTime(e,t){const n=getHMSByTime(1e3*(Math.floor(t/1e3)-Math.floor(e/1e3)));return 3600*n.hours+60*n.minutes+n.seconds}e.Now=class{static get year(){return(new Date).getFullYear()}static get month(){return(new Date).getMonth()}static get date(){return(new Date).getDate()}static get day(){return(new Date).getDay()}static get hours(){return(new Date).getHours()}static get minutes(){return(new Date).getMinutes()}static get seconds(){return(new Date).getSeconds()}static get milliseconds(){return(new Date).getMilliseconds()}static get toLocaleDateString(){return(new Date).toLocaleDateString()}static get toLocaleTimeString(){return(new Date).toLocaleTimeString()}static get time(){return(new Date).getTime()}static getHoursDiffLastTime(e){return getSumHoursByTime(e,this.time)}static getMinutsDiffLastTime(e){return getSumMinutesByTime(e,this.time)}static getSecondsDiffLastTime(e){return getSumSecondsByTime(e,this.time)}static getHoursDiffNextTime(e){return getSumHoursByTime(this.time,e)}static getMinutsDiffNextTime(e){return getSumMinutesByTime(this.time,e)}static getSecondsDiffNextTime(e){return getSumSecondsByTime(this.time,e)}static getTimeByMilliseconds(e){return this.time+e}static getTimeByScends(e){return this.time+1e3*e}static getTimeByMinutes(e){return this.time+60*e*1e3}static getTimeByHours(e){return this.time+60*e*60*1e3}},e.getTimeByMillisecondsOntime=function(e,t){return e+t},e.getTimeByScendsOntime=function(e,t){return e+1e3*t},e.getTimeByMinutesOntime=function(e,t){return e+60*t*1e3},e.getTimeByHoursOntime=function(e,t){return e+60*t*60*1e3},e.getHMSByTime=getHMSByTime,e.getHMSFormatByTowTime=function(e,t){const n=getHMSByTime(1e3*(Math.floor(t/1e3)-Math.floor(e/1e3)));return(n.hours<10?"0"+n.hours:n.hours.toString())+":"+(n.minutes<10?"0"+n.minutes:n.minutes.toString())+":"+(n.seconds<10?"0"+n.seconds:n.seconds.toString())},e.getSumHoursByTime=getSumHoursByTime,e.getSumMinutesByTime=getSumMinutesByTime,e.getSumSecondsByTime=getSumSecondsByTime}(d||(d={})),function(e){e.onOff=!0,e.frameLoop=function(t,n,a,i,o,r){i&&e.onOff&&a(),Laya.timer.frameLoop(t,n,()=>{e.onOff&&a()},o,r)},e.frameRandomLoop=function(t,n,a,i,o,r,s){o&&e.onOff&&i();var l=()=>{let o=B.Num.randomOneInt(t,n);Laya.timer.frameOnce(o,a,()=>{e.onOff&&(i(),l())},r,s)};l()},e.frameNumLoop=function(t,n,a,i,o,r,s,l){if(r&&e.onOff&&i(),n<=0)return;let c=0;var h=()=>{e.onOff&&(++c>=n?(i(),o&&o(),Laya.timer.clear(a,h)):i())};Laya.timer.frameLoop(t,a,h,s,l)},e.numRandomLoop=function(t,n,a,i,o,r,s,l,c){if(s&&e.onOff&&o(),a<=0)return;let h=0;var u=()=>{let s=B.Num.randomOneInt(t,n);Laya.timer.frameOnce(s,i,()=>{e.onOff&&(++h>=a?(o(),r()):(o(),u()))},l,c)};u()},e.frameNumRandomLoop=function(t,n,a,i,o,r,s,l,c){if(e.onOff&&s&&o(),0===a)return;let h=0;var u=()=>{let s=B.Num.randomOneInt(t,n);Laya.timer.frameOnce(s,i,()=>{e.onOff&&(++h>=a?(o(),r&&r()):(o(),u()))},l,c)};u()},e.frameOnce=function(t,n,a,i,o,r){e.onOff&&i&&i(),Laya.timer.frameOnce(t,n,()=>{e.onOff&&a&&a()},o,r)},e.frameNumOnce=function(t,n,a,i,o,r,s){for(let l=0;l<n;l++)e.onOff&&o&&o(),Laya.timer.frameOnce(t,a,()=>{e.onOff&&i&&i()},r,s)},e.loop=function(t,n,a,i,o,r){e.onOff&&i&&a&&a(),Laya.timer.loop(t,n,()=>{e.onOff&&a()},o,r)},e.randomLoop=function(t,n,a,i,o,r,s){e.onOff&&o&&i&&i();var l=()=>{let o=B.Num.randomOneInt(t,n);Laya.timer.once(o,a,()=>{e.onOff&&(i(),l())},r,s)};l()},e.numLoop=function(t,n,a,i,o,r,s,l){e.onOff&&r&&i&&i();let c=0;var h=()=>{e.onOff&&(++c>n?(i(),o&&o(),Laya.timer.clear(a,h)):i())};Laya.timer.loop(t,a,h,s,l)},e.once=function(t,n,a,i,o,r){e.onOff&&i&&i(),Laya.timer.once(t,n,()=>{e.onOff&&a&&a()},o,r)}}(m||(m={})),function(e){e.Init=class{constructor(t,n){e.width=t,e.height=n}get LwgAdaptive(){return"LwgAdaptive"}},e.width=720,e.height=1280,e.Use={get value(){return this["Adaptive/value"]?this["Adaptive/value"]:null},set value(e){this["Adaptive/value"]=e}},e.stageWidth=function(t){for(let n=0;n<t.length;n++){const a=t[n];0==a.pivotX&&a.width?a.x=a.x/e.Use.value[0]*Laya.stage.width+a.width/2:a.x=a.x/e.Use.value[0]*Laya.stage.width}},e.stageHeight=function(t){for(let n=0;n<t.length;n++){const a=t[n];0==a.pivotY&&a.height?a.y=a.y/e.Use.value[1]*a.scaleX*Laya.stage.height+a.height/2:a.y=a.y/e.Use.value[1]*a.scaleX*Laya.stage.height}},e.center=function(e,t){for(let n=0;n<e.length;n++){const a=e[n];a.width>0?a.x=t.width/2-(a.width/2-a.pivotX)*a.scaleX:a.x=t.width/2,a.height>0?a.y=t.height/2-(a.height/2-a.pivotY)*a.scaleY:a.y=t.height/2}}}(y||(y={})),function(e){class t{removeSelf(){}func(){}}e.TpNumVariable=class extends t{};e.TpStrVariable=class extends t{};e.TpBoolVariable=class extends t{};e.TpArrayVariable=class extends t{};e.TpArrayArrVariable=class extends t{};e.Object=class extends t{},e.number=function(e,t,n){if(!this[`_num${e}`]){const t={get value(){return Laya.LocalStorage.getItem(e)?Number(Laya.LocalStorage.getItem(e)):(n=n||0,Laya.LocalStorage.setItem(e,n.toString()),n)},set value(t){Laya.LocalStorage.setItem(e,t.toString()),this.func()},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){this._func&&this._func()}};this[`_num${e}`]=t}return t&&(this[`_num${e}`]._func=t),this[`_num${e}`]},e.string=function(e,t,n){return this[`_str${e}`]||(this[`_str${e}`]={get value(){return Laya.LocalStorage.getItem(e)?Laya.LocalStorage.getItem(e):(n=n||null,Laya.LocalStorage.setItem(e,n.toString()),n)},set value(t){Laya.LocalStorage.setItem(e,t.toString()),this.func()},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){this._func&&this._func()}}),t&&(this[`_str${e}`]._func=t),this[`_str${e}`]},e.bool=function(e,t,n){return this[`_bool${e}`]||(this[`_bool${e}`]={get value(){return Laya.LocalStorage.getItem(e)?"false"!==Laya.LocalStorage.getItem(e)&&("true"===Laya.LocalStorage.getItem(e)||void 0):(n?Laya.LocalStorage.setItem(e,"true"):Laya.LocalStorage.setItem(e,"false"),this.func(),n)},set value(t){t=t?"true":"false",Laya.LocalStorage.setItem(e,t.toString())},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`_bool${e}`]._func=t),this[`_bool${e}`]},e.array=function(e,t,n){return this[`_array${e}`]||(this[`_array${e}`]={get value(){try{let t=Laya.LocalStorage.getJSON(e);return t?JSON.parse(t):(n=n||[],Laya.LocalStorage.setJSON(e,JSON.stringify(n)),this.func(),n)}catch(e){return[]}},set value(t){Laya.LocalStorage.setJSON(e,JSON.stringify(t))},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`_array${e}`]._func=t),this[`_array${e}`]},e.object=function(e,t,n){return this[`_obj${e}`]||(this[`_obj${e}`]={get value(){try{let t=Laya.LocalStorage.getJSON(e);return t?JSON.parse(t):(n=n||{},Laya.LocalStorage.setJSON(e,JSON.stringify(n)),this.func(),n)}catch(e){return{}}},set value(t){Laya.LocalStorage.setJSON(e,JSON.stringify(t))},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`_obj${e}`]._func=t),this[`_obj${e}`]},e.arrayArray=function(e,t,n){return this[`arrayArr${e}`]||(this[`arrayArr${e}`]={get value(){try{let t=Laya.LocalStorage.getJSON(e);return t?JSON.parse(t):(n=n||[],Laya.LocalStorage.setItem(e,n.toString()),n)}catch(e){return[]}},set value(t){Laya.LocalStorage.setJSON(e,JSON.stringify(t)),this.func()},removeSelf(){Laya.LocalStorage.removeItem(e)},func(){t&&t()}}),t&&(this[`arrayArr${e}`]._func=t),this[`arrayArr${e}`]}}(g||(g={})),function(e){class t{constructor(e){this.arr=[],this.arr=e}getObjByID(e){for(const t in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,t)){const n=this.arr[t];if(n.ID==e)return n}}eachDataArr(e,t){for(let n=0;n<this.arr.length;n++){const a=this.arr[n];e&&e(a,n),n==this.arr.length-1&&t&&t()}}getObjArrByProNameAndVal(e,t){const n=[];for(const a in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,a)){const i=this.arr[a];void 0!==i[e]&&i[e]===t&&n.push(i)}return n}getObjFirstByProNameAndVal(e,t){for(const n in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,n)){const a=this.arr[n];if(a[e]&&a[e]==t)return a}}}e.BaseTable=t;e.ItmeTable=class extends t{constructor(e){super(e)}getItemArrObjByID(e){const t=this.getObjByID(e),n=[],a=[],i=[];for(let e=1;e<200;e++){const o=t["item"+e];if(!o)break;{const r=t["number"+e],s=t["weight"+e];for(let e=0;e<o.length;e++){const t=o[e];if(t){const o=r[e],l=s[e];n.push(t),a.push(o),i.push(l)}}}}return{itemArr:n,numberArr:a,weightArr:i}}ranSuperpositionWeight(e){const t=this.getItemArrObjByID(e);let n=0;for(let e=0;e<t.weightArr.length;e++)n+=t.weightArr[e];let a=0;const i=Math.floor(Math.random()*n);let o,r;for(let e=0;e<t.weightArr.length;e++)if(0==e){if(0<i&&i<t.weightArr[e]){a=e;break}}else{o=0;for(let n=0;n<e;n++)o+=t.weightArr[n];r=0;for(let n=0;n<e+1;n++)r+=t.weightArr[n];if(i>=o&&i<r){a=e;break}}return{index:a,ID:t.itemArr[a],number:t.numberArr[a],weight:t.weightArr[a]}}getItemGroupObjByIndex(e,t){const n=this.getItemArrObjByID(e);return{index:t,ID:n.itemArr[t],number:n.numberArr[t],weight:n.weightArr[t]}}getRanItemIdArrByID(e,t){const n=this.getItemArrObjByID(e);for(let e=0;e<n.weightArr.length;e++)n.itemArr[e],Math.floor(100*Math.random())}};e.TasKTable=class{};e.EntiretyTable=class extends t{constructor(e,t=null,n=!0,a=!0,i,o){super(t),this.tableName="table",this.lastArr=[],this.localStorage=!1,e&&(this.tableName=e,n&&(this.localStorage=n,this.arr=a?function(e,t,n){try{Laya.LocalStorage.getJSON(t)}catch(n){return Laya.LocalStorage.setJSON(t,JSON.stringify(e)),e}let a;if(Laya.LocalStorage.getJSON(t)){if(a=JSON.parse(Laya.LocalStorage.getJSON(t)),!e||!a)return a;const i=B.ObjArray.getDiffProByTwoArr(e,a,n);console.log(`${t}新添加对象：`,i),B.Arr.addToArray(a,i),B.ObjArray.mergeObjArr1ToObjArr2ByPro(e,a,n)}else a=e;return Laya.LocalStorage.setJSON(t,JSON.stringify(a)),a}(t,e,"ID"):function(e,t){try{Laya.LocalStorage.getJSON(t)}catch(n){return Laya.LocalStorage.setJSON(t,JSON.stringify(e)),e}let n;if(Laya.LocalStorage.getJSON(t)){if(n=JSON.parse(Laya.LocalStorage.getJSON(t)),!e||!n)return n}else n=e;return Laya.LocalStorage.setJSON(t,JSON.stringify(n)),n}(t,e),i&&(o?this.compareLastInforByPro(i,o):this.compareLastDefaultPro(i))))}refreshAndStorage(){this.localStorage&&Laya.LocalStorage.setJSON(this.tableName,JSON.stringify(this.arr)),this.list&&this.list.refresh()}compareLastInforByPro(e,t){this.lastArr=this.getLastVersion(e);for(let e=0;e<this.lastArr.length;e++){const n=this.lastArr[e];for(let e=0;e<this.arr.length;e++){const a=this.arr[e];if(n.name===a.name)for(let e=0;e<t.length;e++){const i=t[e];a[i]=n[i]}}}this.refreshAndStorage()}compareLastDefaultPro(e){if(this.lastArr=this.getLastVersion(e),this.lastArr.length>0)for(let e=0;e<this.lastArr.length;e++){const t=this.lastArr[e];for(let e=0;e<this.arr.length;e++){const n=this.arr[e];t.complete&&(n.complete=!0),t.degreeNum>n.degreeNum&&(n.degreeNum=t.degreeNum)}}this.refreshAndStorage()}getLastVersion(e){let t=[];try{Laya.LocalStorage.getJSON(e)&&(t=JSON.parse(Laya.LocalStorage.getJSON(e)))}catch(t){console.log(e+"前版本不存在！")}return t}getPitchIndexInArr(){for(let e=0;e<this.arr.length;e++)if(this.arr[e].name===this.pitchName)return e}getPitchIndexInListArr(){if(this.list)for(let e=0;e<this.list.array.length;e++)if(this.list.array[e].name===this.pitchName)return e}listTweenToPitch(e,t){const n=this.getPitchIndexInListArr();n&&this.list.tweenTo(n,e,Laya.Handler.create(this,()=>{t&&t()}))}listTweenToDiffIndexByPitch(e,t,n){const a=this.getPitchIndexInListArr();a&&this.list.tweenTo(a+e,t,Laya.Handler.create(this,()=>{n&&n()}))}listScrollToFirstByLast(){const e=this.list.array.length-1;e&&this.list.scrollTo(e)}getFirstObjByPro(e,t){for(const n in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,n)){const a=this.arr[n];if(a[e]===t)return a}}getObjByName(e){for(const t in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,t)){const n=this.arr[t];if(n.name==e)return n}}setObjguideCompeletByID(e){for(const t in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,t)){const n=this.arr[t];if(n.ID===e){n.complete=!0;break}}this.refreshAndStorage()}getFirstObjByLevel(e){for(const t in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,t)){const n=this.arr[t];if(n.level==e)return n}}getNameByID(e){for(let t=0;t<this.arr.length;t++){const n=this.arr[t];if(n.ID===e)return n.name}}getObjArrByLevel(e){const t=[];for(const n in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,n)){const a=this.arr[n];a.level==e&&t.push(a)}return t}setAllComplete(){for(let e=0;e<this.arr.length;e++)this.arr[e].complete=!0;this.refreshAndStorage()}setAllCompleteDelay(e,t,n,a){for(let i=0;i<this.arr.length;i++)m.once(e*i,this,()=>{const e=this.arr[i];t&&t(e.complete),e.complete=!0,n&&n(),i===this.arr.length-1&&a&&a(),this.refreshAndStorage()})}addProValueForAll(e,t){for(let n=0;n<this.arr.length;n++)this.arr[n][e]+=t();this.refreshAndStorage()}randomOneObjByPro(e,t){let n=[];for(const a in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,a)){const i=this.arr[a];t?i[e]&&i[e]==t&&n.push(i):i[e]&&n.push(i)}return 0==n.length?null:B.Arr.randomGetOne(n)}randomOneObj(){const e=B.Num.randomOneBySection(0,this.arr.length-1,!0);return this.arr[e]}randomCountObj(e){const t=B.Num.randomCountBySection(0,this.arr.length-1,e,!0),n=[];for(let e=0;e<this.arr.length;e++)for(let a=0;a<t.length;a++)e===t[a]&&n.push(this.arr[e]);return n}getArrByguideCompelet(){let e=[];for(const t in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,t)){const n=this.arr[t];n.complete&&e.push(n)}return e}getArrByNoguideCompelet(){let e=[];for(const t in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,t)){const n=this.arr[t];n.complete||e.push(n)}return e}getArrByProperty(e,t){let n=[];for(const a in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,a)){const i=this.arr[a];i[e]&&i[e]==t&&n.push(i)}return n}getArrByNoProperty(e,t){let n=[];for(const a in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,a)){const i=this.arr[a];i[e]&&i[e]!==t&&n.push(i)}return n}getRanObjByNoCompelet(){let e=B.ObjArray.arrCopy(this.arr);if(e.length>0){const t=B.Arr.randomGetOut(e,e.length);for(let e=0;e<t.length;e++){const n=t[e];if(!n.complete)return n}}}setObjCompeletByID(e){for(const t in this.arr)if(Object.prototype.hasOwnProperty.call(this.arr,t)){const n=this.arr[t];if(n.ID==e){n.complete=!0;break}}this.refreshAndStorage()}checkAllguideCompelet(){let e=!0;for(let t=0;t<this.arr.length;t++)if(!this.arr[t].complete)return e=!1;return e}checkguideCompeletByID(e){for(let t=0;t<this.arr.length;t++){const n=this.arr[t];if(n.ID==e&&n.complete)return!0}}checkCompeletByID(e){for(let t=0;t<this.arr.length;t++){const n=this.arr[t];if(n.ID==e&&n.complete)return!0}}getRanObjByNoguideCompelet(){let e=B.ObjArray.arrCopy(this.arr);if(e.length>0){const t=B.Arr.randomGetOut(e,e.length);for(let e=0;e<t.length;e++){const n=t[e];if(!n.complete)return n}}}eachArrByguideCompelet(e){for(let t=0;t<this.arr.length;t++){const n=this.arr[t];n.complete&&e&&e(n)}}eachArrByNoguideCompelet(e){for(let t=0;t<this.arr.length;t++){const n=this.arr[t];n.complete||e&&e(n)}}get pitchName(){return this[`${this.tableName}/pitchName`]?this[`${this.tableName}/pitchName`]:this.localStorage?Laya.LocalStorage.getItem(`${this.tableName}/pitchName`)?Laya.LocalStorage.getItem(`${this.tableName}/pitchName`):null:this[`${this.tableName}/pitchName`]=null}set pitchName(e){this.lastPitchName=this[`${this.tableName}/pitchName`],this[`${this.tableName}/pitchName`]=e,this.localStorage&&Laya.LocalStorage.setItem(`${this.tableName}/pitchName`,e.toString()),this.refreshAndStorage()}get lastPitchName(){return this[`${this.tableName}/lastPitchName`]?this[`${this.tableName}/lastPitchName`]:this.localStorage?Laya.LocalStorage.getItem(`${this.tableName}/lastPitchName`)?Laya.LocalStorage.getItem(`${this.tableName}/lastPitchName`):null:this[`${this.tableName}/lastPitchName`]=null}set lastPitchName(e){this[`${this.tableName}/lastPitchName`]=e,this.localStorage&&e&&Laya.LocalStorage.setItem(`${this.tableName}/lastPitchName`,e.toString())}addObj(e,t=!0){let n=B.ObjArray.objCopy(e);for(let e=0;e<this.arr.length;e++)this.arr[e].name===n.name&&this.arr[e];t&&this.refreshAndStorage()}addObjArr(e,t=!0){const n=B.ObjArray.arrCopy(e);for(let e=0;e<n.length;e++){const t=n[e];for(let a=0;a<this.arr.length;a++){const i=this.arr[a];t&&t.ID===i.ID&&(this.arr[a]=t,n.splice(e,1),e--)}}for(let e=0;e<n.length;e++){const t=n[e];this.arr.push(t)}t&&this.refreshAndStorage()}sortByProperty(e,t,n,a=!0){if(B.ObjArray.sortByProperty(this.arr,e),null==n||n){for(let e=this.arr.length-1;e>=0;e--)this.arr[e][t]=this.arr.length-e;this.arr.reverse()}else for(let e=0;e<this.arr.length;e++)this.arr[e][t]=e+1;a&&this.refreshAndStorage()}}}(p||(p={})),function(e){e.RGBToHexString=function(e,t,n){return"#"+("00000"+(e<<16|t<<8|n).toString(16)).slice(-6)},e.hexStringToRGB=function(e){let t,n,a;return[t=(255<<16&e)>>16,n=(65280&e)>>8,a=255&e]},e.colour=function(e,t,n){let a=new Laya.ColorFilter;return e.blendMode="null",t?a.color(t[0],t[1],t[2],t[3]):a.color(B.Num.randomOneBySection(255,100,!0),B.Num.randomOneBySection(255,100,!0),B.Num.randomOneBySection(255,100,!0),1),e.filters=[a],n&&Laya.timer.once(n,this,()=>{for(let t=0;t<e.filters.length;t++)if(e.filters[t]==a){e.filters=[];break}}),a},e.changeOnce=function(e,t,n,a){if(!e)return;let i=new Laya.ColorFilter;i.color(0,0,0,0);let o=t[0]/n,r=t[1]/n,s=t[2]/n,l=0;t[3]&&(l=t[3]/n);let c={add:!0},h=0,u=0,d=0,y=0;m.frameLoop(1,c,()=>{h<t[0]&&c.add?(u+=r,d+=s,0!==l&&(y+=l),(h+=o)>=t[0]&&(c.add=!1)):(u-=r,d-=s,0!==l&&(y-=l),(h-=o)<=0&&(a&&a(),Laya.timer.clearAll(c))),i.color(h,u,d,y),e.filters=[i]})},e.changeConstant=function(e,t,n,a){let i,o=[];e.filters?(i=e.filters[0],o=[e.filters[0]._alpha[0],e.filters[0]._alpha[1],e.filters[0]._alpha[2],e.filters[0]._alpha[3]?e.filters[0]._alpha[3]:1]):((i=new Laya.ColorFilter).color(t[0],t[1],t[2],t[3]?t[3]:1),o=[t[0],t[1],t[2],t[3]?t[3]:1],e.filters=[i]);let r=[B.Num.randomCountBySection(t[0],n[0])[0],B.Num.randomCountBySection(t[1],n[1])[0],B.Num.randomCountBySection(t[2],n[2])[0],B.Num.randomCountBySection(t[3]?t[3]:1,n[3]?n[3]:1)[0]],s=(r[0]-o[0])/a,l=(r[1]-o[1])/a,c=(r[2]-o[2])/a,h=0;r[3]&&(h=(r[3]-o[3])/a),e.changeCaller&&Laya.timer.clearAll(e.changeCaller);let u={};e.changeCaller=u;let d=0;m.frameLoop(1,u,()=>{++d<=a?(o[0]+=s,o[1]+=l,o[2]+=c):Laya.timer.clearAll(u),i.color(o[0],o[1],o[2],o[3]),e.filters=[i]})}}(f||(f={})),function(e){let t;e.tex2D={"爱心2":{url:"Lwg/Effects/3D/img_aixin2.png",texture2D:null,name:"爱心2"},"星星8":{url:"Lwg/Effects/3D/img_star8.png",texture2D:null,name:"星星8"},"星星5":{url:"Lwg/Effects/3D/img_star5.png",texture2D:null,name:"星星5"},"圆形发光":{url:"Lwg/Effects/3D/img_yuanfaguang.png",texture2D:null,name:"圆形发光"}},function(t){class n{constructor(e,t,n,a,i,o,r){this.time=0,this.appear=!0,this.move=!1,this.vinish=!1,this.frame={interval:1,func:null},this.end=!1,this.stateType={appear:"appear",move:"move",vinish:"vinish",end:"end"},this._positionByARY_FA=0,this._positionARXY_FR=0,this._positionByTimeRecord=0,this.frame.interval=i||1,this.frame.func=o||null,this.endFunc=r||null,this.time=e||0,this.appear=t||!0,this.move=n||!1,this.vinish=a||!1,m.frameLoop(1,this,()=>{this.time++,!this.box||this.box.parent?(this.time%this.frame.interval==0&&this.frame.func&&this.frame.func(),this.appear&&this.appearFunc&&this.appearFunc(),this.move&&this.moveFunc&&this.moveFunc(),this.vinish&&this.vinishFunc&&this.vinishFunc(),this.end&&this.endFunc&&this.endFunc(),this.everyFrameFunc&&this.everyFrameFunc(),this.clear()):this.clear()})}get box(){return this._box||console.log("粒子没有初始化！"),this._box}set box(e){this._box=e}stateSwitch(e){"a"!=e&&"appear"!=e||(this.appear=!0,this.move=!1,this.vinish=!1,this.end=!1),"m"==e||"move"==e?(this.appear=!1,this.move=!0):"v"==e||"vinish"==e?(this.move=!1,this.vinish=!0):"e"!=e&&"end"!=e||(this.vinish=!1,this.end=!0)}clear(){this.end&&(this.mat.destroy(),this.box.meshFilter.destroy(),this.box.destroy(),Laya.timer.clearAll(this))}boxInit(t,n,a,i,o,r){const s=a?B.Num.randomOneBySection(a[0][0],a[1][0]):B.Num.randomOneBySection(.06,.08),l=a?B.Num.randomOneBySection(a[0][1],a[1][1]):B.Num.randomOneBySection(.06,.08),c=a?B.Num.randomOneBySection(a[0][2],a[1][2]):B.Num.randomOneBySection(.06,.08);this.box=t.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(s,l,c))),this.box.transform.position=n?new Laya.Vector3(n[0],n[1],n[2]):new Laya.Vector3(0,0,0),this.fPosition=new Laya.Vector3(this.box.transform.position.x,this.box.transform.position.y,this.box.transform.position.z),this.box.transform.localRotationEulerX=i?B.Num.randomOneBySection(i[0][0],i[1][0]):B.Num.randomOneBySection(0,360),this.box.transform.localRotationEulerX=i?B.Num.randomOneBySection(i[0][1],i[1][1]):B.Num.randomOneBySection(0,360),this.box.transform.localRotationEulerX=i?B.Num.randomOneBySection(i[0][2],i[1][2]):B.Num.randomOneBySection(0,360),this.fEuler=new Laya.Vector3(this.box.transform.localRotationEulerX,this.box.transform.localRotationEulerY,this.box.transform.localRotationEulerZ);const h=this.box.meshRenderer.material=new Laya.BlinnPhongMaterial;h.albedoTexture=o?B.Arr.randomGetOne(o):e.tex2D.圆形发光.texture2D,h.renderMode=2;const u=r?B.Num.randomOneBySection(r[0][0],r[1][0]):B.Num.randomOneBySection(0,1),d=r?B.Num.randomOneBySection(r[0][1],r[1][1]):B.Num.randomOneBySection(0,1),m=r?B.Num.randomOneBySection(r[0][2],r[1][2]):B.Num.randomOneBySection(0,1),y=r?B.Num.randomOneBySection(r[0][3],r[1][3]):B.Num.randomOneBySection(0,1);h.albedoColor=new Laya.Vector4(u,d,m,y),this.mat=h}get fPosition(){return this._fPosition}set fPosition(e){this._fPosition=e}get fEuler(){return this._fEuler}set fEuler(e){this._fEuler=e}get mat(){return this.box.meshRenderer.material}set mat(e){this.box.meshRenderer.material=e}positionByARY(e,t,n,a,i){const o=B.Point.getRoundPointOld(this._positionByARY_FA+=e,t,new Laya.Point(this.fPosition.x,this.fPosition.z));this.box.transform.position=new Laya.Vector3(o.x,this.box.transform.position.y+=n,o.y),this.box.transform.position.y-this.fPosition.y>a&&i&&i()}positionARXY_R(e,t,n,a){this._positionARXY_FR+=t;const i=B.Point.getRoundPointOld(e,this._positionARXY_FR,new Laya.Point(0,0));this.box.transform.position=new Laya.Vector3(this.fPosition.x+i.x,this.fPosition.y+i.y,this.fPosition.z),this._positionARXY_FR>=n&&a&&a()}fadeAway(e,t=0,n){this.mat.albedoColorA-=e,this.mat.albedoColorA<=t&&(this.mat.albedoColorA=t,n&&n())}fadeIn(e,t=1,n){this.mat.albedoColorA+=e,this.mat.albedoColorA>=t&&(this.mat.albedoColorA=t,n&&n())}positionByTime(e,t,n){this._positionByTimeRecord++,this.box.transform.position=new Laya.Vector3(this.box.transform.position.x+=e[0],this.box.transform.position.y+=e[1],this.box.transform.position.z+=e[2]),t&&this._positionByTimeRecord>t&&n&&n()}scaleX(e,t,n){this.box.transform.localScaleX+=e,t&&(e>=0?this.box.transform.localScaleX>=t&&(this.box.transform.localScaleX=t,n&&n()):this.box.transform.localScaleX<=t&&(this.box.transform.localScaleX=t,n&&n()))}scaleY(e,t,n){this.box.transform.localScaleY+=e,t&&(e>=0?this.box.transform.localScaleY>=t&&(this.box.transform.localScaleY=t,n&&n()):this.box.transform.localScaleY<=t&&(this.box.transform.localScaleY=t,n&&n()))}scaleZ(e,t,n){this.box.transform.localScaleZ+=e,t&&(e>=0?this.box.transform.localScaleZ>=t&&(this.box.transform.localScaleZ=t,n&&n()):this.box.transform.localScaleZ<=t&&(this.box.transform.localScaleZ=t,n&&n()))}rotateX(e,t,n){this.box.transform.localRotationEulerX+=e,t&&(e>=0?this.box.transform.localRotationEulerX>=t&&(this.box.transform.localRotationEulerX=t,n&&n()):this.box.transform.localRotationEulerX<=t&&(this.box.transform.localRotationEulerX=t,n&&n()))}rotateY(e,t,n){this.box.transform.localRotationEulerY+=e,t&&(e>=0?this.box.transform.localRotationEulerY>=t&&(this.box.transform.localRotationEulerY=t,n&&n()):this.box.transform.localRotationEulerY<=t&&(this.box.transform.localRotationEulerY=t,n&&n()))}rotateZ(e,t,n){this.box.transform.localRotationEulerZ+=e,t&&(e>=0?this.box.transform.localRotationEulerZ>=t&&(this.box.transform.localRotationEulerZ=t,n&&n()):this.box.transform.localRotationEulerZ<=t&&(this.box.transform.localRotationEulerZ=t,n&&n()))}randomScopeByPosition(e){e=e||[[.1,.1,.1],[.3,.3,.3]],B.D3.randomScopeByPosition(this.box,e)}excludeZ(){this.box.transform.localScaleZ=0}rotateTheZero(){this.box.transform.localRotationEulerZ=0,this.box.transform.localRotationEulerX=0,this.box.transform.localRotationEulerY=0}scaleTheZero(){this.box.transform.localRotationEulerZ=0,this.box.transform.localRotationEulerX=0,this.box.transform.localRotationEulerY=0}}t.Caller=n,t.spiral=function(e,t,a,i,o,r,s,l,c,h){const u=new n;u.boxInit(e,t,a,i,o,r),u.excludeZ(),u.rotateTheZero();const d=B.Num.randomNumerical(s,[1.5,1.5]),m=B.Num.randomNumerical(l,[.02,.02]),y=B.Num.randomNumerical(c,[6,6]),g=B.Num.randomNumerical(h,[.5,.5]);return u.mat.albedoColorA=0,u.stateSwitch("m"),u.moveFunc=(()=>{u.fadeIn(.2),u.positionByARY(y,g,m,d,()=>{u.stateSwitch("v")})}),u.vinishFunc=(()=>{u.fadeAway(.15,0,()=>{u.stateSwitch("e")}),u.positionByTime([0,.002,0])}),u},t.explode=function(e,t,a,i,o,r,s,l){const c=new n;c.boxInit(e,t,a,i,o,r),c.excludeZ(),c.rotateTheZero();const h=B.Num.randomNumerical(s,[.3,.6]),u=B.Num.randomNumerical(l,[.008,.012]),d=B.Num.randomNumerical([0,360]);c.mat.albedoColorA=0,c.stateSwitch("m"),c.moveFunc=(()=>{c.fadeIn(.15),c.positionARXY_R(d,u,h,()=>{c.stateSwitch("v")})}),c.vinishFunc=(()=>{c.fadeAway(.15,0,()=>{c.stateSwitch("e")})})},t.fade=function(e,t,a,i,o,r,s,l,c){const h=new n;h.boxInit(e,t,a||[[.04,.04,0],[.04,.04,0]],s,l,c),h.excludeZ();const u=i||20,d=o||.02,m=r||.02;return h.rotateTheZero(),h.stateSwitch("m"),h.moveFunc=(()=>{h.time>u&&h.stateSwitch("v")}),h.vinishFunc=(()=>{h.scaleX(m),h.fadeAway(d,0,()=>{h.stateSwitch("e")})}),h.everyFrameFunc=(()=>{h.box.transform.localScaleY=h.box.transform.localScaleX}),h},t.starsShine=function(t,a,i,o,r,s,l,c,h){const u=new n;u.boxInit(t,a,null,null,c||[e.tex2D.星星5.texture2D],h||[[15,15,15,1],[30,30,30,1]]),u.excludeZ(),u.rotateTheZero(),u.scaleTheZero(),u.randomScopeByPosition(i),u.mat.albedoColorA=0;const d=B.Num.randomNumerical(r,[1,2]),m=B.Num.randomNumerical(o,[.01,.05]),y=B.Num.randomNumerical(s,[2,6],!0),g=B.Num.randomNumerical(l,[.01,.05]);return u.appearFunc=(()=>{u.fadeIn(g,1,()=>{u.stateSwitch("m")}),u.scaleX(m,1),u.rotateZ(y)}),u.moveFunc=(()=>{u.scaleX(m,d,()=>{u.stateSwitch("v")}),u.rotateZ(y)}),u.vinishFunc=(()=>{u.fadeAway(g,0,()=>{u.stateSwitch("e")}),u.scaleX(-m),u.rotateZ(-y)}),u.everyFrameFunc=(()=>{u.box.transform.localScaleY=u.box.transform.localScaleX}),u}}(t=e.Particle||(e.Particle={}))}(w||(w={})),function(e){let t,n,a,i,o;!function(e){e["爱心1"]="Lwg/Effects/img_aixin1.png",e["爱心2"]="Lwg/Effects/img_aixin2.png",e["爱心3"]="Lwg/Effects/img_aixin3.png",e["花1"]="Lwg/Effects/img_hua1.png",e["花2"]="Lwg/Effects/img_hua2.png",e["花3"]="Lwg/Effects/img_hua3.png",e["花4"]="Lwg/Effects/img_hua4.png",e["星星1"]="Lwg/Effects/img_star1.png",e["星星2"]="Lwg/Effects/img_star2.png",e["星星3"]="Lwg/Effects/img_star3.png",e["星星4"]="Lwg/Effects/img_star4.png",e["星星5"]="Lwg/Effects/img_star5.png",e["星星6"]="Lwg/Effects/img_star6.png",e["星星7"]="Lwg/Effects/img_star7.png",e["星星8"]="Lwg/Effects/img_star8.png",e["菱形1"]="Lwg/Effects/img_rhombus1.png",e["菱形2"]="Lwg/Effects/img_rhombus1.png",e["菱形3"]="Lwg/Effects/img_rhombus1.png",e["矩形1"]="Lwg/Effects/img_rectangle1.png",e["矩形2"]="Lwg/Effects/img_rectangle2.png",e["矩形3"]="Lwg/Effects/img_rectangle3.png",e["雪花1"]="Lwg/Effects/img_xuehua1.png",e["叶子1"]="Lwg/Effects/img_yezi1.png",e["圆形发光1"]="Lwg/Effects/img_yuanfaguang.png",e["圆形1"]="Lwg/Effects/img_yuan1.png",e["方形光圈1"]="Lwg/Effects/img_ui_square_guang1.png",e["方形圆角光圈1"]="Lwg/Effects/img_ui_square_guang2.png",e["圆形小光环"]="Lwg/Effects/img_xiaoguanghuan.png",e["光圈2"]="Lwg/Effects/img_guangquan2.png",e["三角形1"]="Lwg/Effects/img_triangle1.png",e["三角形2"]="Lwg/Effects/img_triangle2.png"}(t=e.SkinUrl||(e.SkinUrl={})),function(e){class n extends Laya.Image{constructor(e,n,a,i,o,r,s){if(super(),!e.parent)return;e.addChild(this),n?this.pos(n[0],n[1]):this.pos(0,0),this.width=a?a[0]:100,this.height=a?a[1]:100,this.pivotX=this.width/2,this.pivotY=this.height/2,this.rotation=i?B.Num.randomOneBySection(i[0],i[1]):B.Num.randomOneBySection(360),this.skin=o?B.Arr.randomGetOne(o):t.花3,this.zOrder=s||0,this.alpha=0;let l=[null,null,null,null];l[0]=r?B.Num.randomOneBySection(r[0][0],r[1][0]):B.Num.randomOneBySection(180,255),l[1]=r?B.Num.randomOneBySection(r[0][1],r[1][1]):B.Num.randomOneBySection(10,180),l[2]=r?B.Num.randomOneBySection(r[0][2],r[1][2]):B.Num.randomOneBySection(10,180),l[3]=r?B.Num.randomOneBySection(r[0][3],r[1][3]):B.Num.randomOneBySection(1,1),f.colour(this,l)}}e.ApertureImage=n,e.continuous=function(e,t,a,i,o,r,s,l,c,h,u){const d=new n(e,t,a,o,r,s,l);let y=h?B.Num.randomOneBySection(h[0],h[1]):.025,g=u?B.Num.randomOneBySection(u[0],u[1]):5e-4;i?d.scale(i[0],i[1]):d.scale(0,0);const p=c?B.Num.randomOneBySection(c[0],c[1]):2;let f={alpha:!0,scale:!1,vanish:!1};d.moveCaller=f;let w=0;m.frameLoop(1,f,()=>{f.alpha&&(d.alpha+=.05,w=0,d.alpha>=1&&(f.alpha=!1,f.scale=!0)),f.scale&&(w+=g,d.scaleX>=p&&(f.scale=!1,f.vanish=!0)),f.vanish&&(d.alpha-=.015,d.alpha<=0&&(d.removeSelf(),Laya.timer.clearAll(f))),d.scaleX=d.scaleY+=y+w})},e._continuousByDs=function(e,t,a,i,o,r,s,l,c,h,u){const d=new n(e,t,a,o,r,s,l);let y=h?B.Num.randomOneBySection(h[0],h[1]):.025,g=u?B.Num.randomOneBySection(u[0],u[1]):5e-4;i?d.scale(i[0],i[1]):d.scale(0,0);const p=c?B.Num.randomOneBySection(c[0],c[1]):2;let f={alpha:!0,scale:!1,vanish:!1};d.moveCaller=f;let w=0;m.frameLoop(1,f,()=>{f.alpha&&(d.alpha+=.05,w=0,d.alpha>=1&&(f.alpha=!1,f.scale=!0)),f.scale&&(w+=g,d.scaleX>p&&(f.scale=!1,f.vanish=!0)),f.vanish&&(w-=g)<=0&&(w=0,d.alpha-=.015,d.alpha<=0&&(d.removeSelf(),Laya.timer.clearAll(f))),d.scaleX=d.scaleY+=y+w})}}(n=e.Aperture||(e.Aperture={})),function(e){class n extends Laya.Image{constructor(e,n,a,i,o,r,s,l,c){super(),(e=e||Laya.stage).addChild(this);let h=a?B.Num.randomOneBySection(a[0]):B.Num.randomOneBySection(200),u=a?B.Num.randomOneBySection(a[1]):B.Num.randomOneBySection(50);h=0==B.Num.randomOneHalf()?h:-h,u=0==B.Num.randomOneHalf()?u:-u,this.x=n?n.x+h:h,this.y=n?n.y+u:u,this.width=i?B.Num.randomOneBySection(i[0],i[1]):B.Num.randomOneBySection(20,50),this.height=o?B.Num.randomOneBySection(o[0],o[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2,this.skin=s?B.Arr.randomGetOne(s):t.圆形1,this.rotation=r?B.Num.randomOneBySection(r[0],r[1]):0,this.alpha=0,this.zOrder=c||1e3;let d=[null,null,null,null];d[0]=l?B.Num.randomOneBySection(l[0][0],l[1][0]):B.Num.randomOneBySection(180,255),d[1]=l?B.Num.randomOneBySection(l[0][1],l[1][1]):B.Num.randomOneBySection(30,180),d[2]=l?B.Num.randomOneBySection(l[0][2],l[1][2]):B.Num.randomOneBySection(30,180),d[3]=l?B.Num.randomOneBySection(l[0][3],l[1][3]):B.Num.randomOneBySection(1,1),f.colour(this,d)}}function rotatingWay(e,t,n,a){let i=t?B.Num.randomOneBySection(t[0],t[1]):B.Num.randomOneBySection(0,1);i=0==B.Num.randomOneHalf()?i:-i;const o=n?B.Num.randomOneBySection(n[0],n[1]):B.Num.randomOneBySection(0,.25),r=B.Num.randomOneHalf();let s=a?B.Num.randomOneBySection(a[0],a[1]):B.Num.randomOneBySection(1,10);s=1===B.Num.randomOneHalf()?s:-s;const l=B.Num.randomOneHalf(),c=B.Num.randomOneHalf();return()=>{e.rotation+=i,1===c?1===l?e.skewX+=s:e.skewY+=s:1===r?e.moveCaller.scaleSub?(e.scaleX-=o,e.scaleX<=0&&(e.moveCaller.scaleSub=!1)):(e.scaleX+=o,e.scaleX>=1&&(e.moveCaller.scaleSub=!0)):e.moveCaller.scaleSub?(e.scaleY-=o,e.scaleY<=0&&(e.moveCaller.scaleSub=!1)):(e.scaleY+=o,e.scaleY>=1&&(e.moveCaller.scaleSub=!0))}}e.ImgBase=n,e.snow=function(e,t,a,i,o,r,s,l,c,h,u,d,y){let g=new n(e,t,a,i,o,r,s,l,c),p=u?B.Num.randomOneBySection(u[0],u[1]):B.Num.randomOneBySection(0,1);p=0==B.Num.randomOneHalf()?p:-p;let f=d?B.Num.randomOneBySection(d[0],d[1]):B.Num.randomOneBySection(1,2.5),w=y?B.Num.randomOneBySection(y[0],y[1]):0,S={alpha:!0,move:!1,vinish:!1};g.moveCaller=S;let b=0,L=h?B.Num.randomOneBySection(h[0],h[1]):B.Num.randomOneBySection(100,300);return m.frameLoop(1,S,()=>{g.x+=w,g.rotation+=p,g.alpha<1&&S.alpha&&(g.alpha+=.05,b=g.y++,g.alpha>=1&&(S.alpha=!1,S.move=!0)),b<L&&S.move&&(b=g.y+=f)>=L&&(S.move=!1,S.vinish=!0),S.vinish&&(g.alpha-=.03,g.y+=f,(g.alpha<=0||f<=0)&&(g.removeSelf(),Laya.timer.clearAll(S)))}),g},e.downwardSpray=function(e,t,a,i,o,r,s,l,c,h,u,d,y,g,p){const f=new n(e,t,[0,0],a,i,null,r,s,p),w=o?B.Num.randomOneBySection(o[0],o[1]):B.Num.randomOneBySection(0,90),S=B.Point.getNPointByAngle(w),b=l?B.Num.randomOneBySection(l[0],l[1]):B.Num.randomOneBySection(200,800);let L=c?B.Num.randomOneBySection(c[0],c[1]):B.Num.randomOneBySection(10,30),v=u?B.Num.randomOneBySection(u[0],u[1]):B.Num.randomOneBySection(.3,1.5);const D=h?B.Num.randomOneBySection(h[0],h[1]):B.Num.randomOneBySection(1,5);let O=0;const C={appear:!0,move:!1,dropFp:null,drop:!1,vinish:!1,scaleSub:!0,scaleAdd:!1,rotateFunc:null};return C.rotateFunc=rotatingWay(f,d,y,g),f.moveCaller=C,m.frameLoop(1,C,()=>{if(C.rotateFunc(),C.appear&&(f.alpha+=.5,f.alpha>=1&&(C.appear=!1,C.move=!0),f.x+=S.x*L,f.y+=S.y*L),C.move){const e=L+(O-=v);f.x+=S.x*e,f.y+=S.y*e,e<=1&&(L=1,C.dropFp=new Laya.Point(f.x,f.y),C.move=!1,C.drop=!0)}C.drop&&(f.x+=S.x*L,f.y+=S.y*L,C.dropFp.distance(f.x,f.y)>b&&(C.drop=!1,C.vinish=!0)),C.vinish&&(f.alpha-=.05,f.alpha<=.3&&(f.removeSelf(),Laya.timer.clearAll(C))),f.y+=D}),f},e.fallingRotate=function(e,t,a,i,o,r,s,l,c,h,u,d,y){const g=new n(e,t,a,i,o,null,r,s,y),p=c?B.Num.randomOneBySection(c[0],c[1]):B.Num.randomOneBySection(1,2.5);let f=0;const w=l?B.Num.randomOneBySection(l[0],l[1]):B.Num.randomOneBySection(100,300),S={appear:!0,move:!1,vinish:!1,scaleSub:!0,scaleAdd:!1,rotateFunc:null};return S.rotateFunc=rotatingWay(g,d,h,u),g.moveCaller=S,m.frameLoop(1,S,()=>{S.rotateFunc(),S.appear&&(g.alpha+=.05,g.y+=p/2,g.alpha>=1&&(S.appear=!1,S.move=!0)),S.move&&(g.y+=p,(f+=p)>=w&&(S.move=!1,S.vinish=!0)),S.vinish&&(g.alpha-=.01,g.y+=p,g.alpha<=0&&(g.removeSelf(),Laya.timer.clearAll(S)))}),g},e.fallingVertical=function(e,t,a,i,o,r,s,l,c,h,u,d){let y=new n(e,t,a,i,o,r,s,l,c),g=u?B.Num.randomOneBySection(u[0],u[1]):B.Num.randomOneBySection(4,8),p=d?B.Num.randomOneBySection(d[0],d[1]):B.Num.randomOneBySection(.25,.45),f=0,w={alpha:!0,move:!1,vinish:!1};y.moveCaller=w;let S=h?B.Num.randomOneBySection(h[0],h[1]):B.Num.randomOneBySection(100,300),b=y.y;return m.frameLoop(1,w,()=>{y.alpha<1&&w.alpha&&(y.alpha+=.04,y.alpha>=1&&(w.alpha=!1,w.move=!0)),w.alpha||(f+=p,y.y+=g+f),!w.alpha&&w.move&&y.y-b>=S&&(w.move=!1,w.vinish=!0),w.vinish&&(y.alpha-=.03,y.alpha<=0&&(Laya.timer.clearAll(w),y.removeSelf()))}),y},e.fallingVertical_Reverse=function(e,t,a,i,o,r,s,l,c,h,u,d){let y=new n(e,t,a,i,o,r,s,l,c),g=u?B.Num.randomOneBySection(u[0],u[1]):B.Num.randomOneBySection(4,8),p=d?B.Num.randomOneBySection(d[0],d[1]):B.Num.randomOneBySection(.25,.45),f=0,w={alpha:!0,move:!1,vinish:!1};y.moveCaller=w;let S=h?B.Num.randomOneBySection(h[0],h[1]):B.Num.randomOneBySection(100,300),b=y.y;return m.frameLoop(1,w,()=>{y.alpha<1&&w.alpha&&(y.alpha+=.04,y.alpha>=1&&(w.alpha=!1,w.move=!0)),w.alpha||(f+=p,y.y+=g+f),!w.alpha&&w.move&&y.y-b<=S&&(w.move=!1,w.vinish=!0),w.vinish&&(y.alpha-=.03,y.alpha<=0&&(Laya.timer.clearAll(w),y.removeSelf()))}),y},e.slowlyUp=function(e,t,a,i,o,r,s,l,c,h,u,d){let y=new n(e,t,a,i,o,r,s,l,c),g=u?B.Num.randomOneBySection(u[0],u[1]):B.Num.randomOneBySection(1.5,2),p=d?B.Num.randomOneBySection(d[0],d[1]):B.Num.randomOneBySection(.001,.005),f=0,w={alpha:!0,move:!1,vinish:!1};y.moveCaller=w;let S=y.y,b=0,L=h?B.Num.randomOneBySection(h[0],h[1]):B.Num.randomOneBySection(-250,-600);return m.frameLoop(1,w,()=>{y.alpha<1&&w.alpha&&(y.alpha+=.03,y.alpha>=1&&(w.alpha=!1,w.move=!0)),b>L&&w.move||(w.move=!1,w.vinish=!0),w.vinish&&(y.alpha-=.02,y.scaleX-=.005,y.scaleY-=.005,y.alpha<=0&&(y.removeSelf(),Laya.timer.clearAll(w))),f+=p,y.y-=g+f,b=S-y.y}),y},e.sprayRound=function(e,t,a,i,o,r,s,l,c,h,u,d){let y=new n(e,t,[0,0],a,i,o,r,s,d),g=t||new Laya.Point(0,0),p=0;const f=c?B.Num.randomOneBySection(c[0],c[1]):B.Num.randomOneBySection(30,50),w=l?B.Num.randomOneBySection(l[0],l[1]):B.Num.randomOneBySection(100,200),S=w/f,b=h?B.Num.randomOneBySection(h[0],h[1]):B.Num.randomOneBySection(0,360);let L=u?B.Num.randomOneBySection(u[0],u[1]):B.Num.randomOneBySection(0,20);L=0==B.Num.randomOneHalf()?L:-L;const v=1/B.Num.randomOneInt(60);let D={alpha:!0,move:!1,vinish:!1};return y.moveCaller=D,m.frameLoop(1,D,()=>{if(y.rotation+=L,y.alpha<1&&D.alpha)y.alpha+=.5,y.alpha>=1&&(D.alpha=!1,D.move=!0);else if(D.vinish){y.alpha-=v,y.alpha<=0&&(y.removeSelf(),Laya.timer.clearAll(D)),p+=S/2;let e=B.Point.getRoundPointOld(b,p,g);y.pos(e.x,e.y)}else{p+=S;let e=B.Point.getRoundPointOld(b,p,g);y.pos(e.x,e.y),p>w&&(D.move=!1,D.vinish=!0)}}),y},e.spray=function(e,t,a,i,o,r,s,l,c,h,u,d,y){let g=new n(e,t,[0,0],a,i,o,r,s,y),p=t||new Laya.Point(0,0),f=u?B.Num.randomOneBySection(u[0],u[1]):B.Num.randomOneBySection(3,10),w=d?B.Num.randomOneBySection(d[0],d[1]):B.Num.randomOneBySection(.25,.45),S=0,b={alpha:!0,move:!1,vinish:!1};g.moveCaller=b;let L=0,v=l?B.Num.randomOneBySection(l[0],l[1]):B.Num.randomOneBySection(100,200),D=c?B.Num.randomOneBySection(c[0],c[1]):B.Num.randomOneBySection(0,360),O=h?B.Num.randomOneBySection(h[0],h[1]):B.Num.randomOneBySection(0,20);return O=0==B.Num.randomOneHalf()?O:-O,m.frameLoop(1,b,()=>{if(g.rotation+=O,g.alpha<1&&b.alpha)g.alpha+=.5,g.alpha>=1&&(b.alpha=!1,b.move=!0);else{L<v&&b.move||(b.move=!1,b.vinish=!0),b.vinish&&(g.alpha-=.05,g.alpha<=.3&&(g.removeSelf(),Laya.timer.clearAll(b))),L+=f+(S+=w);let e=B.Point.getRoundPointOld(D,L,p);g.pos(e.x,e.y)}}),g},e.outsideBox=function(e,t,a,i,o,r,s,l,c,h,u,d,y,g){let p=new n(e,t,[0,0],i,o,r,s,l,c),f=0;a=a||[100,100],h=h||60,"x"==(0==B.Num.randomOneHalf()?"x":"y")?(0==B.Num.randomOneHalf()?(p.x+=a[0],f=0==B.Num.randomOneHalf()?B.Num.randomOneBySection(0,90-h):B.Num.randomOneBySection(0,-90+h)):(p.x-=a[0],f=B.Num.randomOneBySection(90+h,270-h)),p.y+=B.Num.randomOneBySection(-a[1],a[1])):(0==B.Num.randomOneHalf()?(p.y-=a[1],f=B.Num.randomOneBySection(180+h,360-h)):(p.y+=a[1],f=B.Num.randomOneBySection(0+h,180-h)),p.x+=B.Num.randomOneBySection(-a[0],a[0]));let w=B.Point.getNPointByAngle(f),S=u?B.Num.randomOneBySection(u[0],u[1]):B.Num.randomOneBySection(20,50),b=y?B.Num.randomOneBySection(y[0],y[1]):B.Num.randomOneBySection(.5,1),L=g?B.Num.randomOneBySection(g[0],g[1]):B.Num.randomOneBySection(.25,.45),v=0,D=d?B.Num.randomOneBySection(d[0],d[1]):B.Num.randomOneBySection(0,20),O=new Laya.Point(p.x,p.y),C={alpha:!0,move:!1,vinish:!1};return p.moveCaller=C,m.frameLoop(1,C,()=>{p.rotation+=D,C.alpha?(p.alpha+=.5,p.alpha>=1&&(C.alpha=!1,C.move=!0)):C.move?O.distance(p.x,p.y)>=S&&(C.move=!1,C.vinish=!0):C.vinish&&(p.alpha-=.05,p.alpha<=.3&&(p.removeSelf(),Laya.timer.clearAll(C))),C.alpha||(v+=L,p.x+=w.x*(b+v),p.y+=w.y*(b+v))}),p},e.moveToTargetToMove=function(e,t,a,i,o,r,s,l,c,h,u,d,y,g){let p=new n(e,t,[0,0],a,i,o,s,l,c),f=t||new Laya.Point(0,0),w=y?B.Num.randomOneBySection(y[0],y[1]):B.Num.randomOneBySection(5,6),S=g?B.Num.randomOneBySection(g[0],g[1]):B.Num.randomOneBySection(.25,.45),b=0,L={alpha:!0,move1:!1,stop:!1,move2:!1,vinish:!1};p.moveCaller=L;let v=0,D=h?B.Num.randomOneBySection(h[0],h[1]):B.Num.randomOneBySection(100,200),O=u?B.Num.randomOneBySection(u[0],u[1]):B.Num.randomOneBySection(100,200),C=r?B.Num.randomOneBySection(r[0],r[1]):B.Num.randomOneBySection(0,360);return p.rotation=C-90,d?B.Num.randomOneBySection(d[0],d[1]):B.Num.randomOneBySection(0,20),m.frameLoop(1,L,()=>{L.alpha?(v+=w+(b+=S),p.alpha+=.5,p.alpha>=1&&(L.alpha=!1,L.move1=!0)):L.move1?(v+=w+(b+=S))>=D&&(L.move1=!1,L.stop=!0):L.stop?(v+=.1,(b-=.3)<=0&&(L.stop=!1,L.move2=!0)):L.move2?(v+=w+(b+=S/2))>=D+O&&(L.move2=!1,L.vinish=!0):L.vinish&&(v+=.5,p.alpha-=.05,p.alpha<=0&&(p.removeSelf(),Laya.timer.clearAll(L)));let e=B.Point.getRoundPointOld(C,v,f);p.pos(e.x,e.y)}),p},e.annularInhalation=function(e,n,a,i,o,r,s,l,c,h){let u=new Laya.Image;e.addChild(u),o=o||[25,50],u.width=B.Num.randomCountBySection(o[0],o[1])[0],u.height=r?B.Num.randomCountBySection(r[0],r[1])[0]:u.width,u.pivotX=u.width/2,u.pivotY=u.height/2,u.skin=s?B.Arr.randomGetOut(s)[0]:t[B.Num.randomCountBySection(0,12)[0]];let d=B.Num.randomCountBySection(a[0],a[1])[0];u.alpha=0;let y=l?B.Num.randomCountBySection(l[0],l[1])[0]:B.Num.randomCountBySection(5,10)[0],g=i?B.Num.randomCountBySection(i[0],i[1])[0]:B.Num.randomCountBySection(0,360)[0],p={},f=0;return c=c||.35,m.frameLoop(1,p,()=>{u.alpha<1?(u.alpha+=.05,d-=y/2+(f+=c/5)):d-=y+(f+=c);let e=B.Point.getRoundPointOld(g,d,n);u.pos(e.x,e.y),(e.distance(n.x,n.y)<=20||e.distance(n.x,n.y)>=1e3)&&(u.removeSelf(),Laya.timer.clearAll(p))}),u}}(a=e.Particle||(e.Particle={})),function(e){class n extends Laya.Image{constructor(e,n,a,i,o,r,s,l){if(super(),!e.parent)return;e.addChild(this),this.skin=i?B.Arr.randomGetOne(i):t.星星1,this.width=r?B.Num.randomOneBySection(r[0],r[1]):80,this.height=s?B.Num.randomOneBySection(s[0],s[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2;let c=a?B.Point.randomPointByCenter(n,a[0],a[1],1):B.Point.randomPointByCenter(n,100,100,1);this.pos(c[0].x,c[0].y);const h=[null,null,null,null];h[0]=o?B.Num.randomOneBySection(o[0][0],o[1][0]):B.Num.randomOneBySection(10,255),h[1]=o?B.Num.randomOneBySection(o[0][1],o[1][1]):B.Num.randomOneBySection(200,255),h[2]=o?B.Num.randomOneBySection(o[0][2],o[1][2]):B.Num.randomOneBySection(10,255),h[3]=o?B.Num.randomOneBySection(o[0][3],o[1][3]):B.Num.randomOneBySection(1,1),f.colour(this,h),this.alpha=0,this.zOrder=l||1e3}}e.GlitterImage=n,e.blinkStar=function(e,t,a,i,o,r,s,l,c,h,u){let d=new n(e,t,a,i,o,r,s,u);d.scaleX=0,d.scaleY=0;let m=l?B.Num.randomOneBySection(l[0],l[1]):B.Num.randomOneBySection(.8,1.2),y=c?B.Num.randomOneBySection(c[0],c[1]):B.Num.randomOneBySection(.01,.02),g=h?B.Num.randomOneInt(h[0],h[1]):B.Num.randomOneInt(0,5);g=0==B.Num.randomOneHalf()?-g:g;let p={appear:!0,scale:!1,vanish:!1};return d.moveCaller=p,Laya.timer.frameLoop(1,p,()=>{p.appear?(d.alpha+=.1,d.rotation+=g,d.scaleX=d.scaleY+=y,d.alpha>=1&&(p.appear=!1,p.scale=!0)):p.scale?(d.rotation+=g,d.scaleX=d.scaleY+=y,d.scaleX>m&&(p.scale=!1,p.vanish=!0)):p.vanish&&(d.rotation-=g,d.alpha-=.015,d.scaleX-=.01,d.scaleY-=.01,d.scaleX<=0&&(d.removeSelf(),Laya.timer.clearAll(p)))}),d},e.simpleInfinite=function(e,n,a,i,o,r,s,l){let c=new Laya.Image;e.addChild(c),c.width=i,c.height=o,c.pos(n,a),c.skin=s||t.方形光圈1,c.alpha=0,c.zOrder=r||0;let h=!0,u={};return Laya.timer.frameLoop(1,u,()=>{h?(c.alpha+=l?2*l:.02,c.alpha>=1&&(h=!1,u.end=!0)):(c.alpha-=l||.01,c.alpha<=0&&(u.end?(Laya.timer.clearAll(u),c.removeSelf()):h=!0))}),c}}(i=e.Glitter||(e.Glitter={})),function(e){class n extends Laya.Image{constructor(e,n,a,i,o,r){super(),e.addChild(this),this.skin=n?B.Arr.randomGetOne(n):t.圆形发光1,this.width=i?B.Num.randomOneBySection(i[0],i[1]):80,this.height=o?B.Num.randomOneBySection(o[0],o[1]):this.width,this.pivotX=this.width/2,this.pivotY=this.height/2;const s=[null,null,null,null];s[0]=a?B.Num.randomOneBySection(a[0][0],a[1][0]):B.Num.randomOneBySection(0,255),s[1]=a?B.Num.randomOneBySection(a[0][1],a[1][1]):B.Num.randomOneBySection(0,255),s[2]=a?B.Num.randomOneBySection(a[0][2],a[1][2]):B.Num.randomOneBySection(0,255),s[3]=a?B.Num.randomOneBySection(a[0][3],a[1][3]):B.Num.randomOneBySection(0,255),f.colour(this,s),this.zOrder=r||0,this.alpha=0,this.scaleX=0,this.scaleY=0}}e.ImageBase=n,e.corner=function(e,t,a,i,o,r,s,l,c){if(t.length<=1)return;let h=new n(e,a,i,o,r,s);new n(e,a,i,o,r,s).filters=h.filters,h.pos(t[0][0],t[0][1]),h.alpha=1;let u={num:0,alpha:!0,move:!1};h.moveCaller=u;let d=0;h.scale(1,1),m.frameLoop(1,u,()=>{let t=new n(e,a,i,o,r,s);t.filters=h.filters,t.x=h.x,t.y=h.y,t.rotation=h.rotation,t.alpha=1,t.zOrder=-1,t.scaleX=h.scaleX,t.scaleY=h.scaleY,v.fadeOut(t,1,0,200,0,()=>{t.removeSelf()}),null==h.parent&&Laya.timer.clearAll(u),u.num++,a&&(u.num>a.length?u.num=0:h.skin=a[u.num])});var y=()=>{let e=[t[d][0],t[d][1]],n=new Laya.Point(h.x,h.y).distance(e[0],e[1]);l&&(h.rotation=B.Point.angleByPointOld(h.x-e[0],h.y-e[1])+180);let a=100*c+n/5;d==t.length+1&&(e=[t[0][0],t[0][1]]),v.move(h,e[0],e[1],a,()=>{++d==t.length&&(d=0),y()})};return y(),h}}(o=e.Circulation||(e.Circulation={}))}(S||(S={})),function(e){let t,a,i;e.Init=class{constructor(t){e.effectType=t}get LwgClick(){return"LwgClick"}},e.absolute=!0,function(e){e[e.all=0]="all",e[e.none=1]="none",e[e.stage=2]="stage",e[e.button=3]="button",e[e.someBtnIncludeStage=4]="someBtnIncludeStage",e[e.someBtnExcludeStage=5]="someBtnExcludeStage"}(t=e.EmfilterType||(e.EmfilterType={}));class o{static get value(){return this._value}static setValue(e,n){this._value=e,e===t.someBtnIncludeStage||e===t.someBtnExcludeStage?n.length<=0?console.log("如果为筛选值为某些按钮，则必须输入按钮名称数组"):this.someBtnArr=n:this.someBtnArr=[]}static checkBtn(n){if(e.absolute){if(o.value===t.button||o.value===t.all)return!0;if((o.value===t.someBtnExcludeStage||o.value===t.someBtnIncludeStage)&&o.someBtnArr.length>0)for(let e=0;e<o.someBtnArr.length;e++){if(o.someBtnArr[e]===n)return!0}}}static checkStage(){let n=!1;return e.absolute&&(o.value!==t.all&&o.value!==t.stage&&o.value!==t.someBtnIncludeStage||(n=!0)),n}}function effectSet(e){return i[e].ins}function on(t,n,a,i,r,s,l,c=[{},{},{},{}]){t||(t=e.effectType);const h={target:n,caller:a,callBackDown:(e,t)=>{o.checkBtn(n)&&i&&i(t,e)},callBackMove:(e,t)=>{o.checkBtn(n)&&r&&r(t,e)},callBackUp:(e,t)=>{o.checkBtn(n)&&s&&s(t,e)},callBackOut:(e,t)=>{o.checkBtn(n)&&l&&l(t,e)}};e.callBackArr.push(h),n.on(Laya.Event.MOUSE_DOWN,h.caller,h.callBackDown,[c[0]]),n.on(Laya.Event.MOUSE_MOVE,h.caller,h.callBackMove,[c[1]]),n.on(Laya.Event.MOUSE_UP,h.caller,h.callBackUp,[c[2]]),n.on(Laya.Event.MOUSE_DOWN,h.caller,h.callBackOut,[c[3]]);const u=effectSet(t);n.on(Laya.Event.MOUSE_DOWN,h.caller,u.down),n.on(Laya.Event.MOUSE_MOVE,h.caller,u.move),n.on(Laya.Event.MOUSE_UP,h.caller,u.up),n.on(Laya.Event.MOUSE_OUT,h.caller,u.out)}function once(t,n,a,i,r,s,l,c=[{},{},{},{}]){t||(t=e.effectType);const h={target:n,caller:a,callBackDown:(e,t)=>{o.checkBtn(n)&&i&&i(t,e)},callBackMove:(e,t)=>{o.checkBtn(n)&&r&&r(t,e)},callBackUp:(e,t)=>{o.checkBtn(n)&&s&&s(t,e)},callBackOut:(e,t)=>{o.checkBtn(n)&&l&&l(t,e)}};e.callBackArr.push(h),n.once(Laya.Event.MOUSE_DOWN,h.caller,h.callBackDown,[c[0]]),n.once(Laya.Event.MOUSE_MOVE,h.caller,h.callBackMove,[c[1]]),n.once(Laya.Event.MOUSE_UP,h.caller,h.callBackUp,[c[2]]),n.once(Laya.Event.MOUSE_DOWN,h.caller,h.callBackOut,[c[3]]);const u=effectSet(t);n.once(Laya.Event.MOUSE_DOWN,h.caller,u.down),n.once(Laya.Event.MOUSE_MOVE,h.caller,u.move),n.once(Laya.Event.MOUSE_UP,h.caller,u.up),n.once(Laya.Event.MOUSE_OUT,h.caller,u.out)}function off(t){for(let n=0;n<e.callBackArr.length;n++){const a=e.callBackArr[n];a.target===t&&(t.off(Laya.Event.MOUSE_DOWN,a.caller,a.callBackDown),t.off(Laya.Event.MOUSE_MOVE,a.caller,a.callBackMove),t.off(Laya.Event.MOUSE_UP,a.caller,a.callBackUp),t.off(Laya.Event.MOUSE_DOWN,a.caller,a.callBackOut),e.callBackArr.splice(n,1),n--)}}o._value=t.all,o.someBtnArr=[],e.Filter=o,function(e){e.NoEffect="NoEffect",e.Largen="Largen",e.Reduce="Reduce"}(a=e.EmEffectType||(e.EmEffectType={})),e.effectType=a.Largen,e.btnOnDown=function(e,t,n,a){on(a,e,t,t=>{o.checkBtn(e)&&n&&n(t)},null,null,null)},e.btnOnDownAD=function(e,t,a,i){on(i,e,t,t=>{o.checkBtn(e)&&n.AD.showVideo(()=>{a&&a(t)})},null)},e.btnOnceDownAD=function(e,t,a,i){once(i,e,t,t=>{o.checkBtn(e)&&n.AD.showVideo(()=>{a&&a(t)})},null)},e.btnOnMove=function(e,t,n,a){on(a,e,t,null,t=>{o.checkBtn(e)&&n&&n(t)},null,null)},e.btnOnUp=function(e,t,n,a){on(a,e,t,null,null,t=>{o.checkBtn(e)&&n&&n(t)},null)},e.btnOnUpAD=function(e,t,a,i){on(i,e,t,null,null,t=>{o.checkBtn(e)&&n.AD.showVideo(()=>{a&&a(t)})},null)},e.btnOnceUpAD=function(e,t,a,i){once(i,e,t,null,null,t=>{o.checkBtn(e)&&n.AD.showVideo(()=>{a&&a(t)})},null)},e.btnOnUpADCondition=function(e,t,a,i,r,s){on(s,e,t,null,null,t=>{a&&a()?o.checkBtn(e)&&n.AD.showVideo(()=>{i&&i(t)}):o.checkBtn(e)&&r&&r(t)})},e.btnOnceUpADCondition=function(e,t,a,i,r,s){once(s,e,t,null,null,t=>{a&&a()?o.checkBtn(e)&&n.AD.showVideo(()=>{i&&i(t)}):o.checkBtn(e)&&r&&r(t)})},e.btnOnOut=function(e,t,n,a){on(a,e,t,null,null,null,t=>{o.checkBtn(e)&&n&&n(t)})},e.btnOff=function(e,t,n,a){off(e)},e.btnOnFour=function(t,n,a,i,o,r,s){on(s,t,n,n=>{e.Filter.checkBtn(t)&&a&&a(n)},n=>{e.Filter.checkBtn(t)&&i&&i(n)},n=>{e.Filter.checkBtn(t)&&o&&o(n)},n=>{e.Filter.checkBtn(t)&&r&&r(n)})},e.btnOnceDown=function(e,t,n,a){once(a,e,t,t=>{o.checkBtn(e)&&n&&n(t)},null,null,null)},e.btnOnceMove=function(e,t,n,a){once(a,e,t,null,t=>{o.checkBtn(e)&&n&&n(t)},null,null)},e.btnOnceUp=function(e,t,n,a){once(a,e,t,null,null,t=>{o.checkBtn(e)&&n&&n(t)},null)},e.btnOnceOut=function(e,t,n,a,i){once(i,e,t,null,null,null,t=>{o.checkBtn(e)&&n&&n(t,a)})},e.btnOnceFour=function(e,t,n,a,i,r,s,l){once(l,e,t,t=>{o.checkBtn(e)&&n&&n(t,s[0])},t=>{o.checkBtn(e)&&a&&a(t,s[1])},t=>{o.checkBtn(e)&&i&&i(t,s[2])},t=>{o.checkBtn(e)&&r&&r(t,s[3])})},e.callBackArr=[],e.on=on,e.once=once,e.off=off,function(t){class n{static get ins(){return this._ins||(this._ins=new n),this._ins}down(){O.playBtnSound()}move(){}up(){}out(){}}t.NoEffect=n;class a{static get ins(){return this._ins||(this._ins=new a),this._ins}down(t){e.Filter.checkBtn(t.currentTarget)&&(t.currentTarget.scale(1.1,1.1),O.playBtnSound())}move(){}up(e){e.currentTarget.scale(1,1)}out(e){e.currentTarget.scale(1,1)}}t.Largen=a;class i{static get ins(){return this._ins||(this._ins=new i),this._ins}down(t){e.Filter.checkBtn(t.currentTarget)&&(t.currentTarget.scale(.9,.9),O.playBtnSound())}move(){}up(e){e.currentTarget.scale(1,1)}out(e){e.currentTarget.scale(1,1)}}t.Reduce=i;class o{static get ins(){return this._ins||(this._ins=new o),this._ins}down(e){}move(e){}up(e){}out(e){}}t.Brighten=o;class r{static get ins(){return this._ins||(this._ins=new r),this._ins}down(e){}move(e){}up(e){}out(e){}}t.LuminousRing=r}(i=e.ClickEffects||(e.ClickEffects={}))}(b||(b={})),function(e){function moveTo(t,n,a,i,o,r,s=0,l=!0,c,h){let u=t.transform.position.clone();if(0==a||null==a)return t.transform.position=n.clone(),void(r&&r.apply(i));(h<=0||null==h)&&(h=e.frameRate);let d=()=>{t.transform&&(t.transform.position=u),c&&c()};Laya.timer.once(s,t,()=>{Laya.timer.loop(16,t,d)});let m=Laya.Tween.to(u,{x:n.x,y:n.y,z:n.z},a,o,Laya.Handler.create(t,()=>{t.transform&&(t.transform.position=n.clone(),Laya.timer.clear(t,d)),r&&r.apply(i)}),s,l);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(m)}function rotateTo(t,n,a,i,o,r,s,l,c,h){let u=t.transform.localRotationEuler.clone();if(0==a||null==a)return t.transform.localRotationEuler=n.clone(),void(r&&r.apply(i));(h<=0||null==h)&&(h=e.frameRate);let d=()=>{t.transform&&(t.transform.localRotationEuler=u),c&&c()};Laya.timer.once(s,t,()=>{Laya.timer.frameLoop(h,t,d)});let m=Laya.Tween.to(u,{x:n.x,y:n.y,z:n.z},a,o,Laya.Handler.create(t,()=>{t.transform&&(t.transform.localRotationEuler=n.clone(),Laya.timer.clear(t,d)),r&&r.apply(i)}),s,l);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(m)}e.tweenMap={},e.frameRate=1,e.moveTo=moveTo,e.moveToX=function(t,n,a,i,o,r,s=0,l=!1,c,h){let u=t.transform.position.clone(),d=new Laya.Vector3(n,u.y,u.z);if(0==a||null==a)return t.transform.position=d.clone(),void(r&&r.apply(i));(h<=0||null==h)&&(h=e.frameRate);let m=()=>{t.transform&&(t.transform.position=new Laya.Vector3(u.x,t.transform.position.y,t.transform.position.z)),c&&c()};Laya.timer.once(s,t,()=>{Laya.timer.loop(16,t,m)});let y=Laya.Tween.to(u,{x:d.x},a,o,Laya.Handler.create(t,()=>{t.transform&&(t.transform.position=new Laya.Vector3(d.clone().x,t.transform.position.y,t.transform.position.z),Laya.timer.clear(t,m)),r&&r.apply(i)}),s,l);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(y)},e.moveX=function(t,n,a,i,o,r,s=0,l=!1,c,h){const u=t.transform.position.clone();e.moveToX(t,u.x+n,a,i,o,r,s,l,c,h)},e.moveToY=function(t,n,a,i,o,r,s=0,l=!1,c,h){let u=t.transform.position.clone(),d=new Laya.Vector3(t.transform.position.x,n,t.transform.position.z);if(0==a||null==a)return t.transform.position=d.clone(),void(r&&r.apply(i));(h<=0||null==h)&&(h=e.frameRate);let m=()=>{t.transform&&(t.transform.position=new Laya.Vector3(t.transform.position.x,u.y,t.transform.position.z)),c&&c()};Laya.timer.once(s,t,()=>{Laya.timer.loop(16,t,m)});let y=Laya.Tween.to(u,{y:d.y},a,o,Laya.Handler.create(t,()=>{t.transform&&(t.transform.position=new Laya.Vector3(t.transform.position.x,d.clone().y,t.transform.position.z),Laya.timer.clear(t,m)),r&&r.apply(i)}),s,l);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(y)},e.moveY=function(t,n,a,i,o,r,s=0,l=!1,c,h){const u=t.transform.position.clone();e.moveToY(t,u.y+n,a,i,o,r,s,l,c,h)},e.moveToZ=function(t,n,a,i,o,r,s=0,l=!1,c,h){let u=t.transform.position.clone(),d=new Laya.Vector3(t.transform.position.x,t.transform.position.y,n);if(0==a||null==a)return t.transform.position=d,void(r&&r.apply(i));(h<=0||null==h)&&(h=e.frameRate);let m=()=>{t.transform&&(t.transform.position=new Laya.Vector3(t.transform.position.x,t.transform.position.y,u.z)),c&&c()};Laya.timer.once(s,t,()=>{Laya.timer.loop(16,t,m)});let y=Laya.Tween.to(u,{z:d.z},a,o,Laya.Handler.create(t,()=>{t.transform&&(t.transform.position=new Laya.Vector3(t.transform.position.x,t.transform.position.y,d.clone().z),Laya.timer.clear(t,m)),r&&r.apply(i)}),s,l);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(y)},e.moveZ=function(t,n,a,i,o,r,s=0,l=!1,c,h){const u=t.transform.position.clone();e.moveToZ(t,u.z+n,a,i,o,r,s,l,c,h)},e.rotateTo=rotateTo,e.rotateToX=function(t,n,a,i,o,r,s,l,c,h){let u=t.transform.localRotationEuler.clone();if(0==a||null==a)return t.transform.localRotationEuler=n.clone(),void(r&&r.apply(i));(h<=0||null==h)&&(h=e.frameRate);let d=()=>{t.transform&&(t.transform.localRotationEuler=u),c&&c()};Laya.timer.once(s,t,()=>{Laya.timer.frameLoop(h,t,d)});let m=Laya.Tween.to(u,{x:n.x,y:n.y,z:n.z},a,o,Laya.Handler.create(t,()=>{t.transform&&(t.transform.localRotationEuler=n.clone(),Laya.timer.clear(t,d)),r&&r.apply(i)}),s,l);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(m)},e.scaleTo=function(t,n,a,i,o,r,s,l,c,h){let u=t.transform.localScale.clone();if(0==a||null==a)return t.transform.localScale=n.clone(),void(r&&r.apply(i));(h<=0||null==h)&&(h=e.frameRate);let d=()=>{t.transform&&(t.transform.localScale=u),c&&c()};Laya.timer.once(s,this,()=>{Laya.timer.frameLoop(h,t,d)});let m=Laya.Tween.to(u,{x:n.x,y:n.y,z:n.z},a,o,Laya.Handler.create(t,()=>{t.transform.localScale=n.clone(),Laya.timer.clear(t,d),r&&r.apply(i)}),s,l);e.tweenMap[t.id]||(e.tweenMap[t.id]=[]),e.tweenMap[t.id].push(m)},e.ClearTween=function(t){let n=e.tweenMap[t.id];if(n&&n.length)for(;n.length>0;)n.pop().clear();Laya.timer.clearAll(t)},e.rock=function(e,t,n,a,i,o,r){o||(o=0);let s=new Laya.Vector3(e.transform.localRotationEulerX+t.x,e.transform.localRotationEulerY+t.y,e.transform.localRotationEulerZ+t.z);rotateTo(e,s,n/2,a,r,()=>{let o=new Laya.Vector3(e.transform.localRotationEulerX-2*t.x,e.transform.localRotationEulerY-2*t.y,e.transform.localRotationEulerZ-2*t.z);rotateTo(e,o,n,a,r,()=>{let o=new Laya.Vector3(e.transform.localRotationEulerX+t.x,e.transform.localRotationEulerY+t.y,e.transform.localRotationEulerZ+t.z);rotateTo(e,o,n/2,a,r,()=>{i&&i()})})},o)},e.moveRotateTo=function(e,t,n,a,i,o,r,s,l,c){moveTo(e,t.transform.position,n,a,i,null,r,s,l,c),rotateTo(e,t.transform.localRotationEuler,n,a,i,o,r,s,null,c)}}(L||(L={})),function(e){function bombs_Appear(e,t,n,a,i,o,r,s){e.scale(0,0),e.alpha=t,Laya.Tween.to(e,{scaleX:a,scaleY:a,alpha:1,rotation:i},o,Laya.Ease.cubicInOut,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:n,scaleY:n,rotation:0},o/2,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:n+(a-n)/3,scaleY:n+(a-n)/3,rotation:0},o/3,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:n,scaleY:n,rotation:0},o/4,null,Laya.Handler.create(this,()=>{r&&r()}),0)}),0)}),0)}),s||0)}function bombs_Vanish(e,t,n,a,i,o,r){Laya.Tween.to(e,{scaleX:t,scaleY:t,alpha:n,rotation:a},i,Laya.Ease.cubicOut,Laya.Handler.create(this,()=>{o&&o()}),r||0)}e.clearAll=function(e){for(let t=0;t<e.length;t++)Laya.Tween.clearAll(e[t])},e.circulation_scale=function(e,t,n,a,i){Laya.Tween.to(e,{scaleX:1+t,scaleY:1+t},n,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:1-t,scaleY:1-t},2*n/3,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:1,scaleY:1},1*n/2,null,Laya.Handler.create(this,()=>{i&&i()}),0)}),0)}),a||0)},e.leftRight_Shake=function(e,t,n,a,i){a||(a=0),Laya.Tween.to(e,{x:e.x-t},n,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{x:e.x+2*t},n,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{x:e.x-t},n,null,Laya.Handler.create(this,()=>{i&&i()}))}))}),a)},e.rotate=function(e,t,n,a,i){Laya.Tween.to(e,{rotation:t},n,null,Laya.Handler.create(e,()=>{i&&i()}),a||0)},e.upDown_Overturn=function(e,t,n){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,()=>{n&&n()}),0)}),0)}),0)}),0)},e.leftRight_Overturn=function(e,t,n){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:1},t,null,Laya.Handler.create(this,()=>{}),0),n&&n()}),0)}),0)}),0)},e.upDwon_Shake=function(e,t,n,a,i){Laya.Tween.to(e,{y:e.y+t},n,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{y:e.y-2*t},n,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{y:e.y+t},n,null,Laya.Handler.create(this,()=>{i&&i()}))}))}),a||0)},e.fadeOut=function(e,t,n,a,i,o){e.alpha=t,Laya.Tween.to(e,{alpha:n},a,null,Laya.Handler.create(this,()=>{o&&o()}),i||0)},e.fadeOut_KickBack=function(e,t,n,a,i,o){e.alpha=t,Laya.Tween.to(e,{alpha:n},a,null,Laya.Handler.create(this,()=>{o&&o()}),i)},e.move_FadeOut=function(e,t,n,a,i,o,r,s){e.alpha=0,e.x=t,e.y=n,Laya.Tween.to(e,{alpha:1,x:a,y:i},o,null,Laya.Handler.create(this,()=>{s&&s()}),r)},e.move_Fade_Out=function(e,t,n,a,i,o,r,s){e.alpha=1,e.x=t,e.y=n,Laya.Tween.to(e,{alpha:0,x:a,y:i},o,null,Laya.Handler.create(this,()=>{s&&s()}),r)},e.move_FadeOut_Scale=function(e,t,n,a,i,o,r,s){e.alpha=0,e.x=t,e.y=n,Laya.Tween.to(e,{alpha:1,x:a,y:i,scaleX:1,scaleY:1},o,null,Laya.Handler.create(this,()=>{s&&s()}),r)},e.move_Scale=function(e,t,n,a,i,o,r,s,l,c,h){e.scaleX=t,e.scaleY=t,e.x=n,e.y=a,Laya.Tween.to(e,{x:i,y:o,scaleX:r,scaleY:r},s,c||null,Laya.Handler.create(this,()=>{h&&h()}),l||0)},e.move_Rotate=function(e,t,n,a,i,o){Laya.Tween.to(e,{rotation:t,x:n.x,y:n.y},a,null,Laya.Handler.create(e,()=>{o&&o()}),i||0)},e.rotate_Scale=function(e,t,n,a,i,o,r,s,l,c){e.scaleX=n,e.scaleY=a,e.rotation=t,Laya.Tween.to(e,{rotation:i,scaleX:o,scaleY:r},s,null,Laya.Handler.create(this,()=>{c&&c(),e.rotation=0}),l||0)},e.drop_Simple=function(e,t,n,a,i,o,r){e.y=t,Laya.Tween.to(e,{y:n,rotation:a},i,Laya.Ease.circOut,Laya.Handler.create(this,()=>{r&&r()}),o)},e.drop_KickBack=function(e,t,n,a,i,o,r,s){e.alpha=t,e.y=n,r||(r=0),Laya.Tween.to(e,{alpha:1,y:a+i},o,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{y:a-i/2},o/2,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{y:a},o/4,null,Laya.Handler.create(this,()=>{s&&s()}),0)}),0)}),r)},e.drop_Excursion=function(e,t,n,a,i,o,r){Laya.Tween.to(e,{x:e.x+n,y:e.y+1*t/6},i,Laya.Ease.expoIn,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{x:e.x+n+50,y:t,rotation:a},i,null,Laya.Handler.create(this,()=>{null!==r&&r()}),0)}),o)},e.goUp_Simple=function(e,t,n,a,i,o,r){e.y=t,e.rotation=n,Laya.Tween.to(e,{y:a,rotation:0},i,Laya.Ease.cubicOut,Laya.Handler.create(this,()=>{null!==r&&r()}),o)},e.cardRotateX_TowFace=function(e,t,n,a,i){Laya.Tween.to(e,{scaleX:0},t,null,Laya.Handler.create(this,()=>{B.Node.childrenVisible2D(e,!1),n&&n(),Laya.Tween.to(e,{scaleX:1},.9*t,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:0},.8*t,null,Laya.Handler.create(this,()=>{B.Node.childrenVisible2D(e,!0),Laya.Tween.to(e,{scaleX:1},.7*t,null,Laya.Handler.create(this,()=>{i&&i()}),0)}),0)}),0)}),a)},e.cardRotateX_OneFace=function(e,t,n,a,i){Laya.Tween.to(e,{scaleX:0},n,null,Laya.Handler.create(this,()=>{null!==t&&t(),Laya.Tween.to(e,{scaleX:1},n,null,Laya.Handler.create(this,()=>{null!==i&&i()}),0)}),a)},e.cardRotateY_TowFace=function(e,t,n,a,i){Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,()=>{B.Node.childrenVisible2D(e,!1),n&&n(),Laya.Tween.to(e,{scaleY:1},t,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleY:0},t,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleY:1},1*t/2,null,Laya.Handler.create(this,()=>{B.Node.childrenVisible2D(e,!0),i&&i()}),0)}),0)}),0)}),a)},e.cardRotateY_OneFace=function(e,t,n,a,i){Laya.Tween.to(e,{scaleY:0},n,null,Laya.Handler.create(this,()=>{t&&t(),Laya.Tween.to(e,{scaleY:1},n,null,Laya.Handler.create(this,()=>{i&&i()}),0)}),a||0)},e.move_changeRotate=function(e,t,n,a,i,o,r){let s=t*a+e.x*(1-a),l=n*a+e.y*(1-a);Laya.Tween.to(e,{x:s,y:l,rotation:45},o,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{x:t,y:n,rotation:0},o,null,Laya.Handler.create(this,()=>{null!==r&&r()}),0)}),0)},e.bomb_LeftRight=function(e,t,n,a,i){Laya.Tween.to(e,{scaleX:t},n,Laya.Ease.cubicInOut,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:.85},.5*n,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:.9*t},.55*n,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:.95},.6*n,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:1},.65*n,null,Laya.Handler.create(this,()=>{a&&a()}),0)}),0)}),0)}),0)}),i)},e.bombs_Appear=bombs_Appear,e.bombs_AppearAllChild=function(e,t,n,a,i,o,r,s,l){let c=0;r||(r=100);for(let l=0;l<e.numChildren;l++){let h=e.getChildAt(l);h.alpha=0,Laya.timer.once(c,this,()=>{h.alpha=1,e.numChildren,bombs_Appear(h,t,n,a,i,o,s)}),c+=r}},e.bombs_VanishAllChild=function(e,t,n,a,i,o,r){let s=0;o||(o=100);for(let l=0;l<e.numChildren;l++)e.getChildAt(l),Laya.timer.once(s,this,()=>{e.numChildren,bombs_Vanish(e,t,n,a,i,r)}),s+=o},e.bombs_Vanish=bombs_Vanish,e.swell_shrink=function(e,t,n,a,i,o){i||(i=0),Laya.Tween.to(e,{scaleX:n,scaleY:n,alpha:1},a,Laya.Ease.cubicInOut,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},a,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:t+.5*(n-t),scaleY:t+.5*(n-t),rotation:0},.5*a,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:t,scaleY:t,rotation:0},a,null,Laya.Handler.create(this,()=>{o&&o()}),0)}),0)}),0)}),i)},e.move=function(e,t,n,a,i,o,r){Laya.Tween.to(e,{x:t,y:n},a,r||null,Laya.Handler.create(this,()=>{i&&i()}),o||0)},e.move_Deform_X=function(e,t,n,a,i,o,r,s,l){e.alpha=0,e.x=t,e.rotation=n,Laya.Tween.to(e,{x:a,scaleX:1+i,scaleY:1+o,rotation:n/3,alpha:1},r,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},r,null,Laya.Handler.create(this,()=>{null!==l&&l()}),0)}),s)},e.move_Deform_Y=function(e,t,n,a,i,o,r,s,l){e.alpha=0,t&&(e.y=t),e.rotation=n,Laya.Tween.to(e,{y:a,scaleX:1+i,scaleY:1+o,rotation:n/3,alpha:1},r,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{scaleX:1,scaleY:1,rotation:0},r,null,Laya.Handler.create(this,()=>{null!==l&&l()}),0)}),s)},e.blink_FadeOut_v=function(e,t,n,a,i,o){e.alpha=t,Laya.Tween.to(e,{alpha:n},a,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{alpha:t},a,null,Laya.Handler.create(this,()=>{null!==o&&o()}),0)}),i)},e.blink_FadeOut=function(e,t,n,a,i,o){e.alpha=t,i||(i=0),Laya.Tween.to(e,{alpha:t},a,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{alpha:n},a,null,Laya.Handler.create(this,()=>{o&&o()}),0)}),i)},e.shookHead_Simple=function(e,t,n,a,i){let o=e.rotation;Laya.Tween.to(e,{rotation:o+t},n,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{rotation:o-2*t},n,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{rotation:o+t},n,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{rotation:o},n,null,Laya.Handler.create(this,()=>{i&&i()}),0)}),0)}),0)}),a||0)},e.hideAni_01=function(e,t,n,a,i,o,r){e.alpha=0,Laya.Tween.to(e,{alpha:1,y:e.y-t},n,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{y:e.y-15},a,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{alpha:0,y:e.y+t+i},o,null,Laya.Handler.create(this,()=>{null!==r&&r()}),0)}),0)}),0)},e.scale_Alpha=function(e,t,n,a,i,o,r,s,l,c,h){l||(l=0),h||(h=null),e.alpha=t,e.scaleX=n,e.scaleY=a,Laya.Tween.to(e,{scaleX:i,scaleY:o,alpha:r},s,h,Laya.Handler.create(this,()=>{c&&c()}),l)},e.scale=function(e,t,n,a,i,o,r,s,l){e.scaleX=t,e.scaleY=n,Laya.Tween.to(e,{scaleX:a,scaleY:i},o,l||null,Laya.Handler.create(this,()=>{s&&s()}),r||0)},e.rotate_Magnify_KickBack=function(e,t,n,a,i,o,r,s){e.alpha=0,e.scaleX=0,e.scaleY=0,Laya.Tween.to(e,{alpha:1,rotation:360+t,scaleX:1+n,scaleY:1+n},a,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{rotation:360-t/2,scaleX:1+n/2,scaleY:1+n/2},i,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{rotation:360+t/3,scaleX:1+n/5,scaleY:1+n/5},i,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{rotation:360,scaleX:1,scaleY:1},i,null,Laya.Handler.create(this,()=>{e.rotation=0,null!==s&&s()}),0)}),r)}),0)}),o)}}(v||(v={})),function(e){e.Sound=class{static get switch(){return"0"!=Laya.LocalStorage.getItem("Setting/sound")}static set switch(e){let t;t=e?1:0,Laya.LocalStorage.setItem("Setting/sound",t.toString())}};e.BgMusic=class{static get switch(){return"0"!=Laya.LocalStorage.getItem("Setting/bgMusic")}static set switch(e){let t;e?(t=1,Laya.LocalStorage.setItem("Setting/bgMusic",t.toString()),O.playMusic()):(t=0,Laya.LocalStorage.setItem("Setting/bgMusic",t.toString()),O.stopMusic())}};e.Shake=class{static get switch(){return"0"!=Laya.LocalStorage.getItem("Setting/shake")}static set switch(e){let t;t=e?1:0,Laya.LocalStorage.setItem("Setting/shake",t.toString())}};class t extends o.ViewObjBase{static get ins(){return this._ins||(this._ins=new t),this._ins}createCb(){this.view.on(Laya.Event.CLICK,this,this.onView)}onView(e){e.stopPropagation(),o.openScene(o.NameBase.Set)}}e.Button=t}(D||(D={})),function(e){e.Init=class{constructor(t,n,a){e.bgmUrl=t,e.btnUrl=n,e.getMoneyUrl=a,e.playMusic()}get LwgSound(){return"LwgSound"}},e.bgmUrl="",e.btnUrl="",e.victoryUrl="",e.defeatedUrl="",e.getMoneyUrl="",e.playSound=function(t,n,a){t||(t=e.btnUrl),n||(n=1),D.Sound.switch&&Laya.SoundManager.playSound(t,n,Laya.Handler.create(this,()=>{a&&a()}))},e.playBtnSound=function(t,n){t||(t=1),D.Sound.switch&&Laya.SoundManager.playSound(e.btnUrl,t,Laya.Handler.create(this,()=>{n&&n()}))},e.playMusic=function(t,n,a){D.BgMusic.switch&&Laya.SoundManager.playMusic(t||e.bgmUrl,n||0,Laya.Handler.create(this,()=>{}),a||0)},e.stopMusic=function(){Laya.SoundManager.stopMusic()},e.stopSound=function(e){Laya.SoundManager.stopSound(e)},e.stopAllSound=function(){Laya.SoundManager.stopAllSound()},e.stopAll=function(){Laya.SoundManager.stopAll()}}(O||(O={})),function(e){let t,n,a,i,o,r,l,c,h,u;!function(e){function writeMsgToFileThenDownload(e,t){const n=document.createElement("a");n.download=t,n.style.display="none";const a=new Blob([e]);n.href=URL.createObjectURL(a),document.body.appendChild(n),n.click(),document.body.removeChild(n)}function setData(e,t){e.name=t.name,e.active=t.active,e.data={localPositionX:t.transform.localPosition.x,localPositionY:t.transform.localPosition.y,localPositionZ:t.transform.localPosition.z,localRotationEulerX:t.transform.localRotationEuler.x,localRotationEulerY:t.transform.localRotationEuler.y,localRotationEulerZ:t.transform.localRotationEuler.z,localScaleX:t.transform.localScale.x,localScaleY:t.transform.localScale.y,localScaleZ:t.transform.localScale.z}}e.getMsgFromSprite3DArr=function(e){if(e.length<=0)return void console.log("------ getMsg err");console.log("------- getMsg start");let t=[],n={RECORDS:[]};for(let n=0;n<e.length;n++){let a=e[n],i={};i.name=a.name;let o=[];for(let e=0;e<a.numChildren;e++){let t={};setData(t,a.getChildAt(e)),o.push(t)}i.childData=o,t.push(i)}n.RECORDS=t,writeMsgToFileThenDownload(JSON.stringify(n),"LevelsMsg.json")},e.getMsgFromSprite3D=function(e){if(!e||e.destroyed)return void console.log("------ getMsg err");console.log("------- getMsg start");let t=[],n={RECORDS:[]};for(let n=0;n<e.numChildren;n++){let a={},i=e.getChildAt(n);a.name=i.name;let o=[];for(let e=0;e<i.numChildren;e++){let t={};setData(t,i.getChildAt(e)),o.push(t)}a.childData=o,t.push(a)}n.RECORDS=t,writeMsgToFileThenDownload(JSON.stringify(n),"Roads.json")}}(t=e.NodeData||(e.NodeData={})),function(e){e.numberConvertedtoChinese=function(e){let t="";switch(e){case 1:t="一";break;case 2:t="二";break;case 3:t="三";break;case 4:t="四";break;case 5:t="五";break;case 6:t="六";break;case 7:t="七";break;case 8:t="八";break;case 9:t="九";break;case 10:t="十"}return t},e.formatNumber=function(e,t=0){let n;return n=e>=1e27?(e/1e27).toFixed(t)+"ae":e>=1e24?(e/1e24).toFixed(t)+"ad":e>=1e21?(e/1e21).toFixed(t)+"ac":e>=1e18?(e/1e18).toFixed(t)+"ab":e>=1e15?(e/1e15).toFixed(t)+"aa":e>=1e12?(e/1e12).toFixed(t)+"t":e>=1e9?(e/1e9).toFixed(t)+"b":e>=1e6?(e/1e6).toFixed(t)+"m":e>=1e3?(e/1e3).toFixed(t)+"k":Math.round(e).toString()},e.strAddNum=function(e,t){return(Number(e)+t).toString()},e.NumAddStr=function(e,t){return Number(t)+e}}(n=e.Format||(e.Format={})),function(t){t.setChildrenReverseZOrder=function(e){for(let t=0;t<e.numChildren;t++){const n=e.getChildAt(t);e.setChildIndex(n,0)}},t.setTieByParent=function(e){const t=e.parent;e.x>t.width-e.width/2&&(e.x=t.width-e.width/2),e.x<e.width/2&&(e.x=e.width/2),e.y>t.height-e.height/2&&(e.y=t.height-e.height/2),e.y<e.height/2&&(e.y=e.height/2)},t.setTieByStage=function(e,t){const n=e.parent,a=n.localToGlobal(new Laya.Point(e.x,e.y));t?a.x>Laya.stage.width-e.width/2&&(a.x=Laya.stage.width-e.width/2):a.x>Laya.stage.width&&(a.x=Laya.stage.width),t?a.x<e.width/2&&(a.x=e.width/2):a.x<0&&(a.x=0),t?a.y>Laya.stage.height-e.height/2&&(a.y=Laya.stage.height-e.height/2):a.y>Laya.stage.height&&(a.y=Laya.stage.height),t?a.y<e.height/2&&(a.y=e.height/2):a.y<0&&(a.y=0);const i=n.globalToLocal(a);e.pos(i.x,i.y)},t.getISLeaveStage=function(e,t){let n=e.parent;if(!n)return!1;let a=n.localToGlobal(new Laya.Point(e.x,e.y));return a.x>Laya.stage.width+10||a.x<-10?(t&&t(),!0):a.y>Laya.stage.height+10||a.y<-10?(t&&t(),!0):void 0},t.getNodeGPoint=function(e){if(e.parent)return e.parent.localToGlobal(new Laya.Point(e.x,e.y))},t.checkTwoDistance=function(e,t,n,a){if(!e||!t)return;let i=e.parent,o=t.parent;if(!e.parent||!t.parent)return;let r=i.localToGlobal(new Laya.Point(e.x,e.y)),s=o.localToGlobal(new Laya.Point(t.x,t.y));return r.distance(s.x,s.y)<=n&&a&&a(),r.distance(s.x,s.y)},t.setChildZOrderByPosY=function(e,t,n){let a=[];if(0==e.numChildren)return a;for(let t=0;t<e.numChildren;t++){const n=e.getChildAt(t);a.push(n)}if(h.sortByProperty(a,"y"),t)for(let e=0;e<a.length;e++)a[e].zOrder=e;if(n){let e=[];for(let t=a.length-1;t>=0;t--){const n=a[t];console.log(n),n.zOrder=a.length-t,e.push(n)}return e}return a},t.getChildArrByProperty=function(e,t,n){let a=[];for(let i=0;i<e.numChildren;i++){const o=e.getChildAt(i);o[t]==n&&a.push(o)}return a},t.randomChildren=function(t,n){let a=[],i=[];for(let e=0;e<t.numChildren;e++)i.push(e);let o=e.Arr.randomGetOut(i,n);for(let e=0;e<o.length;e++)a.push(t.getChildAt(o[e]));return a},t.destroyAllChildren=function(e){for(let t=0;t<e.numChildren;t++)e.getChildAt(t).destroy(!0),t--},t.destroyOneChildren=function(e,t){for(let n=0;n<e.numChildren;n++){const a=e.getChildAt(n);a.name==t&&(a.destroy(!0),n--)}},t.removeAllChildren=function(e){e.numChildren>0&&e.removeChildren(0,e.numChildren-1)},t.removeOneChildren=function(e,t){for(let n=0;n<e.numChildren;n++){const a=e.getChildAt(n);a.name==t&&(a.removeSelf(),n--)}},t.showExcludedChild2D=function(e,t,n){for(let a=0;a<e.numChildren;a++){let i=e.getChildAt(a);for(let e=0;e<t.length;e++)i.name==t[e]?i.visible=!(!n&&null!=n):i.visible=!n&&null!=n}},t.showExcludedChild3D=function(e,t,n){for(let a=0;a<e.numChildren;a++){let i=e.getChildAt(a);for(let e=0;e<t.length;e++)i.name==t[e]?i.active=!(!n&&null!=n):i.active=!n&&null!=n}},t.createPrefabByPool=function(e,t,n,a,i,o){o=o||e.json.props.name;const r=Laya.Pool.getItemByCreateFun(o,e.create,e);return t&&t.addChild(r),n&&r.pos(n[0],n[1]),a&&r.addComponent(a),r.name=o,s.addProperty(r),i&&(r.zOrder=i),r},t.childrenVisible2D=function(e,t){for(let n=0;n<e.numChildren;n++){const a=e.getChildAt(n);a.visible=!!t}},t.childrenVisible3D=function(e,t){for(let n=0;n<e.numChildren;n++){const a=e.getChildAt(n);a.active=!!t}},t.findChild3D=function findChild3D(e,t){var n;if(null!=(n=e.getChildByName(t)))return n;for(var a=null,i=0;i<e.numChildren;i++)if(null!=(a=findChild3D(e.getChildAt(i),t)))return a;return null},t.findChild2D=function findChild2D(e,t){var n;if(null!=(n=e.getChildByName(t)))return n;for(var a=null,i=0;i<e.numChildren;i++)if(null!=(a=findChild2D(e.getChildAt(i),t)))return a;return null},t.findNodeBelongToParent=function findNodeBelongToParent(e,t){return e.parent&&e.parent.name==t?e.parent:e.parent?findNodeBelongToParent(e.parent,t):void 0}}(a=e.Node||(e.Node={})),function(t){t.randomOneHalf=function(){let e;return e=Math.floor(2*Math.random())},t.randomNumerical=function(t,n,a){let i=t?e.Num.randomOneBySection(t[0],t[1]):e.Num.randomOneBySection(n[0],n[1]);return a&&(i=0===e.Num.randomOneHalf()?i:-i),i},t.randomOneInt=function(e,t){return t?Math.round(Math.random()*(t-e))+e:Math.round(Math.random()*e)},t.randomCountBySection=function(e,t,n,a){let i=[];if(n||(n=1),t){for(;n>i.length;){let n;n=a||null==a?Math.round(Math.random()*(t-e))+e:Math.random()*(t-e)+e,i.push(n),u.unique01(i)}return i}for(;n>i.length;){let t;t=a||null==a?Math.round(Math.random()*e):Math.random()*e,i.push(t),u.unique01(i)}return i},t.randomOneBySection=function(e,t,n){let a;if(e>t&&(a=e,e=t,t=a),t){let a;return a=n?Math.round(Math.random()*(t-e))+e:Math.random()*(t-e)+e}{let t;return t=n?Math.round(Math.random()*e):Math.random()*e}}}(i=e.Num||(e.Num={})),function(t){function multiPointBezier(e,t){for(var n=e.length,a=0,i=0,o=function(e,t){for(var n=1,a=1;t>0;)n*=e,a*=t,e--,t--;return n/a},r=0;r<n;r++){var s=e[r];a+=s.x*Math.pow(1-t,n-1-r)*Math.pow(t,r)*o(n-1,r),i+=s.y*Math.pow(1-t,n-1-r)*Math.pow(t,r)*o(n-1,r)}return{x:a,y:i}}function getRadianByAngle(e){return Math.PI/180*e}t.createBezierPoints=function(e,t){for(var n=[],a=0;a<t;a++){var i=multiPointBezier(e,a/t);n.push(i)}return n},t.getOtherLocal=function(e,t){let n=e.parent.localToGlobal(new Laya.Point(e.x,e.y));return t.globalToLocal(n)},t.getRadianByAngle=getRadianByAngle,t.angleByPointOld=function(e,t){let n=90-Math.atan2(e,t)*(180/Math.PI);return n<=0&&(n=270+(90+n)),n-90},t.getAngleByPoint=function(e,t){let n=Math.atan2(t,e)*(180/Math.PI);return n<=0&&(n=360+n),n},t.getNPointByAngle=function(e){const t=(90-e)/(180/Math.PI),n=new Laya.Point(Math.sin(t),Math.cos(t));return n.normalize(),n},t.angleByPointNew=function(e){const t=getRadianByAngle(e),n=new Laya.Point(Math.cos(t),Math.sin(t));return n.normalize(),n},t.dotRotatePoint=function(e,t,n,a,i){let o=e+(n-e)*Math.cos(i*Math.PI/180)-(a-t)*Math.sin(i*Math.PI/180),r=t+(n-e)*Math.sin(i*Math.PI/180)+(a-t)*Math.cos(i*Math.PI/180);return new Laya.Point(o,r)},t.angleAndLenByPoint=function(e,t){const n=new Laya.Point;return n.x=t*Math.cos(e*Math.PI/180),n.y=t*Math.sin(e*Math.PI/180),n},t.getRoundPointOld=function(e,t,n){const a=getRadianByAngle(e),i=n.x+Math.sin(a)*t,o=n.y-Math.cos(a)*t;return new Laya.Point(i,o)},t.getRoundPointNew=function(e,t,n){const a=getRadianByAngle(e);if(n){const e=n.x+Math.cos(a)*t,i=n.y+Math.sin(a)*t;return new Laya.Point(e,i)}return new Laya.Point(null,null)},t.randomPointByCenter=function(t,n,a,i=1){let o=[];for(let r=0;r<i;r++){let i=e.Num.randomCountBySection(0,n,1,!1),r=e.Num.randomCountBySection(0,a,1,!1),s=0==e.Num.randomOneHalf()?i[0]:-i[0],l=0==e.Num.randomOneHalf()?r[0]:-r[0],c=new Laya.Point(t.x+s,t.y+l);o.push(c)}return o},t.getPointArrBetweenTwoPoint=function(e,t,n){let a=[],i=t.x-e.x,o=t.y-e.y;for(let t=0;t<n;t++)a.push(new Laya.Point(e.x+i/n*t,e.y+o/n*t));return a.length>=1&&a.unshift(),a.length>=1&&a.pop(),a},t.reverseVector=function(e,t,n){let a=new Laya.Point(e.x-t.x,e.y-t.y);return n&&a.normalize(),a}}(o=e.Point||(e.Point={})),function(t){function getTwoSubV3(e,t,n){let a=new Laya.Vector3;if(Laya.Vector3.subtract(e,t,a),n){let e=new Laya.Vector3;return Laya.Vector3.normalize(a,e),e}return a}t.setLightShadow=function(e,t=Laya.ShadowMode.SoftHigh,n=200,a=4096,i=Laya.ShadowCascadesMode.NoCascades){e.shadowMode=t,e.shadowDistance=n,e.shadowResolution=a,e.shadowCascadesMode=Laya.ShadowCascadesMode.NoCascades},t.setCastShadow=function(e,t){if(e&&!e.destroyed){e instanceof Laya.MeshSprite3D?e.meshRenderer.castShadow=t:e instanceof Laya.SkinnedMeshSprite3D&&(e.skinnedMeshRenderer.castShadow=t);for(var n=0;n<e.numChildren;n++)this.setCastShadow(e.getChildAt(n),t)}},t.setReceiveShadow=function(e,t){if(e&&!e.destroyed){e instanceof Laya.MeshSprite3D?e.meshRenderer.receiveShadow=t:e instanceof Laya.SkinnedMeshSprite3D&&(e.skinnedMeshRenderer.receiveShadow=t);for(var n=0;n<e.numChildren;n++)this.setReceiveShadow(e.getChildAt(n),t)}},t.randomScopeByPosition=function(t,n){let a=e.Num.randomOneBySection(n[0][0],n[1][0]),i=e.Num.randomOneBySection(n[0][1],n[1][1]),o=e.Num.randomOneBySection(n[0][2],n[1][2]);a=0==e.Num.randomOneHalf()?a:-a,i=0==e.Num.randomOneHalf()?i:-i,o=0==e.Num.randomOneHalf()?o:-o,t.transform.position=new Laya.Vector3(t.transform.position.x+a,t.transform.position.y+i,t.transform.position.z+o)},t.getMeshSize=function(e){if(e.meshRenderer){let t,n=e.meshRenderer.bounds.getExtent();return t=new Laya.Vector3(2*n.x,2*n.y,2*n.z)}},t.getSkinMeshSize=function(e){if(e.skinnedMeshRenderer){let t,n=e.skinnedMeshRenderer.bounds.getExtent();return t=new Laya.Vector3(2*n.x,2*n.y,2*n.z)}},t.getTwoNodeDistance=function(e,t){let n=e.transform.position,a=t.transform.position,i=new Laya.Vector3;return Laya.Vector3.subtract(n,a,i),Laya.Vector3.scalarLength(i)},t.getTwoPositionDistance=function(e,t){let n=getTwoSubV3(e,t);return Laya.Vector3.scalarLength(n)},t.getTwoSubV3=getTwoSubV3,t.getMaximumDistanceLimit=function(e,t,n){let a=new Laya.Vector3,i=t.transform.position;if(Laya.Vector3.subtract(i,e,a),Laya.Vector3.scalarLength(a)>=n){let i=new Laya.Vector3;Laya.Vector3.normalize(a,i);let o=e.x+i.x*n,r=e.y+i.y*n,s=e.z+i.z*n,l=new Laya.Vector3(o,r,s);return t.transform.position=l,l}},t.getPosToScreen=function(e,t){let n=new Laya.Vector4;t.viewport.project(e,t.projectionViewMatrix,n);let a=new Laya.Vector2;return a.x=n.x/Laya.stage.clientScaleX,a.y=n.y/Laya.stage.clientScaleY,a},t.getReverseV3=function(e,t,n){let a=new Laya.Vector3(e.x-t.x,e.y-t.y,e.z-t.z);if(n){let e=new Laya.Vector3;return Laya.Vector3.normalize(a,e),e}return a},t.rayScanning=function(e,t,n,a){let i=new Laya.Ray(new Laya.Vector3(0,0,0),new Laya.Vector3(0,0,0)),o=new Array;const r=new Laya.Vector2(Laya.stage.clientScaleX*n.x,Laya.stage.clientScaleY*n.y);if(e.viewportPointToRay(r,i),t.physicsSimulation.rayCastAll(i,o),a){let e;for(let t=0;t<o.length;t++)o[t].collider.owner.name==a&&(e=o[t]);return e}return o},t.rayScanningFirst=function(e,t,n){let a=new Laya.Ray(new Laya.Vector3(0,0,0),new Laya.Vector3(0,0,0)),i=new Laya.HitResult;const o=new Laya.Vector2(Laya.stage.clientScaleX*n.x,Laya.stage.clientScaleY*n.y);return e.viewportPointToRay(o,a),t.physicsSimulation.rayCast(a,i),i},t.playAnimator=function(e,t,n=1,a,i){let o=e.getComponent(Laya.Animator);if(o){if(o.speed=n,i||(i=0),t)try{o.play(t,i)}catch(n){console.log(e.name,"没有动画组件",t)}else console.log(e.name,"没有动画组件",t);return o}console.log(e.name,"没有动画组件")}}(r=e.D3||(e.D3={})),function(e){e.sk_indexControl=function(e,t){e.play(t,!0),e.player.currentTime=15e3/e.player.cacheFrameRate}}(l=e.Skeleton||(e.Skeleton={})),function(e){e.drawPieMask=function(e,t,n){e.cacheAs="bitmap";let a=new Laya.Sprite;return a.blendMode="destination-out",e.addChild(a),a.graphics.drawPie(e.width/2,e.height/2,e.width/2+10,t,n,"#000000")},e.screenshot=function(e,t){return e.drawToCanvas(e.width,e.height,e.x,e.y).toBase64("image/png",t||1)},e._texArr=[],e.cameraToSprite=function(t,n){const a=t.clone();t.scene.addChild(a),a.transform.position=t.transform.position,a.transform.localRotationEuler=t.transform.localRotationEuler,a.renderTarget=new Laya.RenderTexture(n.width,n.height),a.renderingOrder=-1,a.clearFlag=Laya.CameraClearFlags.Sky;const i=new Laya.Texture(a.renderTarget,Laya.Texture.DEF_UV);n.graphics.drawTexture(i,n.x,n.y,n.width,n.height),e._texArr.push(i),e._texArr.length>3&&(e._texArr[0].destroy(),e._texArr.shift()),m.frameOnce(5,this,()=>{a.destroy()})},e.drawToTex=function(e,t){return e.drawToTexture(e.width,e.height,e.x,e.y)},e.maskRound=function(e,t,n){null!=n&&1!=n||a.destroyAllChildren(e);let i=e.getChildByName("maskRound");i||((i=new Laya.Sprite).name="maskRound",i.blendMode="destination-out",e.addChild(i)),e.cacheAs="bitmap";for(let e=0;e<t.length;e++)i.graphics.drawCircle(t[e][0],t[e][1],t[e][2],"#000000");return i.pos(0,0),i},e.maskRect=function(e,t,n){null!=n&&1!=n||a.removeAllChildren(e);let i=e.getChildByName("maskRectRound");i||((i=new Laya.Sprite).name="maskRectRound",i.blendMode="destination-out",e.addChild(i)),"bitmap"!==e.cacheAs&&(e.cacheAs="bitmap");for(let e=0;e<t.length;e++){const n=t[e];n[0]=Math.round(n[0]),n[1]=Math.round(n[1]),n[2]=Math.round(n[2]),n[3]=Math.round(n[3]),i.graphics.drawRect(n[0],n[1],n[2],n[3],{fillStyle:"#000000"})}},e.maskRectRound=function(e,t,n){null!=n&&1!=n||a.removeAllChildren(e);let i=e.getChildByName("maskRectRound");i||((i=new Laya.Sprite).name="maskRectRound",i.blendMode="destination-out",e.addChild(i)),"bitmap"!==e.cacheAs&&(e.cacheAs="bitmap");for(let e=0;e<t.length;e++){const n=t[e];n[0]=Math.round(n[0]),n[1]=Math.round(n[1]),n[2]=Math.round(n[2]),n[3]=Math.round(n[3]),n[4]=Math.round(n[4]),i.graphics.drawPath(n[0],n[1],[["moveTo",n[4],0],["lineTo",n[2]-n[4],0],["arcTo",n[2],0,n[2],n[4],n[4]],["lineTo",n[2],n[3]-n[4]],["arcTo",n[2],n[3],n[2]-n[4],n[3],n[4]],["lineTo",n[3]-n[4],n[3]],["arcTo",0,n[3],0,n[3]-n[4],n[4]],["lineTo",0,n[4]],["arcTo",0,0,n[4],0,n[4]],["closePath"]],{fillStyle:"#000000"}),i.pivotX=n[2]/2,i.pivotY=n[3]/2,i.pos(0,0)}}}(c=e.Draw||(e.Draw={})),function(e){function objCopy(e){var t={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n];if("object"==typeof a)if(Array.isArray(a)){let e=u.copy(a);t[n]=e}else objCopy(a);else t[n]=a}return t}e.sortByProperty=function(e,t){return e.sort(function(e,n){var a=e[t],i=n[t];return isNaN(Number(a))||isNaN(Number(i))||(a=Number(a),i=Number(i)),a<i?-1:a>i?1:0}),e},e.getDiffProByTwoArr=function(e,t,n){for(var a=[],i=0;i<e.length;i++){for(var o=e[i],r=o[n],s=!1,l=0;l<t.length;l++)if(t[l][n]==r){s=!0;break}if(!s){let e=h.objCopy(o);a.push(e)}}return a},e.mergeObjArr1ToObjArr2ByPro=function(e,t,n){if(n)for(let n=0;n<e.length;n++){const a=e[n];for(let e=0;e<t.length;e++){const n=t[e];for(const e in a)Object.prototype.hasOwnProperty.call(a,e)&&void 0===n[e]&&(n[e]=a[e])}}else for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const i=e[a];for(let e=0;e<t.length;e++){const a=t[e];if(null!=i[n]&&void 0!==a[n])for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&void 0===a[e]&&(a[e]=i[e])}}},e.identicalPropertyObjArr=function(e,t,n){for(var a=[],i=0;i<e.length;i++){for(var o=e[i],r=o[n],s=!1,l=0;l<t.length;l++)if(t[l][n]==r){s=!0;break}s&&a.push(o)}return a},e.uniqueByProPerty=function(e,t){for(var n=0,a=e.length;n<a;n++){var i=n+1;for(a=e.length;i<a;i++)e[n][t]===e[i][t]&&(e.splice(i,1),i--,a--)}return e},e.getArrByValue=function(e,t){let n=[];for(let a=0;a<e.length;a++)e[a][t]&&n.push(e[a][t]);return n},e.arrCopy=function(e){var t=e instanceof Array?[]:{};for(var n in e)t[n]="object"==typeof e[n]?objCopy(e[n]):e[n];return t},e.modifyProValue=function(e,t,n){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const i=e[a];i[t]&&(i[t]=n)}return e},e.objCopy=objCopy}(h=e.ObjArray||(e.ObjArray={})),function(e){function copy(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}e.sort=function(e,t=!1){return t?e.sort((e,t)=>e<t?1:e>t?-1:0):e.sort((e,t)=>e<t?-1:e>t?1:0),e},e.addToArray=function(e,t){for(let n=0;n<t.length;n++){const a=t[n];e.push(a)}return e},e.inverted=function(e){let t=[];for(let n=e.length-1;n>=0;n--){const a=e[n];t.push(a)}return e=t},e.randomGetOutNewArr=function(t,n){n||(n=1);let a=e.copy(t),i=[];if(!(n>a.length)){for(let e=0;e<n;e++){let e=Math.round(Math.random()*(a.length-1)),t=a[e];a.splice(e,1),i.push(t)}return i}console.log("数组长度小于取出的数！")},e.randomGetOut=function(t,n){n||(n=1);let a=e.copy(t),i=[];if(!(n>a.length)){for(let e=0;e<n;e++){let e=Math.round(Math.random()*(a.length-1)),t=a[e];a.splice(e,1),i.push(t)}return i}console.log("数组长度小于取出的数！")},e.randomGetOne=function(e){let t=copy(e);return t[Math.round(Math.random()*(t.length-1))]},e.copy=copy,e.unique01=function(e){for(var t=0,n=e.length;t<n;t++){var a=t+1;for(n=e.length;a<n;a++)e[t]===e[a]&&(e.splice(a,1),a--,n--)}return e},e.unique02=function(e){for(var t=[(e=e.sort())[0]],n=1,a=e.length;n<a;n++)e[n]!==e[n-1]&&t.push(e[n]);return t},e.unique03=function(e){return Array.from(new Set(e))},e.oneExcludeOtherOne=function(t,n){let a=e.copy(t),i=e.copy(n);for(let e=0;e<a.length;e++)for(let t=0;t<i.length;t++)a[e]==i[t]&&(a.splice(e,1),e--);return a},e.moreExclude=function(e,t){let n=[];for(let t=0;t<e.length;t++)for(let a=0;a<e[t].length;a++)n.push(e[t][a]);let a=copy(n),i=copy(a),o=[];for(let e=0;e<i.length;e++)o.push({name:i[e],num:0});for(let e=0;e<n.length;e++)for(let t=0;t<o.length;t++)n[e]==o[t].name&&o[t].num++;let r=[],s=[];for(let t=0;t<o.length;t++)o[t],o[t].num==e.length?r.push(o[t].name):s.push(o[t].name);return t?s:r}}(u=e.Arr||(e.Arr={}))}(B||(B={})),function(t){let n,a;t.Init=class{constructor(e,t,n=!1){e.guideCompelet?e.close():(e.visible=!1,e.guideDataArr=t,e.guideIndexStorage=n,o.commonViewParent.addChild(e))}get LwgGuide(){return"LwgGuide"}},function(e){e.down="down",e.move="move",e.up="up",e.out="out",e.slide="slide",e.slideL="slideL",e.slideR="slideR",e.slideLR="slideLR",e.slideU="slideU",e.slideD="slideD",e.slideUD="slideUD",e.multiTouch="multiTouch"}(n=t.EmClickType||(t.EmClickType={})),function(e){e.none="none",e.round="round",e.rec="rect",e.rectRound="rectRound"}(a=t.EmMaskType||(t.EmMaskType={}));t.GuideBase=class extends e.Views.Base.GuideUI{constructor(){super(...arguments),this.guideDataArr=[],this._guideIndex=1}get guideIndex(){return this.guideCompelet?-1:this.guideIndexStorage?g.number("Guide/guideIndex").value:this._guideIndex}set guideIndex(e){this._guideIndex=e,this.guideIndexStorage&&(g.number("Guide/guideIndex").value=e),this.clear(),this.stepData.stepComplete&&this.stepData.stepComplete(),this.guideStepComplete(),this.stepData.continue&&this.guideStart()}get guideCompelet(){return g.bool("Guide/guideCompelet",null,!1).value}set guideCompelet(e){g.bool("Guide/guideCompelet").value=e,e&&this.close()}onAwake(){this.lwgOnAwake(),this.lwgEvent()}lwgOnAwake(){}lwgEvent(){}guideStartCb(){}guideStepComplete(){}clear(){this.visible=!1;for(let e=0;e<this.numChildren;e++)this.getChildAt(e).visible=!1;Laya.timer.clearAll(this),this.clickX=null,this.clickY=null,b.Filter.setValue(b.EmfilterType.all)}evRegister(e,t){u.register(e,this,t)}evRegisterOnce(e,t){u.registerOnce(e,this,t)}evNotify(e,t){u.notify(e,t)}guideStart(){this.stepData=null;for(let e=0;e<this.guideDataArr.length;e++){const t=this.guideDataArr[e];t.index===this.guideIndex&&(this.stepData=t)}if(this.stepData){this.visible=!0,this.stepData.stepReady&&this.stepData.stepReady(),this.stepData.mask&&this[`${this.stepData.mask.type}Mask`]&&this[`${this.stepData.mask.type}Mask`]();const e=this.stepData.click.targetArr;for(let t=0;t<e.length;t++){const n=e[t];b.Filter.setValue(this.stepData.click.filter,this.stepData.click.targetArr),this[`${this.stepData.click.type}Click`]&&this[`${this.stepData.click.type}Click`](n)}}else console.log("不存在引导步骤,引导结束:",this.guideIndex),this.guideCompelet=!0}noneMask(){this.background.visible=!1}roundMask(){this.background.visible=!0;const e=this.stepData.mask.roundData;e.length>0?B.Draw.maskRound(this.background,e):console.log("步骤：",this.guideIndex,"遮罩数据不正确")}rectMask(){this.background.visible=!0;const e=this.stepData.mask.rectData;e.length>0?B.Draw.maskRect(this.background,e):console.log("步骤：",this.guideIndex,"遮罩数据不正确")}rectRoundMask(){this.background.visible=!0;const e=this.stepData.mask.rectRoundData;e.length>0?B.Draw.maskRectRound(this.background,e):console.log("步骤：",this.guideIndex,"遮罩数据不正确")}downClick(e){b.on(this.stepData.click.effectType,e,this,()=>{b.off(e),this.guideIndex++},null,null,null,[[],[],[],[]])}moveClick(e){b.on(this.stepData.click.effectType,e,this,null,()=>{b.off(e),this.guideIndex++},null,null,[[],[],[],[]])}upClick(e){e.once(Laya.Event.MOUSE_UP,this,()=>{this.guideIndex++})}outClick(e){b.on(this.stepData.click.effectType,e,this,null,null,null,()=>{b.off(e),this.guideIndex++},[[],[],[],[]])}commonDown(e){this.clickX=e.stageX,this.clickY=e.stageY}get slideValue(){return this.stepData.click.slideValue?this.stepData.click.slideValue:50}slideClick(e){b.on(this.stepData.click.effectType,e,this,this.commonDown,t=>{this.clickX&&(Math.abs(t.stageX-this.clickX)>=this.slideValue||Math.abs(t.stageY-this.clickY)>=this.slideValue)&&(b.off(e),this.guideIndex++)},null,null,[[],[],[],[]])}slideLClick(e){b.on(this.stepData.click.effectType,e,this,this.commonDown,t=>{this.clickX&&t.stageX-this.clickX<=this.slideValue&&(b.off(e),this.guideIndex++)},null,null,[[],[],[],[]])}slideRClick(e){b.on(this.stepData.click.effectType,e,this,this.commonDown,t=>{this.clickX&&t.stageX-this.clickX>=this.slideValue&&(b.off(e),this.guideIndex++)},null,null,[[],[],[],[]])}slideLRClick(e){b.on(this.stepData.click.effectType,e,this,this.commonDown,t=>{this.clickX&&Math.abs(t.stageX-this.clickX)>=this.slideValue&&(b.off(e),this.guideIndex++)},null,null,[[],[],[],[]])}slideUClick(e){b.on(this.stepData.click.effectType,e,this,this.commonDown,t=>{this.clickY&&t.stageY-this.clickY<=this.slideValue&&(b.off(e),this.guideIndex++)},null,null,[[],[],[],[]])}slideDClick(e){b.on(this.stepData.click.effectType,e,this,this.commonDown,t=>{this.clickY&&t.stageY-this.clickY>=this.slideValue&&(b.off(e),this.guideIndex++)},null,null,[[],[],[],[]])}slideUDClick(e){b.on(this.stepData.click.effectType,e,this,this.commonDown,t=>{this.clickY&&Math.abs(t.stageY-this.clickY)>=this.slideValue&&(b.off(e),this.guideIndex++)},null,null,[[],[],[],[]])}multiTouchClick(e){}}}(C||(C={})),function(e){e.Init=class{constructor(t=!0){e.showLog=t}get LwgPreLoad(){return"LwgPreLoad"}};class t extends o.SceneBase{constructor(){super(...arguments),this.ImageArr=[],this.TextureArr=[],this.Prefab2DArr=[],this.ViewsArr=[],this.Scene3DArr=[],this.Prefab3DArr=[],this.Texture2DArr=[],this.EffectsTex2DArr=[],this.MaterialArr=[],this.Mesh3DArr=[],this.JsonArr=[],this.SkeletonArr=[],this.AtlasArr=[],this.loadRes=[this.ImageArr,this.TextureArr,this.Prefab2DArr,this.ViewsArr,this.Prefab3DArr,this.Texture2DArr,this.EffectsTex2DArr,this.MaterialArr,this.Mesh3DArr,this.Scene3DArr,this.JsonArr,this.SkeletonArr,this.AtlasArr],this.loadOrderIndex=0,this.sumProgress=0,this.currentProgress=0,this.showLog=!0}get lodePercent(){return this.currentProgress/this.sumProgress}lodeStart(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Object)for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const a=n[e];a instanceof Object&&this[`${t}Arr`].push(a)}}for(let e=0;e<this.loadRes.length;e++)this.sumProgress+=this.loadRes[e].length,this.loadRes[e].length<=0&&(this.loadRes.splice(e,1),e--);const t=this.lwgOpenAni();Laya.timer.once(t||0,this,()=>{this.lodeRules()})}lodeStepComplete(e){}lodeAllComplete(){return 0}lodeAllCompleteAfter(){return!1}stepComplete(t){if(this.currentProgress++,e.showLog&&console.log("当前进度条进度:",this.currentProgress/this.sumProgress),this.currentProgress>=this.sumProgress){if(0==this.sumProgress)return;e.showLog&&console.log('所有资源加载完成！此时所有资源可通过例如:Laya.loader.getRes("url")获取'),this.allComplete()}else{let e=0;for(let t=0;t<=this.loadOrderIndex;t++)e+=this.loadRes[t].length;this.currentProgress===e&&this.loadOrderIndex++,this.lodeStepComplete(t),this.lodeRules()}}allComplete(){Laya.timer.once(this.lodeAllComplete(),this,()=>{if(!this.lodeAllCompleteAfter())switch(this.owner.name){case o.NameBase.PreLoadCutIn:o.preLoadInfo.openIsOverlay?this.openOverlayScene(o.preLoadInfo.openName):this.openScene(o.preLoadInfo.openName);break;case o.NameBase.PreLoad:this.openScene(o.NameBase.Start),Laya.stage.getChildAt(0).getChildByName(o.NameBase.Init).destroy(!0);break;case o.NameBase.Init:this.openScene(o.NameBase.PreLoad)}})}lodeLog(t,n,a,i,o){const r=t[n],s=t[n].url;"object"==typeof s?e.showLog&&console.log(i,"数组加载完成，为数组对象","长度为:",s.length):null==a?e.showLog&&console.log(`XXXXXXXXXXX${i}:${s}加载失败！不会停止加载进程！, 数组下标为：${n}, 'XXXXXXXXXXX`):(e.showLog&&console.log(`${i}:${s}加载完成！, 数组下标为${n}`),o&&o()),r.callBack&&r.callBack(a),this.stepComplete(s)}addDestoryAndClear(e){e.destoryAndClear=(()=>{Laya.loader.clearRes(e.url),Laya.Loader.clearRes(e.url)})}lodeRules(){if(this.loadRes.length<=0)return e.showLog&&console.log("没有加载项"),void this.allComplete();let t=0;for(let e=0;e<this.loadOrderIndex;e++)t+=this.loadRes[e].length;const n=this.currentProgress-t;switch(this.loadRes[this.loadOrderIndex]){case this.ImageArr:this.ImageArr[n];Laya.loader.load(this.ImageArr[n].url,Laya.Handler.create(this,e=>{this.lodeLog(this.loadRes[this.loadOrderIndex],n,e,"2D图片",null)}));break;case this.ViewsArr:const t=this.ViewsArr[n];Laya.loader.load(a.Views+t.url+".json",Laya.Handler.create(this,e=>{this.lodeLog(this.loadRes[this.loadOrderIndex],n,e,"2D场景",()=>{t.instance=e})}),null,Laya.Loader.JSON);break;case this.Scene3DArr:const o=this.Scene3DArr[n];Laya.Scene3D.load(o.url+".ls",Laya.Handler.create(this,e=>{this.lodeLog(this.loadRes[this.loadOrderIndex],n,e,"3D场景",()=>{o.instance=e,this.addDestoryAndClear(o),Laya.loader.setGroup(o.url,o.group)})}));break;case this.Prefab3DArr:const r=this.Prefab3DArr[n];if("object"==typeof r.url){r.instanceArr=[];let t=0;var i=(n,a,o)=>{const r=n[t];r?Laya.Sprite3D.load(r,Laya.Handler.create(this,s=>{s?(a.push(s),e.showLog&&console.log("3D预制体：",r,"加载成功")):e.showLog&&console.log("XXXXXXXXXXX 3D预制体：",r,"不存在！,继续加载"),t++,i(n,a,o)})):o&&o()};i(r.url,r.instanceArr,()=>{this.lodeLog(this.loadRes[this.loadOrderIndex],n,r.instanceArr,"3D预制体",null)})}else Laya.Sprite3D.load(r.url+".lh",Laya.Handler.create(this,e=>{this.lodeLog(this.loadRes[this.loadOrderIndex],n,e,"3D预制体",()=>{r.instance=e,this.addDestoryAndClear(r)})}));break;case this.Mesh3DArr:const s=this.Mesh3DArr[n];Laya.Mesh.load(this.Mesh3DArr[n].url,Laya.Handler.create(this,e=>{this.lodeLog(this.loadRes[this.loadOrderIndex],n,e,"3D网格",()=>{s.instance=e,this.addDestoryAndClear(s)})}));break;case this.TextureArr:const l=this.TextureArr[n];Laya.loader.load(this.TextureArr[n].url,Laya.Handler.create(this,e=>{this.lodeLog(this.loadRes[this.loadOrderIndex],n,e,"纹理",()=>{l.instance=e,this.addDestoryAndClear(l)})}));break;case this.Texture2DArr:const c=this.Texture2DArr[n];Laya.Texture2D.load(this.Texture2DArr[n].url,Laya.Handler.create(this,e=>{this.lodeLog(this.loadRes[this.loadOrderIndex],n,e,"3D纹理",()=>{c.instance=e,this.addDestoryAndClear(c)})}));break;case this.EffectsTex2DArr:const h=this.Texture2DArr[n];Laya.Texture2D.load(this.EffectsTex2DArr[n].url,Laya.Handler.create(this,e=>{this.lodeLog(this.loadRes[this.loadOrderIndex],n,e,"3D纹理",()=>{h.instance=e,this.addDestoryAndClear(h)})}));break;case this.MaterialArr:const u=this.MaterialArr[n];Laya.Material.load(this.MaterialArr[n].url+".lmat",Laya.Handler.create(this,e=>{this.lodeLog(this.loadRes[this.loadOrderIndex],n,e,"材质",()=>{u.instance=e,this.addDestoryAndClear(u),e.lock=u.lock})}));break;case this.JsonArr:const d=this.JsonArr[n];Laya.loader.load(a.GameData+d.url+".json",Laya.Handler.create(this,e=>{this.lodeLog(this.loadRes[this.loadOrderIndex],n,e,"数据表",()=>{d.dataArrName?d.dataArr=e[d.dataArrName]:(d.dataArr=e.RECORDS,d.instance=e.RECORDS)})}),null,Laya.Loader.JSON);break;case this.SkeletonArr:const m=this.SkeletonArr[n];m.templet||(m.templet=new Laya.Templet),m.templet.on(Laya.Event.ERROR,this,()=>{console.log("XXXXXXXXXXX骨骼动画"+this.SkeletonArr[n]+"加载失败！不会停止加载进程！","数组下标为：",n,"XXXXXXXXXXX"),this.stepComplete(m.url)}),m.templet.on(Laya.Event.COMPLETE,this,()=>{console.log("骨骼动画",this.SkeletonArr[n].url,"加载完成！","数组下标为：",n),this.stepComplete(m.url),this.addDestoryAndClear(m),m.callBack&&m.callBack(m.templet),m.templet.lock=m.lock}),m.templet.loadAni(this.SkeletonArr[n].url);break;case this.Prefab2DArr:const y=this.Prefab2DArr[n];Laya.loader.load(this.Prefab2DArr[n].url,Laya.Handler.create(this,e=>{this.lodeLog(this.loadRes[this.loadOrderIndex],n,e,"2D预制体",()=>{const t=new Laya.Prefab;t.json=e,y.instance=t,this.addDestoryAndClear(y)})}))}}}e.PreLoadBase=t;e.PreLoadCutInBase=class extends t{get preLoadOpenName(){return o.preLoadInfo.openName}get preLoadFromName(){return o.preLoadInfo.fromName}}}(A||(A={})),function(e){e.InitBase=class{constructor(e,t,n,a,i,o,r,s){}};e.InitGame=class{constructor(e,t){}}}(I||(I={})),function(e){class t extends Laya.Script3D{get cameraPos(){return this.__cameraPos?this.__cameraPos:this.__cameraPos=new Laya.Vector3(this.mainCamera.transform.localPositionX,this.mainCamera.transform.localPositionY,this.mainCamera.transform.localPositionZ)}get mainCamera(){if(this._MainCamera)return this._MainCamera;if(this.owner.getChildByName("Main Camera"))return this._MainCamera=this.owner.getChildByName("Main Camera");for(let e=0;e<this.owner.numChildren;e++){const t=this.owner.getChildAt(e);if(typeof t==typeof Laya.Camera)return this._MainCamera=t}}set mainCamera(e){this._MainCamera=e}child(e){return this[`_child${e}`]?this[`_child${e}`]:this.owner.getChildByName(e)?this[`_child${e}`]=this.owner.getChildByName(e):void console.log(`不存在子节点${e}`)}getChildComponent(e,t){if(this[`_child${e}${t}`])return this[`_child${e}${t}`];{let n=this.owner.getChildByName(e);if(n){if(n[t])return this[`_child${e}${t}`]=n[t];console.log(`${e}子节点没有${t}组件`)}else console.log(`不存在子节点${e}`)}}childTrans(e){return this.getChildComponent(e,"transform")}childMRenderer(e){return this.getChildComponent(e,"meshRenderer")}getFindComponent(e,t){if(this[`_child${e}${t}`])return this[`_child${e}${t}`];{let n=B.Node.findChild3D(this.owner,e);if(n){if(n[t])return this[`_child${e}${t}`]=n[t];console.log(`${e}场景内节点没有${t}组件`)}else console.log(`场景内不存在子节点${e}`)}}find(e){if(this[`_FindNode${e}`])return this[`_FindNode${e}`];{let t=B.Node.findChild3D(this.owner,e);if(t)return this[`_FindNode${e}`]=t;console.log(`不存在节点${e}`)}}findMRenderer(e){return this.getFindComponent(e,"meshRenderer")}findTrans(e){return this.getFindComponent(e,"transform")}lwgReset(){}lwgOnAwake(){}lwgEventRegister(){}evReg(e,t){u.register(e,this,t)}evNotify(e,t){u.notify(e,t)}lwgOnEnable(){}lwgOnStart(){}lwgOnUpdate(){}lwgOnDisable(){}lwgClear(){Laya.timer.clearAll(this),Laya.Tween.clearAll(this),u.offAllCaller(this),Laya.timer.clearAll(this.owner),Laya.Tween.clearAll(this.owner),u.offAllCaller(this.owner)}}e.Scene3DBase=class extends t{constructor(){super(),this.cameraFp=new Laya.Vector3}onAwake(){this.calssName=this.__proto__.constructor.name,this.mainCamera&&(this.cameraFp.x=this.mainCamera.transform.localPositionX,this.cameraFp.y=this.mainCamera.transform.localPositionY,this.cameraFp.z=this.mainCamera.transform.localPositionZ),this.lwgOnAwake()}onEnable(){this.owner[this.calssName]=this,this.lwgEventRegister(),this.lwgOnEnable(),this.lwgOpenAni()}onStart(){this.lwgOnStart()}lwgOpenAni(){}lwgVanishAni(){}onUpdate(){this.lwgOnUpdate()}onDisable(){this.lwgOnDisable(),this.lwgClear()}};e.Object3D=class extends t{constructor(){super()}get _owner(){return this.owner}locScale(){return this._owner.transform.localScale}locPos(){return this._owner.transform.localPosition}pos(){return this._owner.transform.position}locEuler(){return this._owner.transform.localRotationEuler}get parent(){return this._owner.parent}get transform(){return this._owner.transform}get scene3D(){return this._owner.scene}get rig3D(){return this._owner.__Rigidbody3D||(this._owner.__Rigidbody3D=this._owner.getComponent(Laya.Rigidbody3D)),this._owner.__Rigidbody3D}onAwake(){this.lwgOnAwake(),this.ownerAnimator=this.owner.getComponent(Laya.Animator)}onEnable(){this.lwgEventRegister(),this.lwgOnEnable()}onUpdate(){this.lwgOnUpdate()}onDisable(){this.lwgReset(),this.lwgOnDisable(),this.lwgClear()}}}(k||(k={}));class U extends o.RuntimeImgBase{lwgOnAwake(){b.off(this),b.on(void 0,this,this,null,null,()=>{this.closeSene()})}closeSene(){this.isClose||(this.isClose=!0,o.closeOverlayScene(o.findNodeBelongToScene(this)))}}class j extends o.RuntimeImgBase{constructor(){super()}lwgOnAwake(){this.breatheBtnHint()}breatheBtnHint(){v.circulation_scale(this,.05,200,0,()=>{this.breatheBtnHint()})}bombFlexLR(){m.loop(2e3,this,()=>{v.bomb_LeftRight(this,1.22,250)},!0)}}!function(e){let t,n,a,i,o,r,s,l,c,h,u,d,m,y,g;!function(e){e[e.Gold=101]="Gold",e[e.Diamond=102]="Diamond",e[e.Stamina=103]="Stamina"}(t=e.ResType||(e.ResType={})),function(e){e[e.Currency=1]="Currency",e[e.Skin=2]="Skin",e[e.LuckyWheelAgain=3]="LuckyWheelAgain",e[e.EndlessMode=4]="EndlessMode",e[e.SkinTry=999]="SkinTry"}(n=e.ItemType||(e.ItemType={})),function(e){e[e.speed=0]="speed",e[e.energy=1]="energy",e[e.reward=2]="reward"}(a=e.SkillType||(e.SkillType={})),function(e){e.Free="0",e.Diamond="1",e.LotteryChest="2",e.CheckIn="3",e.AD="4",e.LuckyWheel="5"}(i=e.ItemPathWay||(e.ItemPathWay={})),function(e){e.Suspend="Suspend",e.Ready="Ready",e.Start="Start",e.Run="Run",e.Diamond="Diamond",e.Wall="Wall",e.Bubble="Bubble",e.Door="Door",e.Slope="Slope",e.KeyFood="KeyFood",e.Drop="Drop",e.Destination="Destination",e.Dance="Dance",e.Victory="Victory",e.Defeated="Defeated",e.Resurgence="Resurgence"}(o=e.RoleState||(e.RoleState={})),function(e){e.idle="idle",e.run="run",e.fall="fall",e.slide="slide",e.dance="dance"}(r=e.RoleAni||(e.RoleAni={})),function(e){e.drop="drop",e.wall="wall",e.bubbleError="bubbleError"}(s=e.ResurgenceType||(e.ResurgenceType={})),function(e){e.idle="idle01",e.retract="idle02",e.ball="idle03"}(l=e.BubbleAni||(e.BubbleAni={})),function(e){e.Destination="Destination",e.Run="Run"}(c=e.StampBubbleState||(e.StampBubbleState={})),function(e){e[e.none=0]="none",e[e.sprint=1]="sprint",e[e.errorBubble=2]="errorBubble",e[e.rightBubble=3]="rightBubble"}(h=e.MoveForwardArgs||(e.MoveForwardArgs={})),function(e){e.base="base",e.vegan1="vegan1",e.vegan2="vegan2",e.vegan3="vegan3",e.meat1="meat1",e.meat2="meat2",e.meat3="meat3"}(u=e.FormState||(e.FormState={})),function(e){e.vegan="vegan",e.meat="meat"}(d=e.RoleType||(e.RoleType={})),function(e){e.dress="1",e.hair="2",e.wing="3"}(m=e.Part||(e.Part={})),function(e){e[e.red=1]="red",e[e.yellow=2]="yellow",e[e.blue=3]="blue",e[e.rainbow=4]="rainbow"}(y=e.Colour||(e.Colour={})),function(e){e.common="common",e.endless="endless"}(g=e.LevelMode||(e.LevelMode={}))}(N||(N={}));class H extends u.BaseEvent{}H.addMileageCur="addMileageCur",H.colorIndex="colorIndex",H.changeBoss="changeBoss",H.changeFood="changeFood",H.updateDiamond="updateDiamond",H.roadIndex="roadIndex",H.D3_2DScore="D3to2DScore",H.D2_3DScore="D2_3DScore",H.attackByClickStart="attackByClickStart",H.attackByClick="attackByClick",H.attackByClickEnd="attackByClickEnd",H.updateHead="updateHead",H.updateRoleDataDisplay="updateRoleDataDisplay",H.readyVSBOSS="readyVSBOSS",H.changeBossForm="changeBossForm",H.updateBossHP="updateBossHP",H.updateRoleHP="updateRoleHP",H.hideRoleHP="hideRoleHP",H.showRoleHP="showRoleHP",H.updateGrowthValue="updateGrowthValue",H.updateLvSchedule="updateLvSchedule",H.receiveAward="receiveAward",H.defeated="defeated",H.victory="victory",H.pickedKey="pickedKey",H.updateKeyNumStart="updateKeyNumStart",H.updateLuckyWheel="updateLuckyWheel",H.LEVELMODE="LEVELMODE",H.bubblesNum="bubblesNum",H.storageNum="storageNum",H.reduceStorage="reduceStorage",H.Resurgence="Resurgence",H.hideStorage="hideStorage",function(e){class t{}t.DialogHint={url:"Base/DialogHint"},t.Guide={url:"Base/Guide"},t.PreLoad={url:"Base/PreLoad"},t.PreLoadCutIn={url:"Base/PreLoadCutIn"},t.ReturnBtnObj={url:"Base/ReturnBtnObj"},t.GoldObj={url:"Base/GoldObj"},t.DiamondObj={url:"Base/DiamondObj"},t.DiamondSingleObj={url:"Base/DiamondObj"},t.StaminaObj={url:"Base/StaminaObj"},t.GameManagerBtnObj={url:"Base/GameManagerBtnObj"},t.GameManager={url:"Base/GameManager"},t.GameManagerRenderObj={url:"Base/GameManagerRenderObj"},t.FloatFontArtObj={url:"Base/FloatFontArtObj"},t.FloatFontSystemObj={url:"Base/FloatFontSystemObj"},t.RedDotObj={url:"Base/RedDotObj"},t.CloseBtnObj={url:"Base/CloseBtnObj"},t.CheckIn={url:"CheckIn"},t.BeRewarded={url:"BeRewarded"},t.Lottery={url:"Lottery"},t.LuckyWheelRender={url:"LuckyWheelRenderObj"},t.CheckInDay6Render={url:"CheckInDay6RenderObj"},t.CheckInDay7RrwardRender={url:"CheckInDay7RrwardRenderObj"},t.LotteryRenderObj={url:"LotteryRenderObj"},t.SkinRenderObj={url:"SkinRenderObj"},t.SkillUpgradeRenderObj={url:"SkillUpgradeRenderObj"},t.SkillUpgradeObj={url:"SkillUpgradeObj"},e.Views=t;e.Prefab2D=class{};class n{}n.MainScene={url:"Game3D/Scene3D/LayaScene_MainScenes/Conventional/MainScenes"},n.SkinShow={url:"Game3D/Scene3D/LayaScene_SkinShow/Conventional/SkinShow"},n.EndLess={url:"Game3D/Scene3D/LayaScene_EndlessScenes/Conventional/EndlessScenes"},n.Skin={url:"Game3D/Scene3D/LayaScene_Skin/Conventional/Skin"},e.Scene3D=n;let a="Game3D/Prefab3D/LayaScene_Levels/Conventional/",i="Game3D/Prefab3D/LayaScene_Effects/Conventional/";class o{}o.role01={url:`${a}role01`},o.paopao01={url:`${a}paopao01`},o.paopao02={url:`${a}paopao02`},o.paopao03={url:`${a}paopao03`},o.Road_Base={url:`${a}Road_Base`},o.Road_999={url:`${a}Road_999`},o.Road_997={url:`${a}Road_997`},o.Road_888={url:`${a}Road_888`},o.ZhangaiBian_01={url:`${a}ZhangaiBian_01`},o.ZhangaiBian_02={url:`${a}ZhangaiBian_02`},o.ZhangaiBian_03={url:`${a}ZhangaiBian_03`},o.KeyFood={url:`${a}KeyFood`},o.zhangai00={url:`${a}zhangai00`},o.zhangai01={url:`${a}zhangai01`},o.zhangai02={url:`${a}zhangai02`},o.zhangai03={url:`${a}zhangai03`},o.zhangai04={url:`${a}zhangai04`},o.zhangai05={url:`${a}zhangai05`},o.zhangai06={url:`${a}zhangai06`},o.zhangai07={url:`${a}zhangai07`},o.zhangai_xiepo={url:`${a}zhangai_xiepo`},o.RoadTied={url:`${a}RoadTied`},o.drop={url:`${a}drop`},o.marginC={url:`${a}scene_1`},o.marginE={url:`${a}scene_2`},o.effect_change01={url:`${i}effect_change01`},o.effect_change02={url:`${i}effect_change02`},o.effect_change03={url:`${i}effect_change03`},o.effect_change04={url:`${i}effect_change04`},o.travel01={url:`${i}travel01`},o.travel02={url:`${i}travel02`},o.travel03={url:`${i}travel03`},o.travel04={url:`${i}travel04`},o.effect_zuanshi={url:`${i}effect_zuanshi`},o.effect_chongci={url:`${i}effect_chongci`},o.effect_right={url:`${i}effect_right`},e.Prefab3D=o;class r{}r.RoadsMsg={url:"RoadsMsg"},r.Road={url:"Road"},r.Guide={url:"guide1"},r.Level={url:"Level"},r.LevelScore={url:"LevelScore"},r.Item={url:"Item1"},r.Reward={url:"Reward1"},r.Sound={url:"Sound"},r.Role={url:"Role"},r.Animator={url:"Animator"},r.Skill={url:"Skill"},r.Dinosaur={url:"Dinosaur"},r.FoodValue={url:"FoodValue"},r.Body={url:"Body"},e.Json=r;e.Mesh3D=class{};let s="Game3D/Prefab3D/LayaScene_Levels/Conventional/Assets/Art/Mesh/Texture/Materials/";class l{}l.dress01={url:`${s}hair01b`,lock:!0},l.hair01={url:`${s}hair01a`,lock:!0},l.dress02={url:`${s}hair02b`,lock:!0},l.hair02={url:`${s}hair02a`,lock:!0},l.dress03={url:`${s}hair03b`,lock:!0},l.hair03={url:`${s}hair03a`,lock:!0},l.dress04={url:`${s}T_Cloth_01`,lock:!0},l.hair04={url:`${s}T_Cloth_01`,lock:!0},l.endlessRoad={url:`${s}hair03b 2`,lock:!0},l.bubble01={url:`${s}Colour_03`,lock:!0},l.bubble02={url:`${s}Colour_04`,lock:!0},l.bubble03={url:`${s}Colour_05`,lock:!0},e.Material=l;e.Texture=class{};e.Pic2D=class{};e.Skeleton=class{};e.EffectTex2D=class{}}(x||(x={})),function(e){let t;!function(e){class t{}t.SkinScene={url:"Game3D/Scene3D/LayaScene_Skin/Conventional/Skin"},e.Scene3D=t}(t=e.Skin||(e.Skin={}))}(R||(R={})),function(e){class t{}t.ImgArr={url:["Init/Preload/img_LOGO.png","Init/img_bg_2x.png"]},e.Image=t;class n{}n.LOGO={url:"Init/Logo/LogoAnim.sk"},n.load={url:"Init/Preload/load.sk",lock:!0},e.Skeleton=n}(T||(T={})),function(e){e.init=class{constructor(){e.Guide=new t(x.Json.Guide.dataArr),e.Level=new f(x.Json.Level.dataArr),e.LevelScore=new y(x.Json.LevelScore.dataArr),e.RoadsMsg=new m(x.Json.RoadsMsg.dataArr),e.Road=new w(x.Json.Road.dataArr),e.Item=new v(x.Json.Item.dataArr),e.Skin=new h,e.Sound=new c(x.Json.Sound.dataArr),e.Reward=new l(x.Json.Reward.dataArr),e.CheckIn=new S(x.Json.Reward.dataArr),e.Lottery=new b(x.Json.Reward.dataArr),e.LuckyWheel=new L(x.Json.Reward.dataArr),e.Animator=new s(x.Json.Animator.dataArr),e.Skill=new r(x.Json.Skill.dataArr),e.Dinosaur=new n(x.Json.Dinosaur.dataArr),e.FoodValue=new a(x.Json.FoodValue.dataArr),e.Body=new o(x.Json.Body.dataArr)}};class t extends p.BaseTable{constructor(e){super(e)}get compelet(){return g.bool("GuideData/compelet",null,!1).value}set compelet(e){g.bool("GuideData/compelet",null,!1).value=e}get stepNum(){return g.number("GuideData/stepNum",null,1).value}set stepNum(e){g.number("GuideData/stepNum",null,1).value=e}getValueByID(e){return this.getObjByID(e).value}}class n extends p.BaseTable{constructor(e){super(e)}}class a extends p.BaseTable{constructor(e){super(e)}valueByNameAndForm(e,t){let n=0;for(let a=0;a<this.arr.length;a++){const i=this.arr[a];i.name===e&&(n=i[t])}return n}}class o extends p.BaseTable{constructor(e){super(e)}scaleByNameAndForm(e,t){let n=0;for(let a=0;a<this.arr.length;a++){const i=this.arr[a];i.name===e&&(n=i[t])}return n}}class r extends p.BaseTable{constructor(e){super(e)}get levelArr(){const e=this.getTypeNum,t=[];for(let n=0;n<e;n++)t.push(1);return g.array("SkillData/levelArr",null,t).value}set levelArr(e){for(let t=0;t<e.length;t++){const n=this.getMaxLevelByType(t);e[t]>n&&(e[t]=n)}g.array("SkillData/levelArr").value=e}addLevelByType(t,n=1){const a=[];for(let i=0;i<e.Skill.levelArr.length;i++){let o=e.Skill.levelArr[i];t===i?a.push(o+n):a.push(o)}e.Skill.levelArr=a}getCurConsumeByType(e){const t=this.levelArr[e];let n=200;return this.eachDataArr(a=>{a.type===e&&a.level===t&&(n=a.consume)}),n}getCurLevelByType(e){return this.levelArr[e]}get getTypeNum(){const e=[];return this.eachDataArr(t=>{e.push(t.type)}),B.Arr.unique01(e).length}getMaxLevelByType(e){const t=[],n=this.getTypeNum;for(let a=0;a<n;a++)this.eachDataArr(n=>{n.type===e&&t.push(n)});return B.ObjArray.sortByProperty(t,"level"),t.pop().level}getSkillAdditionByType(e){const t=this.levelArr[e];let n=[1];return this.eachDataArr(a=>{a.type===e&&a.level===t&&(n=a.addition)}),n[0]}getObjArrByCurLv(){const e=[],t=this.getTypeNum;for(let n=0;n<t;n++){const t=this.levelArr[n];this.eachDataArr(a=>{a.type===n&&a.level===t&&e.push(a)})}return e}}class s extends p.BaseTable{constructor(e){super(e)}getClipNameByRoleNameAndAni(e,t){const n=this.getObjFirstByProNameAndVal("name",e);if(n)return n[t]?n[t]:null;console.log(e,n,"不存在动画:",t)}}class l extends p.ItmeTable{constructor(e){super(e)}getPrepareReward(){const e=this.getItemArrObjByID(10016);return{index:0,ID:e.itemArr[0],number:e.numberArr[0],weight:e.weightArr[0]}}}class c extends p.BaseTable{constructor(e){super(e)}getUrlByID(e){const t=this.getObjByID(e);return t?`Game/Sound/${t.name}`:null}playSoundByID(e){O.playSound(this.getUrlByID(e))}sotpSoundByID(e){O.stopSound(this.getUrlByID(e))}playBgmByID(e){O.playMusic(this.getUrlByID(e))}}class h extends p.EntiretyTable{constructor(){const e=[];for(let t=0;t<x.Json.Item.dataArr.length;t++){const n=x.Json.Item.dataArr[t];n.type===N.ItemType.Skin&&e.push(n)}super("SkinData/arr",e),this.setObjCompeletByID(201),this.setObjCompeletByID(207),this.setObjCompeletByID(213)}get pitchHairID(){return g.number("SkinData/pitchHairID",null,207).value}set pitchHairID(e){g.number("SkinData/pitchHairID").value=e}get pitchHairName(){return this.getObjByID(this.pitchHairID).name}get pitchDressID(){return g.number("SkinData/pitchDressID",null,201).value}set pitchDressID(e){g.number("SkinData/pitchDressID").value=e}get pitchDressName(){return this.getObjByID(this.pitchDressID).name}get pitchWingID(){return g.number("SkinData/pitchWingID",null,213).value}set pitchWingID(e){g.number("SkinData/pitchWingID").value=e}get pitchWingName(){return this.getObjByID(this.pitchWingID).name}getSkinArrByPart(e){const t=[];for(let n=0;n<this.arr.length;n++){const a=this.arr[n];a.part===e&&t.push(a)}return t}setCompeletByData(e){for(let t=0;t<this.arr.length;t++){const n=this.arr[t];if(n.ID===e.ID){n.complete=!0,e.part===N.Part.dress?this.pitchDressID=e.ID:e.part===N.Part.hair?this.pitchHairID=e.ID:e.part===N.Part.wing&&(this.pitchWingID=e.ID);break}}this.refreshAndStorage()}getHPByName(e){const t=this.getObjByName(e).attribute.split("_");return t.length>1&&1==+t[0]?+t[1]:0}getAttackByName(e){const t=this.getObjByName(e).attribute.split("_");return t.length>1&&2==+t[0]?+t[1]:0}getRanSkinTryByWing(){const e=[];for(let t=0;t<this.arr.length;t++){const n=this.arr[t];n.part!==N.Part.wing||n.complete||e.push(n.ID)}if(e.length>0)return console.log(B.Arr.randomGetOne(e)),B.Arr.randomGetOne(e)}getRanSkinObjByAD(){const e=[];for(let t=0;t<this.arr.length;t++){const n=this.arr[t];n.complete||n.pathWay!==N.ItemPathWay.AD||e.push(n)}return B.Arr.randomGetOut(e,e.length),e[0]}get getNoCompeletExCheckAndLottery(){for(let e=0;e<this.arr.length;e++){const t=this.arr[e];if(t.pathWay!==N.ItemPathWay.LotteryChest&&t.pathWay!==N.ItemPathWay.CheckIn&&!t.complete)return!0}}}class m extends p.BaseTable{constructor(e){super(e)}getDataByLevel(){const t=[],n=e.Level.getRoadDataArr();for(let e=0;e<n.length;e++){const a=n[e];for(let e=0;e<this.arr.length;e++){const n=this.arr[e];n.name===a.name&&(n.length=a.length,t.push(n))}}return t}getChildDataArrByRoadName(e){for(let t=0;t<this.arr.length;t++){const n=this.arr[t];if(n.name===e)return n.childData}}}class y extends p.BaseTable{constructor(e){super(e)}getRewardIDByHpPer(e){e*=100;let t=1;for(let n=0;n<this.arr.length;n++){if(e<this.arr[n].HP){const e=this.arr[n-1];e&&(t=e.ID);break}}return e>this.arr[this.arr.length-1].HP&&(t=8),e<this.arr[0].HP&&(t=1),t}getRewardByNum(t){const n=this.getObjByID(t).rewardId,a=e.Reward.ranSuperpositionWeight(n);let i;if(999===a.ID){const t=e.Skin.getRanSkinObjByAD();if(t)(i=e.Item.getItemBaseByID(t.ID)).number=a.number,i.type=999;else{const t=e.Reward.getPrepareReward();(i=e.Item.getItemBaseByID(t.ID)).number=t.number}}else(i=e.Item.getItemBaseByID(a.ID)).number=a.number;return i}}class f extends p.ItmeTable{constructor(e){super(e),this.upgradeValue=20,this.eatFoodScale=.05,this.eatFoodScaleByBaby=.01}get mode(){return this._mode?this._mode:N.LevelMode.common}set mode(e){this._mode=e}get endlessFreeNum(){return g.number("LevelData/endlessFreeNum",null,0).value}set endlessFreeNum(e){g.number("LevelData/endlessFreeNum",null,0).value=e}get playEndlessNum(){return g.number("LevelData/playEndlessNum",null,1).value}set playEndlessNum(e){g.number("LevelData/playEndlessNum",null,1).value=e}getEndlessLvData(){e.Level.playEndlessNum++;return[]}getEndlessLvObj(){let e;return e=this.getObjByID(101)}getEndlessStartChild(){return this.getEndlessLvObj().startChild}getRoadDataArr(){const t=[];let n=this.getObjByID(i.Game.level);n||(n=this.getObjByID(1));for(let a=0;a<n.roadArr.length;a++){const i=n.roadArr[a],o=e.Road.getObjByID(i),r=B.ObjArray.objCopy(o);r.color=n.colour[a]?n.colour[a]:"0",t.push(r)}return t}getCommonStartChild(){let e=this.getObjByID(i.Game.level);return e||(e=this.getObjByID(1)),e.startChild}getBossHPByLevel(){let e=this.getObjByID(i.Game.level);return e||(e=this.getObjByID(1)),e.bossHP}getBossASpeedByLevel(){let e=this.getObjByID(i.Game.level);return e||(e=this.getObjByID(1)),e.bossaspeed}getBossAttackByLevel(){let e=this.getObjByID(i.Game.level);return e||(e=this.getObjByID(1)),e.bossattack}getFoodAType(){let e=this.getObjByID(i.Game.level);return e||(e=this.getObjByID(1)),e.FoodA}getFoodBType(){let e=this.getObjByID(i.Game.level);return e||(e=this.getObjByID(1)),e.FoodB}}class w extends p.ItmeTable{constructor(e){super(e)}}class S extends p.ItmeTable{constructor(e){super(e)}get num(){return g.number("CheckInData/num").value}set num(e){g.number("CheckInData/num").value=e}get lastDate(){return g.number("CheckInData/lastDate",null,-1).value}set lastDate(e){g.number("CheckInData/lastDate").value=e,u.notify(H.redDotHint)}get today(){return this.lastDate==d.Now.date}get dayArr6(){const t=[];if(t.length<=0)for(let n=0;n<6;n++){const a=this.getItemArrObjByID(1e4+n+1);for(let n=0;n<a.weightArr.length;n++){const i=a.weightArr[n],o=a.numberArr[n];if(i>Math.floor(10*Math.random())){const i=a.itemArr[n],r=e.Item.getItemBaseByID(i);r.number=o,t.push(r)}}}return t}get day7RwardArr(){const t=[];if(t.length<=0){const n=this.getItemArrObjByID(10007);for(let a=0;a<n.weightArr.length;a++){const i=n.weightArr[a],o=Math.floor(10*Math.random()),r=n.numberArr[a];if(i>o){let i=n.itemArr[a],o=e.Item.getItemBaseByID(i);i=n.itemArr[a],o.number=r,t.push(o)}}}return t}}class b extends p.ItmeTable{constructor(e){super(e)}get KeyNum(){return g.number("LotteryData/chestKeyNum").value}set KeyNum(e){e>3&&(e=3),g.number("LotteryData/chestKeyNum").value=e}get ranReward(){let t;const n=this.ranSuperpositionWeight(10015);if(999===n.ID){const a=this.getOneSkin();if(a)(t=e.Item.getItemBaseByID(a.ID)).number=n.number,t.index=n.index;else{let n=e.Reward.getItemGroupObjByIndex(10016,0);(t=e.Item.getItemBaseByID(n.ID)).number=n.number,t.index=n.index}}else(t=e.Item.getItemBaseByID(n.ID)).number=n.number,t.index=n.index;return t}getOneSkin(){const t=[];for(let n=0;n<e.Skin.arr.length;n++){const a=e.Skin.arr[n];a.type!==N.ItemType.Skin||a.pathWay!==N.ItemPathWay.LotteryChest||a.complete||t.push(a)}return 0===t.length?void 0:t[0]}get getBestReward(){const t=e.Reward.getItemGroupObjByIndex(10015,8);let n;if(999===t.ID){const a=this.getOneSkin();if(a)(n=e.Item.getItemBaseByID(a.ID)).number=t.number,n.index=t.index;else{let t=e.Reward.getItemGroupObjByIndex(10016,0);(n=e.Item.getItemBaseByID(t.ID)).number=t.number,n.index=t.index}}else(n=e.Item.getItemBaseByID(t.ID)).number=t.number,n.index=t.index;return n}}class L extends p.ItmeTable{constructor(e){super(e)}getOneSkin(){const t=[];for(let n=0;n<e.Skin.arr.length;n++){const a=e.Skin.arr[n];a.type!==N.ItemType.Skin||a.pathWay!==N.ItemPathWay.LuckyWheel||a.complete||t.push(a)}return 0===t.length?void 0:t[0]}get ranReward(){let t;const n=this.ranSuperpositionWeight(10014);if(999===n.ID){const a=this.getOneSkin();if(a)(t=e.Item.getItemBaseByID(a.ID)).number=n.number,t.index=n.index;else{let n=e.Reward.getItemGroupObjByIndex(10016,0);(t=e.Item.getItemBaseByID(n.ID)).number=n.number,t.index=n.index}}else(t=e.Item.getItemBaseByID(n.ID)).number=n.number,t.index=n.index;return t}get getItemArr(){const t=[],n=this.getItemArrObjByID(10014);for(let a=0;a<n.weightArr.length;a++){const i={index:a,ID:n.itemArr[a],number:n.numberArr[a],weight:n.weightArr[a]};let o;if(999===i.ID){const t=this.getOneSkin();if(t)(o=e.Item.getItemBaseByID(t.ID)).number=i.number,o.index=i.index;else{let t=e.Reward.getItemGroupObjByIndex(10016,0);(o=e.Item.getItemBaseByID(t.ID)).number=t.number,o.index=t.index}}else(o=e.Item.getItemBaseByID(i.ID)).number=i.number,o.index=i.index;t.push(o)}return t}get lastDate(){return g.number("LuckyWheelData/lastDate",null,-1).value}set lastDate(e){g.number("LuckyWheelData/lastDate").value=e,u.notify(H.redDotHint)}get todayFree(){return this.lastDate!==d.Now.date}}class v extends p.ItmeTable{constructor(e){super(e)}getItemBaseByID(e){const t=this.getObjByID(e);if(t.type===N.ItemType.Skin){const e="Game/UI/SkinIcon/";t.iconSkin=e+t.name+".png",t.picSkin=e+t.name+".png",t.picBigSkin=e+t.name+".png"}else{let n="",a="",i="";switch(e){case 101:case 102:n="img_icon_money_01",a="img_icon_money_01b",i="img_icon_zuanshibig";break;case 103:n="img_icon_money_02",a="img_icon_money_02",i="img_icon_tili_02";break;case 301:n="img_icon_zhuanpan_zailaiyici",a="img_icon_zhuanpan_zailaiyici",i="img_icon_zhuanpan_zailaiyici";break;case 401:n="img_icon_wujin_big",a="img_icon_wujin_big",i="img_icon_wujin_big"}const o="Game/UI/";t.iconSkin=o+n+".png",t.picSkin=o+a+".png",t.picBigSkin=o+i+".png"}return t.number=1,t.index=0,B.ObjArray.objCopy(t)}}}(P||(P={}));class F extends o.NameBase{}F.PersonalInfo="PersonalInfo",F.Levels="Levels",F.SelectLevel="SelectLevel",F.Settle="Settle",F.Victory="Victory",F.Defeated="Defeated",F.Share="Share",F.CheckIn="CheckIn",F.Ranking="Ranking",F.Shop="Shop",F.Task="Task",F.LuckyWheel="LuckyWheel",F.BeRewarded="BeRewarded",F.Lottery="Lottery",F.ADGetReward="ADGetReward",F.Skin="Skin",F.SkinTry="SkinTry",F.EndLessSettle="EndLessSettle",F.SpecialAwards="SpecialAwards",F.Resurgence="Resurgence",F.PropTry="PropTry";class G extends o.SceneBase{lwgOpenAniAfter(){this.owner.lbLvNum.text=i.Game.level.toString(),P.Sound.playSoundByID(20)}lwgButton(){this.btnOnUp(this.owner.btnAgain,()=>{this.openScene(F.Start)}),this.btnOnUp(this.owner.btnSkip,()=>{i.Game.level++,this.openScene(F.Start)})}}class X{constructor(){X.ins=this}get effParent(){let e,t;return(e=(t=P.Level.mode===N.LevelMode.common?x.Scene3D.MainScene.instance:x.Scene3D.EndLess.instance).getChildByName("effParent"))||((e=new Laya.Sprite3D).name="effParent",t.addChild(e)),e}ready(){B.Node.destroyAllChildren(this.effParent)}play_Right(e,t){const n=x.Prefab3D.effect_right.instance.clone();return this.playBase(n,e,3e3,t),n}play_zuanshi(e,t){const n=x.Prefab3D.effect_zuanshi.instance.clone();return this.playBase(n,e,3e3,t),n}play_Change(e,t,n){const a=x.Prefab3D["effect_change0"+t].instance.clone();return this.playBase(a,e,3e3,n),a}playBase(e,t,n,a,i){this.effParent.addChild(e),a?a.addChild(e):this.effParent.addChild(e),i?e.transform.localPosition=t:e.transform.position=t,-1!==n&&Laya.timer.once(n,this,()=>{e.destroy(!0)})}}class ${constructor(e){this.roadAddTime=200,this.roadDestoryDistance=80,this.roadDataArr=[],this.redBase=[1,.45,.35],this.yellowBase=[1,.7,.17],this.blueBase=[.3,.6,1],this.redCount=0,this.yellowCount=0,this.blueCount=0,this.mileageRoad=0,this.heightRoad=0,this.mileageTotal=0,this._mileageCur=0,this.scene=e,Laya.stage.addChild(this.scene),this.camaraPoint=this.scene.getChildByName("CameraPoint"),this.mainCamara=this.camaraPoint.getChildByName("Main Camera"),Laya.Browser.pixelRatio>=16/9&&(this.mainCamara.fieldOfView+=5);const t=this.mainCamara.transform.position;this.mainCamaraFP=new Laya.Vector3(t.x,t.y,t.z),this.directionalLight=this.camaraPoint.getChildByName("Directional Light"),this.roadParent=new Laya.Sprite3D,this.roadParent.name="roadParent",this.scene.addChild(this.roadParent),this.marginParent=new Laya.Sprite3D,this.marginParent.name="marginParent",this.scene.addChild(this.marginParent)}get endRoadData(){return this._endRoadData}set endRoadData(e){this.redCount=0,this.yellowCount=0,this.blueCount=0,this._endRoadData=e}get mileageCur(){return this._mileageCur}set mileageCur(e){this._mileageCur=e,P.Level.mode===N.LevelMode.common&&this._mileageCur>this.mileageTotal&&(this._mileageCur=this.mileageTotal),u.notify(H.updateLvSchedule,[this._mileageCur/this.mileageTotal,this._mileageCur])}showbase(){Laya.timer.clearAll(this),this.mileageRoad=0,this.heightRoad=0,this.mileageTotal=0,this.mileageCur=0,this.roadIndex=0,this.marginIndex=-2,this.colorIndex=1,this.start(),this.RoadAdd(),this.RoadDestory(),u.register(H.addMileageCur,this,e=>{this.mileageCur+=e})}start(){B.Node.destroyAllChildren(this.marginParent),B.Node.destroyAllChildren(this.roadParent);for(let e=0;e<4;e++)this.createRoad();this.createMargin()}createMargin(){P.Level.mode===N.LevelMode.common?this.endMargin=x.Prefab3D.marginC.instance.clone():this.endMargin=x.Prefab3D.marginE.instance.clone(),this.marginParent.addChild(this.endMargin),this.endMargin.transform.position=new Laya.Vector3(0,0,200*this.marginIndex),this.marginIndex++}setEndData(){this.endRoadData=this.roadDataArr[this.roadIndex]}createRoad(){if(this.setEndData(),this.endRoadData){var e=()=>{this.roadParent.addChild(this.endRoad),this.endRoad.transform.position=new Laya.Vector3(0,this.heightRoad,this.mileageRoad),this.mileageRoad+=this.endRoadData.length,this.heightRoad+=this.endRoadData.height,this.endRoad.heightRoad=this.heightRoad,this.roadIndex++};if("Road_999"===this.endRoadData.name||"Road_888"===this.endRoadData.name||"Road_997"===this.endRoadData.name)this.endRoad=x.Prefab3D[this.endRoadData.name].instance.clone(),"Road_888"===this.endRoadData.name&&this.changeRodeColor(this.endRoad),e();else{const t=P.RoadsMsg.getChildDataArrByRoadName(this.endRoadData.name);if(!t)return console.log(this.endRoadData.name,"没有数据",this.endRoadData,"索引值：",this.roadIndex),Laya.timer.clearAll(this),!1;this.endRoad=new Laya.Sprite3D,this.endRoad.name=this.endRoadData.name,e();for(let e=0;e<t.length;e++){const n=t[e];let a=this.resCorresponding(n.name);if(!a)return console.log(this.endRoadData.name,"不存在资源:",n.name),!1;let i=a.clone();this.endRoad.addChild(i),i.transform.localPosition=new Laya.Vector3(n.data.localPositionX,n.data.localPositionY,n.data.localPositionZ),i.transform.localScale=new Laya.Vector3(n.data.localScaleX,n.data.localScaleY,n.data.localScaleZ),i.transform.localRotationEuler=new Laya.Vector3(n.data.localRotationEulerX,n.data.localRotationEulerY,n.data.localRotationEulerZ),i.active=n.active,"KeyFood"===i.name.substr(0,7)&&(i.transform.localPositionY+=2),this.changeRodeColor(i),this.changeDoorColor(i)}this.setBubbleColorIndex();for(let e=0;e<this.endRoad.numChildren;e++){const t=this.endRoad.getChildAt(e);this.changeColor(t)}}return!0}}resCorresponding(e){let t;if("paopao"===e.substr(0,6)){const n=e.substr(0,8);t=x.Prefab3D[n].instance;const a=e.substr(7,1);this.endRoadData["index"+a]=1}else if("ZhangaiBian"===e.substr(0,11)){const n=e.substr(0,14);P.Level.mode===N.LevelMode.common?this.colorIndex=+e.substr(13,1):this.colorIndex=Math.floor(3*Math.random())+1,t=x.Prefab3D[n].instance}else if("RoadTied"===e.substr(0,8))t=x.Prefab3D.RoadTied.instance;else if("Road_Base"===e.substr(0,9))t=x.Prefab3D.Road_Base.instance;else if("KeyFood"===e.substr(0,7))t=x.Prefab3D.KeyFood.instance;else if("zhangai_xiepo"===e.substr(0,13))t=x.Prefab3D.zhangai_xiepo.instance;else if("zhangai0"===e.substr(0,8)){const n=+e.substr(8,1);t=x.Prefab3D[`zhangai0${n}`].instance}else"drop"===e.substr(0,4)&&(t=x.Prefab3D.drop.instance);return t}setBubbleColorIndex(){const e=this.endRoadData.color.split("_");let t=0;if(this.endRoadData.index1&&this.endRoadData.index2&&this.endRoadData.index3?t=3:this.endRoadData.index1&&this.endRoadData.index2?t=2:this.endRoadData.index1&&(t=1),1===e.length)if(t>1){const e=Math.floor(Math.random()*t)+1;this.endRoadData["index"+e]=this.colorIndex;for(let t=0;t<3;t++)t!==e&&(this.endRoadData["index"+t]=Math.floor(3*Math.random())+1)}else this.endRoadData.index1=this.colorIndex;else for(let t=0;t<e.length;t++){const n=+e[t];this.endRoadData[`index${t+1}`]=0===n?Math.floor(3*Math.random())+1:n}}changeColor(e){if("paopao"===e.name.substr(0,6)){const t=+e.name.substr(7,1),n=this.endRoadData[`index${t}`];if(x.Material[`bubble0${n}`]){const t=e.getChildByName("pao01"),a=e.getChildByName("pao02"),i=x.Material["bubble0"+n].instance;e.colorIndex=n;1===n?this.redBase:2===n?this.yellowBase:3===n&&this.blueBase,a.meshRenderer.material=t.meshRenderer.material=i}else console.log("不存在资源",`bubble0${n}`)}}changeRodeColor(e){if(("Road_Base"===e.name.substr(0,9)||"Road_888"===e.name.substr(0,9))&&P.Level.mode===N.LevelMode.endless){const t=e.getChildByName("road_base_01");if(t){t.meshRenderer.material.albedoColor=new Laya.Vector4(.3,.18,.92,1)}}}changeDoorColor(e){if(!e.alreadyChange&&P.Level.mode!==N.LevelMode.common&&"ZhangaiBian"===e.name.substr(0,11)){const t=e.transform.position.clone(),n=e.parent;let a;const i=x.Prefab3D["ZhangaiBian_0"+this.colorIndex];i&&((a=i.instance.clone()).alreadyChange=!0,n.addChild(a),a.transform.position=t,e.active=!1)}}RoadAdd(){Laya.timer.frameLoop(1,this,()=>{if(this.endRoad&&this.endRoad.transform&&this.endRoad.transform.position.z-this.camaraPoint.transform.position.z<100&&this.createRoad()&&this.roadIndex>3){const e=this.endRoad.transform.position.clone();this.endRoad.transform.localPositionY=e.y-20,L.moveToY(this.endRoad,e.y+3,this.roadAddTime,this,null,()=>{L.moveToY(this.endRoad,e.y,this.roadAddTime/2,this,null,()=>{})})}let e=0;P.Level.mode===N.LevelMode.endless&&(e=0),this.endMargin&&this.endMargin.transform&&this.camaraPoint.transform.position.z-this.endMargin.transform.position.z>e&&this.createMargin()})}RoadDestory(){Laya.timer.frameLoop(10,this,()=>{if(this.roadIndex>2)for(let e=0;e<this.roadParent.numChildren;e++){const t=this.roadParent.getChildAt(e);"Road_999"!==t.name&&"Road_997"!==t.name&&this.camaraPoint.transform.localPositionZ-t.transform.position.z>this.roadDestoryDistance&&t.destroy(!0)}if(this.marginIndex>2&&this.marginParent.numChildren>1)for(let e=0;e<this.marginParent.numChildren;e++){const t=this.marginParent.getChildAt(e);this.camaraPoint.transform.localPositionZ-t.transform.position.z>200&&t.destroy(!0)}})}hideBase(){u.offAllCaller(this),Laya.timer.clearAll(this),B.Node.destroyAllChildren(this.marginParent),B.Node.destroyAllChildren(this.roadParent)}}class W extends ${constructor(){super(x.Scene3D.EndLess.instance),W.ins=this,this.scene.name="EndLessScene"}ready(){this.roadDestoryDistance=200,this.roadAddTime=50,this.showbase()}clear(){this.hideBase()}setEndData(){u.notify(H.roadIndex,[this.roadIndex]);const e=Math.round(38*Math.random())+200,t=Math.round(10*Math.random())+300,n=Math.round(17*Math.random())+311,a=Math.round(8*Math.random())+329;let i;if(0===this.roadIndex)i=888;else if(1===this.roadIndex)i=e,this.type="A";else if(this.roadIndex>1&&this.roadIndex<=10){if("A"===this.type)i=e,this.type="B";else if("B"===this.type)i=t,this.type="C";else if("C"===this.type){i=1===B.Num.randomOneHalf()?e:t,this.type="A"}}else if(this.roadIndex>10&&this.roadIndex<=20){if("A"===this.type)i=e,this.type="B";else if("B"===this.type)i=n,this.type="C";else if("C"===this.type){1===B.Num.randomOneHalf()?(i=e,this.type="A"):(i=n,this.type="D")}else if("D"===this.type){i=1===B.Num.randomOneHalf()?e:n,this.type="A"}}else if(this.roadIndex>20)if("A"===this.type)i=e,this.type="B";else if("B"===this.type)i=a,this.type="C";else if("C"===this.type)i=a,this.type="D";else if("D"===this.type){i=1===B.Num.randomOneHalf()?e:a,this.type="A"}const o=P.Road.getObjByID(i);if(o){const e=B.ObjArray.objCopy(o);e.color="0",this.endRoadData=e}else console.log("表格中没有这个路段",i,"第",this.roadIndex)}}class Y extends ${constructor(){super(x.Scene3D.MainScene.instance),Y.ins=this,this.scene.name="MainScene"}ready(){this.roleType=null,this.roadDataArr=P.Level.getRoadDataArr(),this.showbase();for(let e=0;e<this.roadDataArr.length-3;e++){const t=this.roadDataArr[e];this.mileageTotal+=t.length}}clear(){this.hideBase()}}class z{constructor(){z.ins=this,this.changeScene(Y.ins.scene),_.Init()}changeScene(e){this.scene=e,this.cameraPoint=this.scene.getChildByName("CameraPoint"),this.camera=this.cameraPoint.getChildByName("Main Camera"),this.scene.getChildByName("Role")?this.role=this.scene.getChildByName("Role"):(this.role=new Laya.Sprite3D,this.role.name="Role",this.scene.addChild(this.role)),this.changeSkin(),this.changeColor(4),this.changeTravel(4)}setState(e,t=[]){switch(_.stateClear(),e){case N.RoleState.Suspend:_.Suspend.ins.action();break;case N.RoleState.Ready:_.stateReset(),_.Ready.ins.action();break;case N.RoleState.Start:_.stateReset(),_.Start.ins.action(t,()=>{this.setState(N.RoleState.Run,t)});break;case N.RoleState.Resurgence:_.Resurgence.ins.action(t,()=>{this.setState(N.RoleState.Run,t)});break;case N.RoleState.Run:_.MoveCrosswise.ins.action(),_.MoveForward.ins.action(t),_.Run.ins.action();break;case N.RoleState.Diamond:_.Diamond.ins.action(t,()=>{this.setState(N.RoleState.Run)});break;case N.RoleState.Wall:_.Wall.ins.action(t,()=>{this.setState(N.RoleState.Run)},()=>{this.setState(N.RoleState.Defeated)});break;case N.RoleState.Bubble:_.MoveCrosswise.ins.action(),_.Bubble.ins.action(t,e=>{_.MoveForward.ins.action(e)},()=>{this.setState(N.RoleState.Defeated)});break;case N.RoleState.Door:_.Door.ins.action(t,()=>{this.setState(N.RoleState.Run)});break;case N.RoleState.Drop:_.Drop.ins.action(t,()=>{this.setState(N.RoleState.Run)},e=>{this.setState(N.RoleState.Defeated,[N.ResurgenceType.drop])});break;case N.RoleState.Slope:_.Slope.ins.action(t,()=>{this.setState(N.RoleState.Run)}),_.MoveCrosswise.ins.action();break;case N.RoleState.KeyFood:_.KeyFood.ins.action(t,()=>{this.setState(N.RoleState.Run)});break;case N.RoleState.Destination:_.MoveCrosswise.ins.action(),_.Destination.ins.action(t,()=>{this.setState(N.RoleState.Dance)});break;case N.RoleState.Dance:_.Dance.ins.action(t,()=>{this.setState(N.RoleState.Victory)});break;case N.RoleState.Victory:_.Victory.ins.action();break;case N.RoleState.Defeated:_.Defeated.ins.action(t)}this.state=e}playAniRole(e){return B.D3.playAnimator(this.skin,e)}playAniCrossFade(e){this.skin.getComponent(Laya.Animator).crossFade(e,1)}playAniByCommon(e,t){}get colorIndex(){return this._colorIndex?this._colorIndex:1}set colorIndex(e){this._colorIndex=e,u.notify(H.updateRoleHP,[this._colorIndex])}changeColor(e=N.Colour.red){this.colorIndex=e,e!==N.Colour.rainbow?(this.hair.meshRenderer.material=x.Material[`dress0${e}`].instance,this.dress.skinnedMeshRenderer.material=x.Material[`hair0${e}`].instance):this.dress.skinnedMeshRenderer.material=x.Material[`hair0${e}`].instance}changeTravel(e){const t=B.Node.findChild3D(this.skin,"TravelPointL");for(let n=0;n<t.numChildren;n++){const a=t.getChildAt(n);+a.name.substr(7,1)===e?a.active=!0:a.active=!1}const n=B.Node.findChild3D(this.skin,"TravelPointR");for(let t=0;t<n.numChildren;t++){const a=n.getChildAt(t);+a.name.substr(7,1)===e?a.active=!0:a.active=!1}}changeSkin(e,t,n){e=e||P.Skin.pitchDressName,t=t||P.Skin.pitchHairName,n=n||P.Skin.pitchWingName,B.Node.destroyAllChildren(this.role),this.skin=x.Prefab3D.role01.instance.clone(),this.role.addChild(this.skin);const a=this.skin.getChildByName("box");a.getComponent(Z)||a.addComponent(Z);for(let t=0;t<this.skin.numChildren;t++){const n=this.skin.getChildAt(t);"Dress"===n.name.substr(0,5)&&(n.name===e?(n.active=!0,this.dress=n):n.active=!1)}const i=B.Node.findChild3D(this.skin,"mixamorig:HeadTop_End");for(let e=0;e<i.numChildren;e++){const n=i.getChildAt(e);n.name===t?(n.active=!0,this.hair=n.getChildAt(0)):n.active=!1}const o=B.Node.findChild3D(this.skin,"WingPoint");for(let e=0;e<o.numChildren;e++){const t=o.getChildAt(e);t.name===n?(t.active=!0,this.wing=t.getChildAt(0)):t.active=!1}}showFontHP(e,t,n,a){}showFontAttribute(e){}updateLevelDisplay(){const e=B.D3.getPosToScreen(z.ins.role.transform.position,z.ins.camera);e.y-=100*this.role.transform.localScaleX,e.y-=50,u.notify(H.updateRoleDataDisplay,[e])}}class Z extends k.Object3D{onTriggerEnter(e){const t=e.owner,n=t.name;t.alreadyEnter||(t.alreadyEnter=!0,"paopao"==n.substr(0,6)?z.ins.setState(N.RoleState.Bubble,[t]):"ZhangaiBian"==n.substr(0,11)?z.ins.setState(N.RoleState.Door,[t]):"destination"==n.substr(0,11)?z.ins.setState(N.RoleState.Destination,[t]):"zhangai_xiepo"==n.substr(0,13)?z.ins.setState(N.RoleState.Slope,[t]):"zhangai0"==n.substr(0,8)?z.ins.setState(N.RoleState.Wall,[t]):"KeyFood"==n.substr(0,7)?z.ins.setState(N.RoleState.KeyFood,[t]):"drop"==n.substr(0,4)&&z.ins.setState(N.RoleState.Drop,[t]))}onTriggerExit(e){}}!function(e){e.stateReset=function(){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];n.ins&&n.ins.reset&&n.ins.reset()}},e.stateClear=function(){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];n.ins&&n.ins.actionStop&&n.ins.actionStop()}},e.Init=function(){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t],a=n.name;a&&a&&"Init"!==a&&"stateClear"!==a&&"stateBase"!==a&&new n}};e.stateBase=class{action(e,t,n){}};class t{constructor(){t.ins=this}action(){}}e.Suspend=t;class a{constructor(){a.ins=this}action(){z.ins.cameraPoint.transform.position=new Laya.Vector3(2,-7,-7),z.ins.cameraPoint.transform.localRotationEuler=new Laya.Vector3(-15,147.5,4.8),z.ins.role.transform.localPosition=new Laya.Vector3(0,0,0),z.ins.role.transform.localScale=new Laya.Vector3(1,1,1),z.ins.role.transform.localRotationEuler=new Laya.Vector3(0,0,0),z.ins.changeSkin(),z.ins.changeColor(),z.ins.changeTravel(0),z.ins.playAniRole(N.RoleAni.dance),Laya.timer.frameLoop(1,this,()=>{z.ins.updateLevelDisplay()})}actionStop(){Laya.timer.clearAll(this)}}e.Ready=a;class i{constructor(){i.ins=this}action(e,t){Laya.timer.frameLoop(1,this,()=>{z.ins.updateLevelDisplay()});L.moveTo(z.ins.cameraPoint,new Laya.Vector3(0,0,0),1e3,this,null,()=>{}),L.rotateTo(z.ins.cameraPoint,new Laya.Vector3(0,0,0),1e3,this,null,()=>{t&&t(),z.ins.changeTravel(z.ins.colorIndex)})}actionStop(){Laya.timer.clearAll(this)}}e.Start=i;class o{constructor(){this.bubbleCaller={},this.bubbleAddSpeed=0,this.bubbleTime=50,this.sprintCaller={},this.sprintAddSpeed=.5,this.speedSprint=0,this.speedBubble=0,this.speedBase=0,o.ins=this,this.reset()}get speed(){return this.speedBase+this.speedBubble+this.speedSprint}get sprintTime(){return P.Level.mode,N.LevelMode.endless,6e3}reset(){this.speedBase=.8*(1+P.Skill.getSkillAdditionByType(N.SkillType.speed)),this.speedBubble=0,this.speedSprint=0,this.sprintAddSpeed=.5,this.bubbleAddSpeed=0,P.Level.mode===N.LevelMode.endless&&(u.offAllCaller(this),u.register(H.roadIndex,this,()=>{this.speedBase+=.03}))}action(e=[]){e[0]===N.MoveForwardArgs.sprint?this.sprintProps():(e[0]===N.MoveForwardArgs.rightBubble?this.bubbleAddSpeed=.15:e[0]===N.MoveForwardArgs.errorBubble&&(this.bubbleAddSpeed=-.2),this.bubble()),Laya.timer.frameLoop(1,this,this.actionCb)}actionCb(){u.notify(H.addMileageCur,[this.speed]),z.ins.cameraPoint.transform.translate(new Laya.Vector3(0,0,this.speed),!1),z.ins.role.transform.translate(new Laya.Vector3(0,0,this.speed),!1),z.ins.updateLevelDisplay()}bubble(){Laya.timer.clearAll(this.bubbleCaller),this.speedBubble=this.bubbleAddSpeed,this.isBubble=!0,Laya.timer.once(this.bubbleTime,this.bubbleCaller,()=>{this.isBubble=!1;const e=this.bubbleAddSpeed/15;m.frameNumLoop(1,15,this.bubbleCaller,()=>{this.speedBubble-=e},()=>{this.speedBubble=0,z.ins.playAniRole(N.RoleAni.run)})})}sprintProps(){this.isSprint=!0,this.sprintEff&&this.sprintEff.destroy(!0),this.sprintEff=x.Prefab3D.effect_chongci.instance.clone(),z.ins.changeColor(N.Colour.rainbow),Laya.timer.once(200,this,()=>{z.ins.changeTravel(N.Colour.rainbow)}),z.ins.skin.addChild(this.sprintEff),Laya.timer.clearAll(this.sprintCaller),this.speedSprint=this.sprintAddSpeed,Laya.timer.once(this.sprintTime,this.sprintCaller,()=>{this.isSprint=!1;const e=this.sprintAddSpeed/15;m.frameNumLoop(1,15,this.sprintCaller,()=>{this.speedSprint-=e},()=>{this.speedSprint=0,this.sprintEff&&this.sprintEff.destroy(!0),p.ins.changeColor(),z.ins.playAniRole(N.RoleAni.run)})})}stopBubble(){Laya.timer.clearAll(this.bubbleCaller)}actionStop(){Laya.timer.clear(this,this.actionCb)}}e.MoveForward=o;class r{constructor(){this.isDestination=!1,r.ins=this,this.reset()}reset(){this.speed=.06,e.gMoveScope=[-10,10],e.gMoveCameraScope=[-6,6],this.isDestination=!1}action(){Laya.stage.on(Laya.Event.MOUSE_MOVE,this,this.stageMove),Laya.stage.on(Laya.Event.MOUSE_UP,this,this.stageUp),Laya.stage.on(Laya.Event.MOUSE_OUT,this,this.stageUp)}stageMove(e){this.isDestination||(this.mouseX?(this.setScopeLimit(z.ins.cameraPoint,e),this.setScopeLimit(z.ins.role,e),this.mouseX=e.stageX):this.mouseX=e.stageX)}setScopeLimit(t,n){let a=this.mouseX,i=n.stageX-a,o=0;o=t==z.ins.cameraPoint?t.transform.position.x-i*this.speed*.6:t.transform.position.x-i*this.speed,t.transform.position=new Laya.Vector3(o,t.transform.position.y,t.transform.position.z);const r=t.transform.position.clone();t==z.ins.cameraPoint?(t.transform.position.x<e.gMoveCameraScope[0]&&(t.transform.position=new Laya.Vector3(e.gMoveCameraScope[0],r.y,r.z)),t.transform.position.x>e.gMoveCameraScope[1]&&(t.transform.position=new Laya.Vector3(e.gMoveCameraScope[1],r.y,r.z))):(t.transform.position.x<e.gMoveScope[0]&&(t.transform.position=new Laya.Vector3(e.gMoveScope[0],r.y,r.z)),t.transform.position.x>e.gMoveScope[1]&&(t.transform.position=new Laya.Vector3(e.gMoveScope[1],r.y,r.z)))}stageUp(e){this.mouseX=null}actionStop(){this.mouseX=null,Laya.stage.off(Laya.Event.MOUSE_MOVE,this,this.stageMove),Laya.stage.off(Laya.Event.MOUSE_UP,this,this.stageUp),Laya.stage.off(Laya.Event.MOUSE_OUT,this,this.stageUp)}}e.MoveCrosswise=r;class s{constructor(){s.ins=this}action(){z.ins.playAniRole(N.RoleAni.run)}}e.Run=s;class l{constructor(){this.high=20,this.moveLen=70,l.ins=this}action(e,t){t&&t(),L.moveToY(z.ins.role,this.high,150,this,Laya.Ease.quadOut,()=>{L.moveToY(z.ins.role,0,500,this,Laya.Ease.quadIn,()=>{})}),L.moveZ(z.ins.role,this.moveLen,650,this);const n=z.ins.cameraPoint.transform.position.y-z.ins.role.transform.position.y;L.moveToY(z.ins.cameraPoint,this.high+n,150,this,Laya.Ease.quadOut,()=>{L.moveToY(z.ins.cameraPoint,n,500,this,Laya.Ease.quadIn,()=>{})}),L.moveZ(z.ins.cameraPoint,this.moveLen,650,this)}}e.Slope=l;class c{constructor(){c.ins=this}action(e=[],t,n){if(o.ins.isSprint)return void(t&&t());this.cameraPointPos=z.ins.cameraPoint.transform.position.clone(),this.rolePos=z.ins.role.transform.position.clone();L.moveZ(z.ins.role,30,1e3,this,null,()=>{n&&n(N.ResurgenceType.drop)}),L.moveZ(z.ins.cameraPoint,30,1e3,this),L.moveY(z.ins.role,-30,1e3,this)}}e.Drop=c;class d{constructor(){this.addNum=5,this.sumNum=0,d.ins=this}reset(){this.sumNum=0}action(e=[],t){}}e.Diamond=d;class y{constructor(){this.invincibleTime=3e3,this.invincibleCaller={},y.ins=this}reset(){this.isInvincible=!1}get subBubbleNum(){return P.Level.mode===N.LevelMode.common?10:25}action(e=[],t,n){if(o.ins.stopBubble(),this.isInvincible||v.ins.isResurgence||o.ins.isSprint)return void(t&&t());g.ins.rainbowEnergyNum-=this.subBubbleNum,P.Sound.playSoundByID(15);const a=z.ins.role.transform.position.y,i=200+50*a;z.ins.playAniRole(N.RoleAni.fall),L.moveZ(z.ins.role,-10,i,this,Laya.Ease.quadOut,()=>{g.ins.rainbowEnergyNum<0?(n&&n(),P.Sound.playSoundByID(18)):(Laya.timer.once(1500,this,()=>{t&&t()}),this.isInvincible=!0,Laya.timer.once(this.invincibleTime,this.invincibleCaller,()=>{this.isInvincible=!1}))}),L.moveZ(z.ins.cameraPoint,-10,i,this),L.moveY(z.ins.role,-a,i,this),L.moveY(z.ins.cameraPoint,-a,i,this)}}e.Wall=y;class g{constructor(){this.addNum=1,this.subNum=-2,this._rainbowEnergyNum=0,this.rainbowEnergyMaxNum=50,this.rainbowCaller={},this.errorCaller={},this.isDestination=!1,this.diamondSumNum=0,g.ins=this}get rainbowEnergyNum(){return this._rainbowEnergyNum}set rainbowEnergyNum(e){const t=e-this._rainbowEnergyNum;e>=this.rainbowEnergyMaxNum&&(e=this.rainbowEnergyMaxNum),e<-5&&(e=-5),this._rainbowEnergyNum=e,u.notify(H.bubblesNum,[this._rainbowEnergyNum,t,this.rainbowEnergyNum/this.rainbowEnergyMaxNum])}reset(){this.rainbowEnergyNum=Math.round(this.rainbowEnergyMaxNum*P.Skill.getSkillAdditionByType(N.SkillType.energy)),this.diamondSumNum=0}action(e=[],t,a){const i=e[0];if(n.shakeShort(),this.isDestination){B.D3.playAnimator(i,N.BubbleAni.retract),X.ins.play_zuanshi(i.transform.position),this.diamondSumNum++;const e=B.D3.getPosToScreen(i.transform.position,z.ins.camera);e.y-=150,h.Diamond.playGetHeapAni(null,1,[49,45],"Game/UI/img_icon_money_01.png",new Laya.Point(e.x,e.y),new Laya.Point(65,70),null,()=>{u.notify(H.updateDiamond,[this.diamondSumNum])},!1),P.Sound.playSoundByID(6);const t=i.parent;let n;"paopao01"===i.name?n=t.getChildByName("rubin (1)"):"paopao01 (1)"===i.name?n=t.getChildByName("rubin"):"paopao01 (2)"===i.name&&(n=t.getChildByName("rubin (2)")),X.ins.play_zuanshi(n.transform.position.clone()),n&&n.destroy(!0)}else{let e=[],n=.2;var r=()=>{this.rainbowEnergyNum+=this.addNum,B.D3.playAnimator(i,N.BubbleAni.retract),e=[N.MoveForwardArgs.rightBubble],X.ins.play_Right(i.transform.position),t&&t(e)};if(i.colorIndex===z.ins.colorIndex)r();else if(B.D3.playAnimator(i,N.BubbleAni.ball),o.ins.isSprint)r();else if(y.ins.isInvincible||v.ins.isResurgence)e=[N.MoveForwardArgs.errorBubble],P.Sound.playSoundByID(21),t&&t(e);else{if(this.rainbowEnergyNum+=this.subNum,this.rainbowEnergyNum<0)return o.ins.stopBubble(),z.ins.playAniRole(N.RoleAni.fall),void(a&&a());e=[N.MoveForwardArgs.errorBubble],P.Sound.playSoundByID(21),t&&t(e)}const s=50;Laya.timer.once(s,this.errorCaller,()=>{L.moveY(z.ins.role,n,s,this.errorCaller,null,()=>{L.moveToY(z.ins.role,0,s,this.errorCaller)})}),z.ins.playAniRole(N.RoleAni.slide)}}}e.Bubble=g;class p{constructor(){p.ins=this}action(e=[],t){const a=e[0];this.colorIndex=+a.name.substr(13,1),n.shakeShort(),P.Sound.playSoundByID(16),o.ins.isSprint||this.changeColor(),t&&t()}changeColor(){z.ins.changeColor(this.colorIndex),z.ins.changeTravel(this.colorIndex),X.ins.play_Change(z.ins.role.transform.position.clone(),this.colorIndex,z.ins.role)}}e.Door=p;class f{constructor(){f.ins=this}action(e=[],t){t&&t(),e[0].parent.removeSelf(),u.notify(H.pickedKey),P.Sound.playSoundByID(10),X.ins.play_zuanshi(z.ins.role.transform.position.clone())}}e.KeyFood=f;class w{constructor(){w.ins=this}reset(){g.ins.isDestination=!1}action(e=[],t){Laya.timer.once(200,this,()=>{z.ins.changeColor(4),z.ins.changeTravel(4)});const n=x.Prefab3D.effect_chongci.instance.clone();z.ins.skin.addChild(n),g.ins.isDestination=!0;let a=Math.round(g.ins.rainbowEnergyNum/(g.ins.rainbowEnergyMaxNum/25));const i=0==a?30:38,s=3*(a-1),l=8*a,c=60*o.ins.speed*2,h=1e3*i/c,d=1e3*Math.sqrt(l*l+s*s)/c;var m=()=>{t(),n.destroy(),z.ins.changeTravel(0)};u.notify(H.reduceStorage,[h,d+100]),L.moveZ(z.ins.role,i,h,this,null,()=>{0===a?m():(L.moveY(z.ins.role,s,d,this,null,()=>{if(a>=25){r.ins.isDestination=!0;const e=65,t=1e3*e/c;L.moveZ(z.ins.role,e,t,this,null,()=>{m()}),L.moveToX(z.ins.role,0,t/2,this),L.moveZ(z.ins.cameraPoint,e,t,this),L.moveZ(z.ins.cameraPoint,e,t,this),L.moveToX(z.ins.cameraPoint,0,t/2,this)}else m()}),L.moveZ(z.ins.role,l,d,this),L.moveY(z.ins.cameraPoint,s,d,this),L.moveZ(z.ins.cameraPoint,l,d,this))}),L.moveZ(z.ins.cameraPoint,i,h,this)}}e.Destination=w;class S{constructor(){S.ins=this}action(){Laya.timer.once(1500,this,()=>{u.notify(H.victory)})}}e.Victory=S;class b{constructor(){b.ins=this}action(e,t){u.notify(H.hideStorage),r.ins.isDestination=!0;P.Sound.playSoundByID(17),z.ins.playAniCrossFade(N.RoleAni.dance),L.rotateTo(z.ins.role,new Laya.Vector3(0,-180,0),300,this),L.moveY(z.ins.cameraPoint,-7,1e3,this),L.rotateTo(z.ins.cameraPoint,new Laya.Vector3(-12,-20,5),1e3,this),L.moveZ(z.ins.cameraPoint,11,1e3,this),Laya.timer.once(1500,this,()=>{t&&t()})}}e.Dance=b;class v{constructor(){this.isResurgence=!1,this.resurgenceCaller={},v.ins=this}reset(){}action(e,t){g.ins.rainbowEnergyNum=0,e[0]==N.ResurgenceType.drop&&(z.ins.role.transform.position=new Laya.Vector3(c.ins.rolePos.x,c.ins.rolePos.y,c.ins.rolePos.z+50),z.ins.cameraPoint.transform.position=new Laya.Vector3(c.ins.cameraPointPos.x,c.ins.cameraPointPos.y,c.ins.cameraPointPos.z+50)),t&&t(),this.isResurgence=!0,Laya.timer.once(3e3,this.resurgenceCaller,()=>{this.isResurgence=!1,D.ins.isDefeated=!1})}}e.Resurgence=v;class D{constructor(){D.ins=this}action(e){this.isDefeated||(this.isDefeated=!0,Laya.timer.once(1e3,this,()=>{u.notify(H.Resurgence,[e[0]])}))}}e.Defeated=D}(_||(_={}));class J{init(){for(let e=0;e<this.skin.numChildren;e++){const t=this.skin.getChildAt(e);"Dress"===t.name.substr(0,5)&&(t.name===P.Skin.pitchDressName?t.active=!0:t.active=!1,t.skinnedMeshRenderer.material=x.Material.dress01.instance)}const e=B.Node.findChild3D(this.skin,"mixamorig:HeadTop_End");for(let t=0;t<e.numChildren;t++){const n=e.getChildAt(t);n.name===P.Skin.pitchHairName?n.active=!0:n.active=!1}const t=B.Node.findChild3D(this.skin,"WingPoint");for(let e=0;e<t.numChildren;e++){const n=t.getChildAt(e);n.name===P.Skin.pitchWingName?n.active=!0:n.active=!1}B.Node.findChild3D(this.skin,"TravelPointL").active=!1,B.Node.findChild3D(this.skin,"TravelPointR").active=!1}changePart(e){let t;const n=P.Skin.getObjByID(e);if(n)if(n.part===N.Part.dress?t=this.skin:n.part===N.Part.hair?t=B.Node.findChild3D(this.skin,"mixamorig:HeadTop_End"):n.part===N.Part.wing&&(t=B.Node.findChild3D(this.skin,"WingPoint")),t===this.skin)for(let e=0;e<t.numChildren;e++){const a=t.getChildAt(e);t===this.skin&&"Dress"===a.name.substr(0,5)&&(a.name===n.name?a.active=!0:a.active=!1)}else for(let e=0;e<t.numChildren;e++){const a=t.getChildAt(e);a.name===n.name?a.active=!0:a.active=!1}else console.log("没有",e,"的皮肤信息")}}class K extends J{constructor(){super(),this.turnTime=500,K.ins=this}show(){this.scene=R.Skin.Scene3D.SkinScene.instance,this.camera=this.scene.getChildByName("Main Camera"),this.skinPoint=this.scene.getChildByName("SkinPoint"),this.skin=x.Prefab3D.role01.instance.clone(),this.fRX=this.skin.transform.localRotationEulerY,this.skinPoint.addChild(this.skin),Laya.Browser.pixelRatio>=16/9&&(this.camera.fieldOfView+=5),Laya.stage.addChild(this.scene),this.scene.name="SkinScene",this.init()}hide(){this.scene&&(this.scene.destroy(!0),this.scene=null,this.skinPoint=null,Laya.Resource.destroyUnusedResources())}change(e){this.changePart(e)}turnBack(){this.skinPoint&&L.ClearTween(this.skinPoint),this.skinPoint&&L.rotateTo(this.skinPoint,new Laya.Vector3(0,230,0),this.turnTime,this,null,()=>{})}turnFront(){this.skinPoint&&L.ClearTween(this.skinPoint),this.skinPoint&&L.rotateTo(this.skinPoint,new Laya.Vector3(0,45,0),this.turnTime,this,null,()=>{})}}class q extends J{constructor(){super(),q.ins=this,this.scene=x.Scene3D.SkinShow.instance,this.camera=this.scene.getChildByName("Main Camera"),this.fieldOfViewFirst=this.camera.fieldOfView,this.cameraFLP=this.camera.transform.localPositionY,this.scene.name="SkinShowScene",this.skinShowPoint=this.scene.getChildByName("SkinShowPoint"),Laya.Browser.pixelRatio>=16/9?this.camera.fieldOfView=this.fieldOfViewFirst+5:this.camera.fieldOfView=this.fieldOfViewFirst,this.skin=x.Prefab3D.role01.instance.clone(),this.skinShowPoint.addChild(this.skin),this.init()}show(e,t,n,a){this.change(t,n,a),e.addChild(this.scene)}change(e,t,n){e&&this.changePart(e),t&&this.changePart(t),n&&this.changePart(n)}}!function(e){function hideAll(){K.ins.hide(),Y.ins.scene.active=!1,Y.ins.clear(),W.ins.scene.active=!1,W.ins.clear()}e.init=class{constructor(){new Y,new W,new z,new X,new K,new q}},e.start=function(e){z.ins.setState(N.RoleState.Start,[e])},e.hideAll=hideAll,e.showMainScene=function(){hideAll(),Y.ins.scene.active=!0,Y.ins.ready(),z.ins.changeScene(Y.ins.scene),z.ins.setState(N.RoleState.Ready)},e.showEndLess=function(){hideAll(),W.ins.scene.active=!0,W.ins.ready(),z.ins.changeScene(W.ins.scene),z.ins.setState(N.RoleState.Ready)},e.showSkinScene=function(){hideAll(),K.ins.show()}}(M||(M={}));class Q extends o.SceneBase{lwgOnAwake(){this.showCurMode()}lwgOpenAniAfter(){Laya.timer.once(500,this,()=>{this.evNotify(H.redDotHint)}),this.openData&&this.openData.whereFrom==F.Victory?this.updateKey(!0):1===i.Login.totalNum?2!==this.openNum||P.CheckIn.today?this.updateKey(!0):this.openOverlayScene(F.CheckIn):P.CheckIn.today?this.updateKey(!0):this.openOverlayScene(F.CheckIn)}lwgButton(){this.btnOnDown(this.owner.startPic,()=>{if(P.Level.mode===N.LevelMode.endless)P.Level.endlessFreeNum>0?(this.openScene(F.PropTry),P.Level.endlessFreeNum--):l.openDialogHint({type:l.EmDialogHint.Double,content:"是否开启无尽模式",onBtnConfirm:()=>{this.openScene(F.PropTry)}});else if(h.Stamina.num>=5)if(i.Game.level>1)if(i.Game.level%2==0)this.openScene(F.PropTry);else{const e=P.Skin.getRanSkinTryByWing();if(e){const t={id:e};this.openScene(F.SkinTry,t)}else this.openScene(F.PropTry)}else h.Stamina.addNumDisPlayNode(-5),this.openScene(F.Levels);else{l.showTips("体力不够了！");const e={type:N.ResType.Stamina};this.openOverlayScene(F.ADGetReward,e)}}),this.btnOnUp(this.owner.btnLuckyWheel,()=>{this.openOverlayScene(F.LuckyWheel)}),this.btnOnUp(this.owner.btnCheckIn,()=>{this.openOverlayScene(F.CheckIn)}),this.btnOnUpADCondition(this.owner.btnLottery,()=>P.Lottery.KeyNum<3,()=>{P.Lottery.KeyNum++,this.updateKey(!0),this.owner[`key${P.Lottery.KeyNum}Ani`]&&this.owner[`key${P.Lottery.KeyNum}Ani`].play(0,!1)},()=>{const e={whereFrom:this.owner.name};this.openOverlayScene(F.Lottery,e)}),this.btnOnUp(this.owner.btnSkin,()=>{this.openScene(F.Skin,null,!0)}),this.btnOnUp(this.owner.btnCutMode,()=>{this.changeMode()})}lwgEvent(){this.evRegister(H.updateKeyNumStart,e=>{this.updateKey(e)})}lwgOnStart(){}showCurMode(){P.Level.mode===N.LevelMode.common?(this.owner.btnCutMode.skin="Game/UI/img_home_btn_wujin.png",this.owner.lbEndlessTitle.visible=!1,this.owner.imgLogo.visible=!0,M.showMainScene()):(this.owner.lbEndlessTitle.visible=!0,this.owner.imgLogo.visible=!1,this.owner.btnCutMode.skin="Game/UI/img_home_btn_putong.png",M.showEndLess())}changeMode(){b.Filter.setValue(b.EmfilterType.none),h.Diamond.hide(),h.Stamina.hide(),this.owner.aniChangeMode.play(0,!1),this.owner.aniChangeMode.once(Laya.Event.LABEL,this,()=>{h.Diamond.show(),h.Stamina.show(),P.Level.mode===N.LevelMode.common?P.Level.mode=N.LevelMode.endless:P.Level.mode=N.LevelMode.common,this.showCurMode(),b.Filter.setValue(b.EmfilterType.all)})}updateKey(e=!1){for(let e=1;e<4;e++)e>P.Lottery.KeyNum?this.owner[`key${e}`].visible=!1:this.owner[`key${e}`].visible=!0;P.Lottery.KeyNum>=3?(this.owner.btnLotteryADPic.visible=!1,e&&Laya.timer.once(100,this,()=>{const e={whereFrom:this.owner.name};this.openOverlayScene(F.Lottery,e)})):this.owner.btnLotteryADPic.visible=!0}}class ee extends o.SceneBase{constructor(){super(...arguments),this.roleLv=1,this.lastTime=0,this.lastPlusOrMinus=0,this.lastNum=0,this.clickNum=1}get curScore(){return this._curScore?this._curScore:0}set curScore(e){this._curScore=e}get bubblesNum(){return this._bubblesNum?this._bubblesNum:0}set bubblesNum(e){this._bubblesNum=e,this.owner.lbBubblesNum.text=e.toString()}get mileage(){return this._mileage?this._mileage:0}set mileage(e){this._mileage=Math.floor(e),this.owner.lbMileage.text=this._mileage+"m"}get diamondNum(){return this._diamondNum?this._diamondNum:0}set diamondNum(e){this.owner.lbDiamondNum.text="x"+e,this._diamondNum=e}lwgOnAwake(){this.curScore=0}lwgOnStart(){M.start(this.openData.sprint),this.setLevelProgress(),this.updateKey(),P.Level.mode===N.LevelMode.endless?(this.owner.boxLv.visible=!1,this.owner.boxKey.visible=!1,this.owner.imgDiamond.visible=!0,this.owner.imgDiamond.pos(60,149)):(this.owner.boxEndless.visible=!1,this.owner.imgDiamond.pos(67,70))}setLevelProgress(){this.owner.lbCurLevel.text=i.Game.levelDisplay.toString()}lwgEvent(){this.evRegister(H.updateRoleDataDisplay,e=>{this.owner.boxRoleData.pos(e.x,e.y-120)}),this.evRegister(H.readyVSBOSS,()=>{this.owner.boxLv.visible=!1,this.owner.boxRoleData.visible=!1}),this.evRegister(H.hideRoleHP,()=>{this.owner.boxRoleData.visible=!1}),this.evRegister(H.showRoleHP,()=>{this.owner.boxRoleData.visible=!0}),this.evRegister(H.storageNum,e=>{this.bubblesNum=e}),this.evRegister(H.bubblesNum,(e,t,n)=>{e<0&&(e=0),t>0&&(this.bubblesNum+=t,P.Level.mode===N.LevelMode.endless&&(this.diamondNum=this.bubblesNum)),this.showContinuousNum(t),this.startShowNum||(this.startShowNum=!0),this.owner.imgRainbowEnergy.y=this.owner.imgRainbowEnergy.height*(1-n)}),this.evRegister(H.reduceStorage,(e,t)=>{this.owner.imgDiamond.visible=!0,Laya.timer.once(e,this,()=>{v.move(this.owner.imgRainbowEnergy,this.owner.imgRainbowEnergy.x,this.owner.imgRainbowEnergy.height,t)}),this.owner.btnReturn.visible=!1}),this.evRegister(H.updateLvSchedule,(e,t)=>{this.owner.levelProgress.mask.width=280*e,this.mileage=t}),this.evRegister(H.victory,()=>{this.owner.boxRoleData.visible=!1;const e={score:this.diamondNum};this.openScene(F.Victory,e)}),this.evRegister(H.defeated,()=>{const e={diamondNum:this.bubblesNum,mileage:this.mileage};P.Level.mode===N.LevelMode.endless?Laya.timer.once(1e3,this,()=>{this.openScene(F.EndLessSettle,e)}):this.openScene(F.Defeated)}),this.evRegister(H.Resurgence,e=>{const t={type:e};this.openOverlayScene(F.Resurgence,t)}),this.evRegister(H.updateDiamond,e=>{this.diamondNum=e}),this.evRegister(H.hideStorage,e=>{this.owner.boxStorage.visible=!1}),this.evRegister(H.pickedKey,()=>{P.Lottery.KeyNum++,this.updateKey()})}showContinuousNum(e){if(!this.startShowNum)return;Laya.timer.clearAll(this.owner.lbContinuousNum),this.owner.lbContinuousNum.visible=!0;d.Now.time-this.lastTime<1e3?this.lastPlusOrMinus>0&&e>0?this.lastNum+=e:this.lastPlusOrMinus<0&&e<0?this.lastNum+=e:this.lastNum=e:this.lastNum=e,e<0&&this.owner.aniBeAttacked.play(0,!1),this.lastPlusOrMinus=e,this.lastTime=d.Now.time,this.lastNum>0?(this.owner.lbContinuousNum.text="+"+this.lastNum,this.owner.lbContinuousNum.strokeColor="#37db21",1===this.lastNum?P.Sound.playSoundByID(11):2===this.lastNum?P.Sound.playSoundByID(12):3===this.lastNum?P.Sound.playSoundByID(13):this.lastNum>=4&&P.Sound.playSoundByID(14)):0===this.lastNum?this.owner.lbContinuousNum.visible=!1:(this.owner.lbContinuousNum.text=this.lastNum.toString(),this.owner.lbContinuousNum.strokeColor="#db2f21"),this.owner.aniContinuousNum.play(0,!1),Laya.timer.once(1e3,this.owner.lbContinuousNum,()=>{this.owner.lbContinuousNum.visible=!1})}lwgButton(){this.btnOnceUp(this.owner.btnReturn,()=>{this.openScene(F.Start,null,!0)})}updateKey(){for(let e=1;e<4;e++)e>P.Lottery.KeyNum?this.owner[`key${e}`].visible=!1:this.owner[`key${e}`].visible=!0}}class te{static dialogOpenPopup(e,t,n){e.scene.zOrder=Laya.stage.numChildren-1;return e.scale(.5,.5),v.bombs_Appear(e,0,1,1.2,0,300,()=>{n&&n()}),t&&(t.alpha=0,v.fadeOut(t,0,1,200,200)),300}static dialogOpenFadeOut(e,t,n){return t&&v.fadeOut(t,0,1,300,0,()=>{n&&n()}),v.fadeOut(e,0,1,250,0,()=>{!t&&n&&n()}),300}static dialogCloseFadeOut(e,t,n){return v.fadeOut(e,1,0,180,150,()=>{n&&n()}),t&&v.fadeOut(t,1,0,180),330}static charactersEffect(e,t,n){for(let a=0;a<t.length;a++){const i=t.charAt(a);m.frameOnce(10*a,this,()=>{e.text+=i,a==t.length-1&&n&&n()})}}static scaleHint(e,t){m.loop(1e3,t,()=>{v.swell_shrink(e,1,1.05,300)})}static _fadeHint(e,t){v.fadeOut(e,0,.6,1500,0,()=>{v.fadeOut(e,.6,0,800,0,()=>{m.frameOnce(30,t,()=>{this._fadeHint(e,t)})})})}static breatheBtnHint(e,t){v.circulation_scale(e,.05,200,0,()=>{this.breatheBtnHint(e,t)})}static bombFlexLR(e,t){m.loop(2e3,t,()=>{v.bomb_LeftRight(e,1.22,250)},!0)}static getRewardAni(e,t,n,a){const i=P.Item.getItemBaseByID(e);switch(e){case 102:h.Diamond.playGetHeapAni(null,15,[49,45],i.iconSkin,null,null,()=>{n&&n()},()=>{h.Diamond.addNumDisPlayNode(t),a&&a()});break;case 103:h.Stamina.playGetHeapAni(null,15,[37,52],i.iconSkin,null,null,()=>{n&&n()},()=>{h.Stamina.addNumDisPlayNode(t),a&&a()})}}}class ne{static interfacePointJet(e){const t=[[[255,33,33,1],[200,33,255,1]],[[33,255,216,1],[59,255,33,1]],[[169,255,33,1],[255,111,33,1]],[[255,111,33,1],[255,33,33,1]]];m.frameNumLoop(7,10,this,()=>{for(let n=0;n<5;n++){const n=B.Arr.randomGetOne(t),a=B.Arr.randomGetOne(t),i=B.Arr.randomGetOne(t);S.Particle.downwardSpray(e,new Laya.Point(1*Laya.stage.width/4,-100),[10,30],[10,30],[0,90],[S.SkinUrl.矩形1],n),S.Particle.downwardSpray(e,new Laya.Point(3*Laya.stage.width/4,-100),[10,30],[10,30],[90,180],[S.SkinUrl.矩形1],a),S.Particle.downwardSpray(e,new Laya.Point(-100,Laya.stage.height/4),[10,30],[10,30],[0,90],[S.SkinUrl.矩形1],null),S.Particle.downwardSpray(e,new Laya.Point(Laya.stage.width+100,Laya.stage.height/4),[10,30],[10,30],[90,180],[S.SkinUrl.矩形1],i)}})}static completeCross(){for(let e=0;e<4;e++){let t=7*e+5,n=new Laya.Point(-200,Laya.stage.height),a={},i=()=>{n.x+=20,n.x>Laya.stage.width&&Laya.timer.clearAll(a),n.y-=t,S.Particle.fallingVertical(Laya.stage,new Laya.Point(n.x,n.y),[0,0],null,null,[0,360],[S.SkinUrl.花2],[[255,222,0,1],[255,24,0,1]],null,[100,200],[.8,1.5],[.05,.1])};m.frameLoop(1,a,()=>{i()});let o=new Laya.Point(Laya.stage.width+200,Laya.stage.height),r={},s=()=>{o.x-=20,o.x<0&&Laya.timer.clearAll(r),o.y-=t,S.Particle.fallingVertical(Laya.stage,new Laya.Point(o.x,o.y),[0,0],null,null,[0,360],[S.SkinUrl.花2],[[255,222,0,1],[255,24,0,1]],null,[100,200],[.8,1.5],[.05,.1])};m.frameLoop(1,r,()=>{s()})}}static completeSidelingCross(){let e=Laya.stage.width,t=2.5*Laya.stage.height,n=new Laya.Image;n.width=100,n.height=t,n.rotation=40,n.pos(0,0),Laya.stage.addChild(n),n.zOrder=1e3;for(let t=0;t<20;t++){let a=new Laya.Point(0,n.height/20*t),i=new Laya.Point(Laya.stage.width,n.height/20*t),o={},r=()=>{a.x+=40,a.x>e&&Laya.timer.clearAll(o),i.x-=40,i.x>e&&Laya.timer.clearAll(o),t%2==0?S.Particle.fallingVertical(n,new Laya.Point(a.x,a.y),[0,0],null,null,[0,360],[S.SkinUrl.星星8],[[255,222,0,1],[255,24,0,1]],null,[100,200],[.8,1.5],[.05,.1]):S.Particle.fallingVertical_Reverse(n,new Laya.Point(i.x,i.y),[0,0],null,null,[0,360],[S.SkinUrl.星星8],[[255,222,0,1],[255,24,0,1]],null,[-100,-200],[-.8,-1.5],[-.05,-.1])};m.frameNumLoop(2,50,o,()=>{r()})}}static fireworksCelebrate(e){const t=new Laya.Point(Laya.stage.width/2,0);m.frameNumRandomLoop(1,3,150,this,()=>{S.Particle.fallingRotate(Laya.stage,t,[Laya.stage.width,0],[10,30],[10,30],[S.SkinUrl.矩形1,S.SkinUrl.矩形2,S.SkinUrl.矩形3],null,[300,Laya.stage.height],[1,8])});const n=new Laya.Point(Laya.stage.width/2,Laya.stage.height/2-50);m.frameNumRandomLoop(10,25,16,this,()=>{const e=B.Num.randomOneInt(10,20),t=B.Num.randomOneInt(100,300),a=B.Point.randomPointByCenter(n,500,150)[0];for(let n=0;n<2*e;n++)S.Particle.sprayRound(Laya.stage,a,null,[20,40],null,[S.SkinUrl.花4],null,[t,t],[30,30]);for(let n=0;n<2*e;n++)S.Particle.sprayRound(Laya.stage,a,null,[20,40],null,[S.SkinUrl.花4],null,[50,t-20],[30,30])},()=>{e&&e()})}static oneFireworks1(e,t){const n=B.Num.randomOneInt(10,20),a=B.Num.randomOneInt(100,300);for(let i=0;i<2*n;i++)S.Particle.sprayRound(e,t,null,[20,40],null,[S.SkinUrl.星星1],null,[a,a],[30,30]);for(let i=0;i<2*n;i++)S.Particle.sprayRound(e,t,null,[20,40],null,[S.SkinUrl.星星1],null,[50,a-20],[30,30])}static oneFireworks2(e,t){for(let n=0;n<5;n++)S.Particle.sprayRound(e,t,[10,30],null,null,[S.SkinUrl.矩形1],[[50,50,50,1],[50,50,50,1]],[40,120],[5,15],null,[5,15]);for(let n=0;n<5;n++)S.Particle.sprayRound(e,t,[10,30],null,null,[S.SkinUrl.矩形1],[[156,99,55,1],[156,99,55,1]],[40,120],[5,15],null,[5,15]);for(let n=0;n<10;n++)S.Particle.sprayRound(e,t,[10,30],null,null,[S.SkinUrl.矩形1],[[120,120,120,1],[120,120,120,1]],[40,120],[5,15],null,[5,15])}static oneFireworks3(e,t){for(let n=0;n<20;n++)S.Particle.sprayRound(e,t,[10,30],null,null,[S.SkinUrl.矩形1],null,[30,80],[3,8],null,[5,15])}static circleFlowe(e){const t=B.Num.randomOneInt(500,500),n=new Laya.Point(Laya.stage.width/2,Laya.stage.height/2);for(let a=0;a<90;a++)S.Particle.sprayRound(e,n,null,[20,40],null,[S.SkinUrl.花4],null,[t,t],[35,35],null,null,5);for(let a=0;a<180;a++)S.Particle.sprayRound(e,n,null,[20,40],null,[S.SkinUrl.花4],null,[100,t-20],[35,35],null,null,5)}static bothBlinkOnSprite1(e,t,n){m.frameRandomLoop(30,50,n,()=>{S.Glitter.blinkStar(e,new Laya.Point(t.x-200,t.y),[150,100],[S.SkinUrl.星星1],null,[80,80])},!0),m.frameRandomLoop(30,50,n,()=>{S.Glitter.blinkStar(e,new Laya.Point(t.x+200,t.y),[150,100],[S.SkinUrl.星星1],null,[80,80])},!0)}static bothBlinkOnSprite2(e,t,n){m.frameRandomLoop(30,50,n,()=>{S.Glitter.blinkStar(e,new Laya.Point(t.x,t.y),[120,50],[S.SkinUrl.星星1],null,[40,40])},!0)}static circleExplode(e,t,n){m.once(n||0,this,()=>{const n=B.Num.randomOneInt(30,30);for(let a=0;a<40;a++)S.Particle.sprayRound(e,t,null,[20,40],null,[S.SkinUrl.星星8],null,[n,n],[5,5],null,null,5);O.playSound()})}}class ae extends o.SceneBase{constructor(){super(...arguments),this.score=0,this.multiple=1}lwgOnAwake(){this.score=Math.round(1*this.openData.score*(1+P.Skill.getSkillAdditionByType(N.SkillType.reward))),this.owner.lbRewardNum.text="x"+this.score.toString(),this.owner.lbLvNum.text=i.Game.level.toString(),P.Sound.playSoundByID(19),ne.interfacePointJet(this.owner)}lwgOpenAniAfter(){i.Game.level++,m.frameLoop(1,this,()=>{const e=Math.abs(this.owner.imgPointerMultiple.rotation);e>0&&e<=10?this.multiple=2:e>10&&e<=30?this.multiple=3:e>30&&e<=60?this.multiple=4:e>60&&e<=90&&(this.multiple=5),this.owner.lbRewardNum.text=(this.score*this.multiple).toString()})}lwgButton(){this.btnOnUp(this.owner.btnThreeGet,()=>{n.AD.showVideo(()=>{this.getReward(this.multiple)})}),this.btnOnceUp(this.owner.btnDirect,()=>{this.getReward(1)})}getReward(e=1){te.getRewardAni(N.ResType.Diamond,null,null,()=>{h.Diamond.addNumDisPlayNode(this.score*e);const t={whereFrom:this.owner.name};this.openScene(F.Start,t,!0)})}}class ie extends C.GuideBase{lwgOnAwake(){this.guideCompelet=!0}lwgEvent(){}}class oe extends A.PreLoadBase{lwgOnAwake(){}lwgAdaptive(){}lwgOpenAniAfter(){new t.Subpackage(["Game","Game3D","res"],()=>{this.lodeStart(x)})}lodeStepComplete(e){}lodeAllComplete(){return new P.init,new M.init,new I.InitGame(new O.Init(P.Sound.getUrlByID(1),P.Sound.getUrlByID(2),P.Sound.getUrlByID(6)),new C.Init(new ie)),new n.Init({AD:{video:{adUnitId:"adunit-1da20fd609b9024f"},bannar:{adUnitId:"adunit-b9dbd3a6afc57ff5",autoUpdateTime:30,showScenes:[F.Start,F.Lottery,F.CheckIn,F.LuckyWheel,F.Victory,F.Defeated,F.ADGetReward,F.BeRewarded,F.SkinTry],style:{left:0,top:t.systemInfo.windowHeight-148,width:750}},interst:{adUnitId:"adunit-ecdad304d783e848",showCloseScenesLaterArr:[F.Victory,F.EndLessSettle]},customArr:[{adUnitId:"adunit-7c99540a0f616ad6",showScenes:[F.Start,F.Levels],style:{left:t.systemInfo.windowWidth-100,top:90}}]},Share:{tattle:"[有人@我]超解压小游戏来啦！",imgUrl:"img_share.jpg"}}),10}lodeAllCompleteAfter(){return!1}}class re extends A.PreLoadCutInBase{lwgOpenAniAfter(){this.lodeStart([this.preLoadOpenName]?R[this.preLoadOpenName]:{}),this.preLoadFromName===F.Victory&&Laya.Resource.destroyUnusedResources()}lodeAllComplete(){return 800}}class se extends o.SceneBase{constructor(){super(...arguments),this.dataArr=[{key:"钻石数量",get value(){return h.Diamond.num},set value(e){h.Diamond.num=e,h.Diamond.updateNumOnNode()}},{key:"体力",get value(){return h.Stamina.num},set value(e){h.Stamina.num=e,h.Stamina.updateNumOnNode()}},{key:"关卡数",get value(){return i.Game.level},set value(e){i.Game.level=e}},{key:"背景音乐",get value(){return D.BgMusic.switch?1:0},set value(e){D.BgMusic.switch=1===e}},{key:"音效",get value(){return D.Sound.switch?1:0},set value(e){D.Sound.switch=1===e}}]}lwgOnAwake(){this.updataView()}updataView(){for(let t=0;t<this.dataArr.length;t++){const n=this.dataArr[t],a=new e.Views.Base.GameManagerRenderObjUI;a.lbKey.text=n.key;const i=n.key.length-10;i>0&&(a.lbKey.fontSize=26-2*i),a.txPValue.text=n.value,this.owner.plValueView.addChild(a),a.y=50+t*(a.height+10),a.centerX=0}}lwgButton(){this.btnOnUp(this.owner.btnConfirm,()=>{for(let e=0;e<this.owner.plValueView.numChildren;e++){const t=this.owner.plValueView.getChildAt(e);this.dataArr[e].value=+t.txPValue.text}}),this.btnOnUp(this.owner.btnClose,()=>{this.closeScene()}),this.btnOnUp(this.owner.btnClear,()=>{this.closeScene(),Laya.LocalStorage.clear()});for(let e=0;e<this.owner.plValueView.numChildren;e++){const t=this.owner.plValueView.getChildAt(e);t.txPValue.on(Laya.Event.FOCUS,this,()=>{this.dataArr[e].value=+t.txPValue.text})}for(let e=0;e<this.owner.plValueView.numChildren;e++){const t=this.owner.plValueView.getChildAt(e);t.txPValue.on(Laya.Event.BLUR,this,()=>{this.dataArr[e].value=+t.txPValue.text})}}}class le extends o.SceneBase{constructor(){super(...arguments),this.firstRewardAngle=22.5,this.isDoTurning=!1,this.turnLaps=5,this.turnOneTime=1e3}lwgOnAwake(){this.updateRewardView(),this.playAutoTurn()}lwgOnStart(){this.evNotify(H.updateLuckyWheel)}lwgEvent(){this.evRegister(H.updateLuckyWheel,()=>{this.displayNum(),this.updateRewardView()})}displayNum(){P.LuckyWheel.todayFree?(this.owner.lbNum.text="1次",this.owner.imgWordTurn.visible=!1,this.owner.imgWordFree.visible=!0):(this.owner.imgWordTurn.visible=!0,this.owner.imgWordFree.visible=!1,this.owner.lbNum.text="0次")}lwgButton(){this.btnOnUp(this.owner.btnFree,()=>{this.isDoTurning?l.showTips("等一下呗"):P.LuckyWheel.todayFree?(P.LuckyWheel.lastDate=d.Now.date,this.playTurn(),this.displayNum()):n.AD.showVideo(()=>{this.playTurn()})}),this.btnOnUp(this.owner.btnLater,()=>{this.isDoTurning?l.showTips("请稍等！"):(this.closeScene(),this.stopAutoTurn())})}updateRewardView(){B.Node.destroyAllChildren(this.owner.rewardContent);const t=P.LuckyWheel.getItemArr,n=t.length;for(let a=0;a<n;a++){const i=new e.Views.LuckyWheelRenderObjUI;this.owner.rewardContent.addChild(i),i.rotation=360*a/n+this.firstRewardAngle,i.name=`${a}`,i.pos(this.owner.rewardContent.width/2,this.owner.rewardContent.height/2);const o=t[a];i.icon.skin=o.picSkin,i.num.text=o.number.toString(),o.type===N.ItemType.Skin?(i.num.visible=!1,i.icon.scale(.6,.6)):(i.num.visible=!0,i.icon.scale(1,1))}}playTurn(){this.stopAutoTurn(),this.isDoTurning=!0,P.Sound.playSoundByID(4);let e=0;const t=P.LuckyWheel.ranReward,n=t.index;e=45*n+this.firstRewardAngle;const a=this.turnLaps*this.turnOneTime+Math.floor(e/360*this.turnOneTime);Laya.timer.once(a-100,this,()=>{P.Sound.sotpSoundByID(4)}),Laya.Tween.to(this.owner.rewardContent,{rotation:360*this.turnLaps-e},a,Laya.Ease.cubicOut,Laya.Handler.create(this,()=>{if(P.Sound.playSoundByID(5),this.owner.rewardContent.rotation=360-e,t.type==N.ItemType.LuckyWheelAgain)l.showTips("抽奖次数+1！"),P.LuckyWheel.lastDate=0,this.displayNum(),this.isDoTurning=!1;else{const e={item:t};Laya.timer.once(1e3,this,()=>{this.openOverlayScene(F.BeRewarded,e),this.isDoTurning=!1,this.playAutoTurn()})}}))}playAutoTurn(){m.frameLoop(1,this.owner.rewardContent,()=>{this.owner.rewardContent.rotation+=.05})}stopAutoTurn(){Laya.timer.clearAll(this.owner.rewardContent)}}class ce extends o.SceneBase{lwgOnAwake(){this.setListData(),P.CheckIn.num>=6&&!P.CheckIn.today&&this.owner.aniDay7.play(0,!0),P.CheckIn.today?(this.owner.btnCheck.visible=!1,this.owner.btnDouble.visible=!1,this.owner.lbAlready.visible=!0):(this.owner.btnCheck.visible=!0,this.owner.btnDouble.visible=!0,this.owner.lbAlready.visible=!1)}setListData(){this.owner.listDay6.array=P.CheckIn.dayArr6,this.owner.listDay6.renderHandler=new Laya.Handler(this,this.onlistDay6Render),this.owner.listDay7Reward.array=P.CheckIn.day7RwardArr,this.owner.listDay7Reward.renderHandler=new Laya.Handler(this,this.onlistDay7RewardRender),this.owner.listDay7Reward.width=178*P.CheckIn.day7RwardArr.length,this.owner.listDay7Reward.visible=!1}onlistDay6Render(e,t){const n=e.dataSource;e.dayNum.skin=`Game/UI/img_icon_text_day${t+1}.png`,e.icon.skin=n.iconSkin,e.rewardNum.text=n.number.toString(),e.rewardNum.text="x"+n.number,P.CheckIn.num>t?(e.alreadyPic.visible=!0,e.imgMask.visible=!0):(e.alreadyPic.visible=!1,e.imgMask.visible=!1),P.CheckIn.num<6&&(P.CheckIn.num===t?P.CheckIn.today||(e.aniHint.play(0,!0),e.zOrder=10):e.zOrder=1)}onDay6select(e,t,n){if(P.CheckIn.num<6)if(P.CheckIn.num>e)l.showTips("已经签到过了");else if(P.CheckIn.num===e)if(P.CheckIn.today)l.showTips("不可以");else{P.CheckIn.num++,P.CheckIn.lastDate=d.Now.date,this.owner.listDay6.refresh();const a=P.CheckIn.dayArr6[e];if(a.ID>=201&&a.ID<=299){const e={item:a};this.openOverlayScene(F.BeRewarded,e)}else{let e=a.number;n&&(e*=2),te.getRewardAni(a.ID,e,()=>{},()=>{this.closeScene()})}t.aniHint.stop()}else l.showTips("不可以")}onlistDay7RewardRender(e,t){const n=e.dataSource;e.icon.skin=n.picBigSkin,e.rewardNum.text=n.number.toString(),n.ID>=201&&n.ID<=299?e.rewardNum.visible=!1:e.rewardNum.visible=!0}lwgButton(){this.btnOnUp(this.owner.btnCheck,()=>{if(P.CheckIn.num>=6&&!P.CheckIn.today)this.onBtnDay7();else{const e=this.owner.listDay6.getCell(P.CheckIn.num);this.onDay6select(P.CheckIn.num,e,!1)}}),this.btnOnUpAD(this.owner.btnDouble,()=>{if(P.CheckIn.num>=6&&!P.CheckIn.today)this.onBtnDay7();else{const e=this.owner.listDay6.getCell(P.CheckIn.num);this.onDay6select(P.CheckIn.num,e,!0)}})}onBtnDay7(){if(P.CheckIn.num>=6&&!P.CheckIn.today){this.owner.aniDay7.stop(),P.CheckIn.num++,P.CheckIn.lastDate=d.Now.date;const e=P.CheckIn.day7RwardArr;if(e[0].type===N.ItemType.Skin&&e[1].type===N.ItemType.Skin){const t={item:e[0],item1:e[1],item2:e[2]};return this.openOverlayScene(F.BeRewarded,t),void this.closeScene()}for(let e=0;e<P.CheckIn.day7RwardArr.length;e++){const t=P.CheckIn.day7RwardArr[e];if(t.type===N.ItemType.Skin){const e={item:t};this.openOverlayScene(F.BeRewarded,e),this.closeScene()}else te.getRewardAni(t.ID,t.number,()=>{},()=>{this.closeScene()})}}else l.showTips("不可以")}}class he extends o.SceneBase{constructor(){super(...arguments),this.openChestNum=0}lwgOnAwake(){this.createChest(),this.updateKey();const e=P.Lottery.getBestReward;this.owner.imgBestRewardPic.skin=e.picSkin,e.type!==N.ItemType.Skin&&(this.owner.imgBestRewardPic.centerY=-16,this.owner.lbBsetRewardNum.text="x"+e.number.toString())}lwgOpenAniAfter(){ne.bothBlinkOnSprite2(this.owner.boxTitle,new Laya.Point(2*Laya.stage.width/3,0),this)}lwgButton(){this.btnOnceUp(this.owner.btnReturn,()=>{this.closeScene()}),this.btnOnUpAD(this.owner.btnAdGet,()=>{this.openChestNum<9&&(P.Lottery.KeyNum+=3,this.updateKey(),this.evNotify(H.updateKeyNumStart))})}createChest(){for(let t=0;t<3;t++)for(let a=0;a<3;a++){const i=new e.Views.LotteryRenderObjUI,o=new Laya.Point(this.owner.chestBox.width/3*t+i.width/2+20,this.owner.chestBox.height/3*a+i.height/2+10);i.pos(o.x,o.y),this.owner.chestBox.addChild(i),i.lbNum.visible=!1,i.imgRewardIcon.visible=!1,P.Lottery.KeyNum>=3?this.btnOnUp(i,()=>{P.Lottery.KeyNum>0?this.onClickChest(i,!1):i.beOpen?l.showTips("奖励已领取！"):n.AD.showVideo(()=>{this.onClickChest(i,!0)})}):2==t&&2==a&&(this.owner.btnReturn.visible=!0,this.owner.chestBox.on(Laya.Event.CLICK,this,()=>{l.showTips("请凑足3把金钥匙！")}))}}onClickChest(e,t){if(e.beOpen)l.showTips("奖励已领取！");else{let n;if(this.openChestNum++,e.beOpen=!0,e.lbNum.visible=!0,e.imgRewardIcon.visible=!0,e.chestIcon.visible=!1,9===this.openChestNum?(n=P.Lottery.getBestReward,this.owner.btnAdGet.visible=!1,this.owner.boxKey.visible=!1,this.owner.lbOpenAll.visible=!0):n=P.Lottery.ranReward,e.lbNum.text="x"+n.number.toString(),e.imgRewardIcon.skin=n.picSkin,t||P.Lottery.KeyNum--,this.evNotify(H.updateKeyNumStart),n.type===N.ItemType.Skin){const t={item:n};this.openOverlayScene(F.BeRewarded,t),e.lbNum.visible=!1,e.imgRewardIcon.top=10,e.imgRewardIcon.bottom=10,e.imgRewardIcon.left=10,e.imgRewardIcon.right=10}else te.getRewardAni(n.ID,n.number);e.imgAd.visible=!1,this.updateKey(),e.zOrder=d.Now.time,ne.oneFireworks2(e,new Laya.Point(e.width/2,e.height/2)),P.Sound.playSoundByID(9)}}updateKey(){0===P.Lottery.KeyNum?(this.owner.btnReturn.visible=!0,this.openChestNum<9&&(this.owner.btnAdGet.visible=!0)):this.owner.btnAdGet.visible=!1;for(let e=1;e<4;e++)e>P.Lottery.KeyNum?this.owner[`key${e}`].visible=!1:this.owner[`key${e}`].visible=!0;for(let e=0;e<this.owner.chestBox.numChildren;e++){const t=this.owner.chestBox.getChildAt(e);0===P.Lottery.KeyNum?t.beOpen||(t.imgAd.visible=!0):t.imgAd.visible=!1}}}class ue extends o.SceneBase{lwgOnAwake(){switch(P.Sound.playSoundByID(7),this.owner.rewardNum.text=this.openData.item.number.toString(),this.owner.rewardBigPic.skin=this.openData.item.picBigSkin,this.owner.rewardIcon.skin=this.openData.item.iconSkin,this.openData.item.type){case N.ItemType.Skin:this.owner.boxNum.visible=!1,this.owner.btnDirect.visible=!1,this.owner.imgBtnWordThree.visible=!1,this.owner.imgBtnDirectWord.visible=!0,this.owner.rewardBigPic.visible=!1,q.ins.show(this.owner,this.openData.item.ID,this.openData.item1?this.openData.item1.ID:null,this.openData.item1?this.openData.item1.ID:null);break;case N.ItemType.Currency:this.owner.boxNum.visible=!0,this.owner.btnDirect.visible=!0,this.owner.imgBtnWordThree.visible=!0,this.owner.imgBtnDirectWord.visible=!1,this.owner.rewardBigPic.visible=!0;break;case N.ItemType.LuckyWheelAgain:this.evNotify(H.updateLuckyWheel);break;case N.ItemType.EndlessMode:case N.ItemType.SkinTry:}}lwgButton(){this.btnOnceUp(this.owner.btnDirect,()=>{this.getRewardAni(1),this.closeRule()}),this.btnOnceUpADCondition(this.owner.btnThreeGet,()=>this.openData.item.type!==N.ItemType.Skin,()=>{this.getRewardAni(3),this.closeRule(),this.evNotify(H.updateLuckyWheel)},()=>{P.Skin.setObjCompeletByID(this.openData.item.ID),this.openData.item1&&P.Skin.setObjCompeletByID(this.openData.item1.ID),this.openData.item2&&P.Skin.setObjCompeletByID(this.openData.item2.ID),l.showTips("获得新皮肤！"),this.closeRule(),this.evNotify(H.updateLuckyWheel)})}closeRule(){this.openData.whereFrom===F.Levels?this.openScene(F.Victory):this.closeScene()}getRewardAni(e=1){te.getRewardAni(this.openData.item.ID,this.openData.item.number*e,()=>{this.owner.rewardNum.text=B.Format.strAddNum(this.owner.rewardNum.text,20)},()=>{this.owner.rewardNum.text="0",this.closeScene()})}}class de extends o.SceneBase{constructor(){super(...arguments),this.multiple=1}lwgOnAwake(){switch(this.openData.type){case N.ResType.Gold:break;case N.ResType.Diamond:this.owner.rewardBigPic.skin="Game/UI/img_icon_zuanshibig.png",this.owner.rewardIcon.skin="Game/UI/img_icon_money_01.png",this.owner.tattleWard.skin="Game/UI/img_icon_text_zuanshibuzu.png",this.rewardNum=500,this.multiple=1;break;case N.ResType.Stamina:this.owner.rewardBigPic.skin="Game/UI/img_icon_tili_02.png",this.owner.rewardIcon.skin="Game/UI/img_icon_money_02.png",this.owner.tattleWard.skin="Game/UI/img_icon_text_tilibuzu.png",this.rewardNum=20,this.multiple=3}this.owner.rewardNum.text=this.rewardNum.toString()}lwgButton(){this.btnOnUpAD(this.owner.btnThreeGet,()=>{te.getRewardAni(this.openData.type,this.rewardNum,()=>{this.owner.rewardNum.text=B.Format.strAddNum(this.owner.rewardNum.text,20)},()=>{this.owner.rewardNum.text="0",this.closeScene()})})}}class me extends o.SceneBase{constructor(){super(...arguments),this._tapIndex=0}get tapIndex(){return this._tapIndex}set tapIndex(e){0==e?this.owner.list.array=P.Skin.getSkinArrByPart(N.Part.dress):1==e?this.owner.list.array=P.Skin.getSkinArrByPart(N.Part.hair):2==e&&(this.owner.list.array=P.Skin.getSkinArrByPart(N.Part.wing));for(let e=0;e<this.owner.list.array.length;e++){const t=this.owner.list.array[e];if(t.ID===P.Skin.pitchDressID||t.ID===P.Skin.pitchHairID||t.ID===P.Skin.pitchWingID){this.dataPitch=t,this.dataPitch.index=e;break}}2===e?K.ins.turnBack():K.ins.turnFront(),this.updateBtn(),this.owner.list.refresh(),this._tapIndex=e}lwgOnAwake(){this.owner.list.renderHandler=new Laya.Handler(this,this.onListRender),this.owner.list.hScrollBarSkin="",this.tapIndex=0}lwgOpenAniAfter(){M.showSkinScene()}onListRender(e,t){const n=e.dataSource;if(e.imgIcon.skin=`Game/UI/SkinIcon/${n.name}.png`,t===this.dataPitch.index?e.imgAniBoard.visible=!0:e.imgAniBoard.visible=!1,e.imgLock.visible=!n.complete,e.imgDesIcon.visible=!1,e.lbDescribe.centerX=0,n.complete)n.ID===P.Skin.pitchDressID||n.ID===P.Skin.pitchHairID||n.ID===P.Skin.pitchWingID?e.lbDescribe.text="装备中":e.lbDescribe.text="已获得";else switch(n.pathWay){case N.ItemPathWay.AD:e.imgDesIcon.visible=!0,e.imgDesIcon.skin="Game/UI/img_icon_common_ad_02.png",n.degreeNum||(n.degreeNum=0),e.lbDescribe.text="("+n.degreeNum+"/"+n.condition+")",e.lbDescribe.centerX=10;break;case N.ItemPathWay.CheckIn:e.lbDescribe.text="签到获得";break;case N.ItemPathWay.Free:e.lbDescribe.text="已获得";break;case N.ItemPathWay.Diamond:e.imgDesIcon.visible=!0,e.imgDesIcon.skin="Game/UI/img_icon_money_01.png",e.lbDescribe.text=n.condition,e.lbDescribe.centerX=10;break;case N.ItemPathWay.LotteryChest:e.lbDescribe.text="开宝箱";break;case N.ItemPathWay.LuckyWheel:e.lbDescribe.text="幸运抽奖"}b.off(e),b.on(void 0,e,this,null,null,(e,t)=>{this.onListRenderClick(t)},null,[{},{},{view:e,data:n,index:t},{}])}onListRenderClick(e){this.dataPitch=e.data,this.dataPitch.index=e.index,K.ins.change(e.data.ID),this.owner.list.refresh(),this.updateBtn(),this.dataPitch.complete&&(this.dataPitch.part===N.Part.dress&&(P.Skin.pitchDressID=this.dataPitch.ID),this.dataPitch.part===N.Part.hair&&(P.Skin.pitchHairID=this.dataPitch.ID),this.dataPitch.part===N.Part.wing&&(P.Skin.pitchWingID=this.dataPitch.ID))}updateBtn(){let e;switch(void 0===this.dataPitch.degreeNum&&(this.dataPitch.degreeNum=0),this.dataPitch.pathWay){case N.ItemPathWay.AD:e="boxAD",this.owner.boxADNum.text="("+this.dataPitch.degreeNum+"/"+this.dataPitch.condition+")";break;case N.ItemPathWay.CheckIn:e="boxCheckIn";break;case N.ItemPathWay.Free:e="boxFree";break;case N.ItemPathWay.Diamond:e="boxGold",this.owner.boxGoldNum.text=this.dataPitch.condition.toString();break;case N.ItemPathWay.LotteryChest:e="boxLotteryChest";break;case N.ItemPathWay.LuckyWheel:e="boxLuckyWheel"}for(let t=0;t<this.owner.btnGet.numChildren;t++){const n=this.owner.btnGet.getChildAt(t);n.name==e?n.visible=!0:n.visible=!1}this.dataPitch.complete?this.owner.btnGet.visible=!1:this.owner.btnGet.visible=!0}compelet(){this.dataPitch.complete=!0,P.Skin.setCompeletByData(this.dataPitch),this.owner.list.refresh(),this.updateBtn();const e=this.owner.list.getCell(this.dataPitch.index),t=this.owner.list.localToGlobal(new Laya.Point(e.x+e.width/2,e.y+e.height/2));ne.oneFireworks3(this.owner,t),P.Sound.playSoundByID(7)}lwgButton(){for(let e=0;e<this.owner.boxTap.numChildren;e++){const t=this.owner.boxTap.getChildAt(e);this.btnOnDown(t,()=>{for(let e=0;e<this.owner.boxTap.numChildren;e++){const n=this.owner.boxTap.getChildAt(e);n===t?(n.skin="Game/UI/img_btn_tab_1.png",this.tapIndex=e):n.skin="Game/UI/img_btn_tab_2.png"}},b.EmEffectType.NoEffect)}this.btnOnUp(this.owner.btnReturn,()=>{this.openScene(F.Start,null,!0)}),this.btnOnUp(this.owner.btnGet,()=>{if(this.dataPitch.complete)l.showTips("已经获得！");else switch(this.dataPitch.pathWay){case N.ItemPathWay.AD:n.AD.showVideo(()=>{this.dataPitch.degreeNum++,this.owner.boxADNum.text="("+this.dataPitch.degreeNum+"/"+this.dataPitch.condition+")",this.dataPitch.degreeNum>=+this.dataPitch.condition&&this.compelet()});break;case N.ItemPathWay.CheckIn:l.showTips("签到页面获取！");break;case N.ItemPathWay.Free:l.showTips("已经获得！");break;case N.ItemPathWay.Diamond:if(h.Diamond.num>=+this.dataPitch.condition)this.compelet(),l.showTips("购买成功！");else{const e={type:N.ResType.Diamond};o.openOverlayScene(F.ADGetReward,e)}break;case N.ItemPathWay.LotteryChest:l.showTips("宝箱页面获取！");break;case N.ItemPathWay.LuckyWheel:l.showTips("抽奖页面获取！")}})}}class ye extends o.SceneBase{lwgOnAwake(){q.ins.show(this.owner,this.openData.id)}lwgButton(){this.btnOnUpAD(this.owner.btnTry,()=>{const e=P.Skin.getNameByID(this.openData.id);z.ins.changeSkin(null,null,e),this.rule()}),this.btnOnUp(this.owner.btnDirect,()=>{this.rule()})}rule(){P.Level.mode===N.LevelMode.common&&h.Stamina.addNumDisPlayNode(-5),this.openScene(F.Levels)}}class ge extends o.SceneBase{lwgOnAwake(){this.owner.boxTitle.visible=!1,this.owner.btnCloseDouble.visible=!1}lwgButton(){this.btnOnUp(this.owner.btnCloseDouble,()=>{this.closeScene()}),this.btnOnUpAD(this.owner.btnConfirmDouble,()=>{this.openData.onBtnConfirm&&this.openData.onBtnConfirm(),this.closeScene()}),this.btnOnUp(this.owner.btnCancelDouble,()=>{this.closeScene()})}}class pe extends o.SceneBase{lwgOnAwake(){P.Sound.playSoundByID(9),ne.interfacePointJet(),this.openData.diamondNum+=Math.round(this.openData.diamondNum*P.Skill.getSkillAdditionByType(N.SkillType.reward)),this.owner.lbRewardNum.text=this.openData.diamondNum.toString(),this.owner.lbMileage.text=this.openData.mileage+"m"}lwgButton(){this.btnOnceUpAD(this.owner.btnThreeGet,()=>{this.getReward(2)}),this.btnOnceUp(this.owner.btnDirect,()=>{this.getReward(1)})}getReward(e=1){te.getRewardAni(N.ResType.Diamond,null,null,()=>{h.Diamond.addNumDisPlayNode(this.openData.diamondNum*e);const t={whereFrom:this.owner.name};this.openScene(F.Start,t)})}}class fe extends o.SceneBase{lwgOnAwake(){switch(i.Game.level++,P.Sound.playSoundByID(7),ne.interfacePointJet(),this.owner.imgReward.skin=this.openData.itme.picBigSkin,this.owner.btnNextTime.skin="Game/UI/img_icon_text_xiacizaishuo.png",this.openData.itme.type){case N.ItemType.Currency:this.openData.itme.number+=Math.round(this.openData.itme.number*P.Skill.getSkillAdditionByType(N.SkillType.reward)),this.owner.boxCurrency.visible=!0,this.owner.btnNextTime.visible=!0,this.owner.btnNextTime.skin="Game/UI/img_icon_text_zhijielingqu.png",this.owner.imgReward.visible=!0,this.owner.lbCurrencyNum.text=this.openData.itme.number.toString();break;case N.ItemType.Skin:this.owner.boxSkin.visible=!0,q.ins.show(this.owner,this.openData.itme.ID);break;case N.ItemType.LuckyWheelAgain:this.owner.boxLuckyWheelAgain.visible=!0,this.owner.imgReward.visible=!0;break;case N.ItemType.EndlessMode:this.owner.boxEndlessInto.visible=!0,this.owner.imgReward.visible=!0,this.owner.btnNextTime.visible=!0;break;case N.ItemType.SkinTry:this.owner.boxSkinTry.visible=!0,this.owner.imgReward.visible=!0,this.owner.btnNextTime.visible=!0,q.ins.show(this.owner,this.openData.itme.ID)}}lwgButton(){this.btnOnceUp(this.owner.btnNextTime,()=>{this.owner.boxCurrency.visible?this.getRewardAni(1):this.openScene(F.Start)}),this.btnOnUp(this.owner.btnEndlessInto,()=>{P.Level.endlessFreeNum++,P.Level.mode=N.LevelMode.endless,this.openScene(F.Start)}),this.btnOnUp(this.owner.btnSkinTry,()=>{this.openScene(F.Start)}),this.btnOnUpAD(this.owner.btnCurrency3M,()=>{this.getRewardAni(2)}),this.btnOnUp(this.owner.btnSkin,()=>{})}getRewardAni(e=1){te.getRewardAni(this.openData.itme.ID,this.openData.itme.number*e,()=>{this.owner.lbCurrencyNum.text=B.Format.strAddNum(this.owner.lbCurrencyNum.text,20)},()=>{this.owner.lbCurrencyNum.text="0",this.openScene(F.Start)})}}class we extends o.SceneBase{constructor(){super(...arguments),this.countDown=9}lwgOnAwake(){}lwgOpenAniAfter(){m.numLoop(1e3,10,this,()=>{this.countDown-=1,-1===this.countDown&&(this.countDown=0,this.evNotify(H.defeated),this.closeScene()),this.owner.ftcCountDown.value=this.countDown.toString()})}lwgButton(){this.btnOnUpAD(this.owner.btnResurgence,()=>{z.ins.setState(N.RoleState.Resurgence,[this.openData.type]),this.closeScene()}),this.btnOnUp(this.owner.btnAbandon,()=>{this.evNotify(H.defeated),this.closeScene()})}}class Se extends o.SceneBase{lwgOnAwake(){P.Level.mode,N.LevelMode.endless,this.owner.lbDescribe.text="使用后可无敌冲刺5秒"}lwgButton(){this.btnOnUpAD(this.owner.btnTry,()=>{this.rule(N.MoveForwardArgs.sprint)}),this.btnOnUp(this.owner.btnDirect,()=>{this.rule(N.MoveForwardArgs.none)})}rule(e){const t={sprint:e};P.Level.mode===N.LevelMode.common&&h.Stamina.addNumDisPlayNode(-5),this.openScene(F.Levels,t)}}class be extends A.PreLoadBase{lwgOnAwake(){new I.InitBase(new t.Init(t.EmType.ExploitNoAD),new i.Init(30,[6,-1],!0,!1),new A.Init(!0),new o.Init({sceneScript:{PreLoad:oe,PreLoadCutIn:re,Guide:ie,GameManager:se,DialogHint:ge,Start:Q,Levels:ee,Defeated:G,Victory:ae,LuckyWheel:le,BeRewarded:ue,CheckIn:ce,Lottery:he,ADGetReward:de,Skin:me,SkinTry:ye,EndLessSettle:pe,SpecialAwards:fe,Resurgence:we,PropTry:Se},sceneOpenAniType:null,overlaySceneCloseAnitype:null,overlaySceneOpenAnitype:null}),new h.Init({Gold:{appearScene:[],initialNum:0},Diamond:{appearScene:[F.Start,F.Victory,F.Lottery,F.LuckyWheel,F.Defeated,F.GameManager,F.Skin,F.CheckIn,F.ADGetReward,F.BeRewarded,F.SpecialAwards,F.EndLessSettle],initialNum:0},Stamina:{appearScene:[F.Start,F.LuckyWheel,F.ADGetReward,F.BeRewarded,F.GameManager],initialNum:50,maxNum:50,addOnceByTime:3e5,addNumByTime:5,btnAddClick:()=>{const e={type:N.ResType.Stamina};o.openOverlayScene(F.ADGetReward,e)}}}),new c.Init({ReturnBtn:{appearScene:[]},BtnGameManager:{appearScene:[F.Start,F.Levels]}}),new b.Init(b.EmEffectType.Largen),new y.Init(576,1024)),this.lodeStart(T)}lodeAllComplete(){return 2500}}class Le extends e.Views.Base.RedDotObjUI{constructor(){super()}onAwake(){u.offAllCaller(this),u.register(H.redDotHint,this,e=>{this.updateHint(e)})}updateHint(e){let t=!1;switch(this.parent&&this.parent.name){case"btnSkin":t=P.Skin.getNoCompeletExCheckAndLottery;break;case"btnCheckIn":t=!P.CheckIn.today;break;case"btnLuckyWheel":t=P.LuckyWheel.todayFree;break;case"skill":const e=this.parent.dataSource,n=P.Skill.getCurConsumeByType(e.type),a=P.Skill.getMaxLevelByType(e.type);e.level<a&&h.Diamond.num>=n&&(t=!0)}t?(this.aniHint.play(0,!0),this.visible=!0):(this.aniHint.stop(),this.visible=!1)}}class ve extends e.Views.SkillUpgradeObjUI{constructor(){super()}onAwake(){const e=[];for(let t=0;t<P.Skill.getTypeNum;t++){const n={ID:null,name:null,level:null,type:t,consume:null,addition:null};e.push(n)}this.list.array=e,this.list.renderHandler=new Laya.Handler(this,this.onlistRender)}onlistRender(e,t){const n=e.dataSource;switch(e.name="skill",n.type){case N.SkillType.speed:e.imgName.skin="Game/UI/img_text_skill_01.png",e.imgSkillIcon.skin="Game/UI/icon_mainui_shengjiicon01.png";break;case N.SkillType.energy:e.imgName.skin="Game/UI/img_text_skill_02.png",e.imgSkillIcon.skin="Game/UI/icon_mainui_shengjiicon02.png";break;case N.SkillType.reward:e.imgName.skin="Game/UI/img_text_skill_03.png",e.imgSkillIcon.skin="Game/UI/icon_mainui_shengjiicon03.png"}const a=P.Skill.getCurLevelByType(n.type);e.lbLevel.text="等级"+a.toString(),n.level=a;const i=P.Skill.getMaxLevelByType(n.type);n.level>=i?(e.ImgMaxLv.visible=!0,e.imgResIcon.visible=!1,e.lbConsume.visible=!1,e.ImgResBoard.visible=!1):(e.ImgMaxLv.visible=!1,e.imgResIcon.visible=!0,e.lbConsume.visible=!0,e.ImgResBoard.visible=!0);const o=P.Skill.getCurConsumeByType(n.type);e.lbConsume.text=o.toString(),n.consume=o,b.off(e.imgBoard),b.on(b.EmEffectType.Largen,e.imgBoard,this,null,null,(e,t)=>{this.onBtnUpgrade(t)},null,[{},{},{view:e,data:n},{}])}onBtnUpgrade(e){const t=P.Skill.getMaxLevelByType(e.data.type);if(e.data.level>=t)l.showTips("等级已满");else if(h.Diamond.num>=e.data.consume)l.showTips("升级成功"),P.Sound.playSoundByID(8),this.list.refresh(),e.data.level++,P.Skill.addLevelByType(e.data.type),h.Diamond.subNumDisPlayNode(e.data.consume),e.data.consume=P.Skill.getCurConsumeByType(e.data.type);else{const e={type:N.ResType.Diamond};o.openOverlayScene(F.ADGetReward,e)}}}class De{constructor(){}static init(){var e=Laya.ClassUtils.regClass;e("script/Game/Views/Base/CloseBtnObj.ts",U),e("script/Game/Views/Base/AnimationObj.ts",j),e("script/Game/Views/Base/Init.ts",be),e("script/Game/Views/Base/RedDotObj.ts",Le),e("script/Game/Views/SkillUpgradeObj.ts",ve)}}De.width=576,De.height=1024,De.scaleMode="fixedwidth",De.screenMode="vertical",De.alignV="top",De.alignH="left",De.startScene="Views/Base/Init.scene",De.sceneRoot="",De.debug=!1,De.stat=!1,De.physicsDebug=!1,De.exportSceneToJson=!0,De.init();new class{constructor(){window.Laya3D?Laya3D.init(De.width,De.height,null,Laya.Handler.create(this,this.initMain)):(Laya.init(De.width,De.height,Laya.WebGL),this.initMain())}initMain(){Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=De.scaleMode,Laya.stage.screenMode=De.screenMode,Laya.stage.alignV=De.alignV,Laya.stage.alignH=De.alignH,Laya.URL.exportSceneToJson=De.exportSceneToJson,(De.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),De.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),De.stat&&Laya.Stat.show(),Laya.alertGlobalError(!0),Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){De.startScene&&Laya.Scene.open(De.startScene)}}}();