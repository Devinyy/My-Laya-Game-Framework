{
  "code": "import { LwgTools } from \"../../Lwg/Lwg\";\r\nimport { GameData } from \"../Control/GameData\";\r\nimport { GameEnum } from \"../Control/GameEnum\";\r\nimport { GameRes } from \"../Control/GameRes\";\r\nexport class SkinShowScene {\r\n    constructor() {\r\n        SkinShowScene.ins = this;\r\n        this.scene = GameRes.Scene3D.SkinShow.instance;\r\n        this.camera = this.scene.getChildByName('Main Camera');\r\n        this.fieldOfViewFirst = this.camera.fieldOfView;\r\n        this.cameraFLP = this.camera.transform.localPositionY;\r\n        this.scene.name = 'SkinShowScene';\r\n        this.skinShowPoint = this.scene.getChildByName('SkinShowPoint');\r\n        if (Laya.Browser.pixelRatio >= 16 / 9) {\r\n            this.camera.fieldOfView = this.fieldOfViewFirst + 5;\r\n        }\r\n        else {\r\n            this.camera.fieldOfView = this.fieldOfViewFirst;\r\n        }\r\n        this.skin = GameRes.Prefab3D.role01.instance.clone();\r\n        this.skinShowPoint.addChild(this.skin);\r\n        this.init();\r\n    }\r\n    showSkin(view, id1, id2) {\r\n        this.change(id1, id2);\r\n        view.addChild(this.scene);\r\n    }\r\n    init() {\r\n        for (let index = 0; index < this.skin.numChildren; index++) {\r\n            const part = this.skin.getChildAt(index);\r\n            if (part.name.substr(0, 5) === 'Dress') {\r\n                if (part.name === GameData.Skin.pitchDressName) {\r\n                    part.active = true;\r\n                }\r\n                else {\r\n                    part.active = false;\r\n                }\r\n            }\r\n        }\r\n        const hairParent = LwgTools.Node.findChild3D(this.skin, 'mixamorig:HeadTop_End');\r\n        for (let index = 0; index < hairParent.numChildren; index++) {\r\n            const part = hairParent.getChildAt(index);\r\n            if (part.name === GameData.Skin.pitchHairName) {\r\n                part.active = true;\r\n            }\r\n            else {\r\n                part.active = false;\r\n            }\r\n        }\r\n        LwgTools.D3.playAnimator(this.skin, GameEnum.RoleAni.idle);\r\n    }\r\n    change(id1, id2) {\r\n        console.log(id1, id2);\r\n        const partData1 = GameData.Skin.getObjByID(id1);\r\n        if (partData1.part === GameEnum.Part.dress) {\r\n            for (let index = 0; index < this.skin.numChildren; index++) {\r\n                const part = this.skin.getChildAt(index);\r\n                if (part.name.substr(0, 5) === 'Dress') {\r\n                    if (part.name === partData1.name) {\r\n                        part.active = true;\r\n                    }\r\n                    else {\r\n                        part.active = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (partData1.part === GameEnum.Part.hair) {\r\n            const hairParent = LwgTools.Node.findChild3D(this.skin, 'mixamorig:HeadTop_End');\r\n            for (let index = 0; index < hairParent.numChildren; index++) {\r\n                const part = hairParent.getChildAt(index);\r\n                if (part.name === partData1.name) {\r\n                    part.active = true;\r\n                }\r\n                else {\r\n                    part.active = false;\r\n                }\r\n            }\r\n        }\r\n        const partData2 = GameData.Skin.getObjByID(id2);\r\n        if (partData2) {\r\n            if (partData2.part === GameEnum.Part.dress) {\r\n                for (let index = 0; index < this.skin.numChildren; index++) {\r\n                    const part = this.skin.getChildAt(index);\r\n                    if (part.name.substr(0, 5) === 'Dress') {\r\n                        if (part.name === partData2.name) {\r\n                            part.active = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (partData2.part === GameEnum.Part.hair) {\r\n                const hairParent = LwgTools.Node.findChild3D(this.skin, 'mixamorig:HeadTop_End');\r\n                for (let index = 0; index < hairParent.numChildren; index++) {\r\n                    const part = hairParent.getChildAt(index);\r\n                    if (part.name === partData2.name) {\r\n                        part.active = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Lwg/Lwg.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameData.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameEnum.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameRes.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameType.ts"
  ]
}
