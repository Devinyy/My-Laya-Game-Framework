{
  "code": "import { LwgTools } from \"../../Lwg/Lwg\";\r\nimport { GameData } from \"../Control/GameData\";\r\nimport { GameEnum } from \"../Control/GameEnum\";\r\nimport { GameRes } from \"../Control/GameRes\";\r\nexport class SkinScene {\r\n    constructor() {\r\n        SkinScene.ins = this;\r\n        this.scene = GameRes.Scene3D.SkinScene.instance;\r\n        this.camera = this.scene.getChildByName('Main Camera');\r\n        this.skinPoint = this.scene.getChildByName('SkinPoint');\r\n        this.skin = GameRes.Prefab3D.role01.instance.clone();\r\n        this.skinPoint.addChild(this.skin);\r\n        if (Laya.Browser.pixelRatio >= 16 / 9) {\r\n            this.camera.fieldOfView += 5;\r\n        }\r\n        Laya.stage.addChild(this.scene);\r\n        this.scene.active = false;\r\n        this.scene.name = 'SkinScene';\r\n    }\r\n    show() {\r\n        this.init();\r\n        this.scene.active = true;\r\n    }\r\n    hide() {\r\n        this.scene.active = false;\r\n    }\r\n    init() {\r\n        for (let index = 0; index < this.skin.numChildren; index++) {\r\n            const part = this.skin.getChildAt(index);\r\n            if (part.name.substr(0, 5) === 'Dress') {\r\n                if (part.name === GameData.Skin.pitchDressName) {\r\n                    part.active = true;\r\n                }\r\n                else {\r\n                    part.active = false;\r\n                }\r\n            }\r\n        }\r\n        const hairParent = LwgTools.Node.findChild3D(this.skin, 'mixamorig:HeadTop_End');\r\n        for (let index = 0; index < hairParent.numChildren; index++) {\r\n            const part = hairParent.getChildAt(index);\r\n            if (part.name === GameData.Skin.pitchHairName) {\r\n                part.active = true;\r\n            }\r\n            else {\r\n                part.active = false;\r\n            }\r\n        }\r\n        LwgTools.D3.playAnimator(this.skin, GameEnum.RoleAni.idle);\r\n    }\r\n    change(ID) {\r\n        const partData = GameData.Skin.getObjByID(ID);\r\n        if (partData.part === GameEnum.Part.dress) {\r\n            for (let index = 0; index < this.skin.numChildren; index++) {\r\n                const part = this.skin.getChildAt(index);\r\n                if (part.name.substr(0, 5) === 'Dress') {\r\n                    if (part.name === partData.name) {\r\n                        part.active = true;\r\n                    }\r\n                    else {\r\n                        part.active = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (partData.part === GameEnum.Part.hair) {\r\n            const hairParent = LwgTools.Node.findChild3D(this.skin, 'mixamorig:HeadTop_End');\r\n            for (let index = 0; index < hairParent.numChildren; index++) {\r\n                const part = hairParent.getChildAt(index);\r\n                if (part.name === partData.name) {\r\n                    part.active = true;\r\n                }\r\n                else {\r\n                    part.active = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Lwg/Lwg.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameData.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameEnum.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameRes.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameType.ts"
  ]
}
