{
  "code": "import { LwgEvent, LwgTools } from \"../../Lwg/Lwg\";\r\nimport { GameData } from \"../Control/GameData\";\r\nimport { GameEvent } from \"../Control/GameEvent\";\r\nimport { GameRes } from \"../Control/GameRes\";\r\nimport { SceneBase } from \"./SceneBase\";\r\nexport class EndLessScene extends SceneBase {\r\n    constructor() {\r\n        super(GameRes.Scene3D.EndLess.instance);\r\n        EndLessScene.ins = this;\r\n        this.scene.name = 'EndLessScene';\r\n    }\r\n    ready() {\r\n        this.roadDestoryDistance = 200;\r\n        this.roadAddTime = 50;\r\n        this.showbase();\r\n    }\r\n    clear() {\r\n        this.hideBase();\r\n    }\r\n    setEndData() {\r\n        LwgEvent.notify(GameEvent.roadIndex, [this.roadIndex]);\r\n        const indexItem1 = Math.round(Math.random() * 38) + 200;\r\n        const indexItem2 = Math.round(Math.random() * 10) + 300;\r\n        const indexItem3 = Math.round(Math.random() * 17) + 311;\r\n        const indexItem4 = Math.round(Math.random() * 8) + 329;\r\n        let ranIndex;\r\n        if (this.roadIndex === 0) {\r\n            ranIndex = 888;\r\n        }\r\n        else if (this.roadIndex === 1) {\r\n            ranIndex = indexItem1;\r\n            this.type = 'A';\r\n        }\r\n        else if (this.roadIndex > 1 && this.roadIndex <= 10) {\r\n            if (this.type === 'A') {\r\n                ranIndex = indexItem1;\r\n                this.type = 'B';\r\n            }\r\n            else if (this.type === 'B') {\r\n                ranIndex = indexItem2;\r\n                this.type = 'C';\r\n            }\r\n            else if (this.type === 'C') {\r\n                const ran = LwgTools.Num.randomOneHalf();\r\n                if (ran === 1) {\r\n                    ranIndex = indexItem1;\r\n                }\r\n                else {\r\n                    ranIndex = indexItem2;\r\n                }\r\n                this.type = 'A';\r\n            }\r\n        }\r\n        else if (this.roadIndex > 10 && this.roadIndex <= 20) {\r\n            if (this.type === 'A') {\r\n                ranIndex = indexItem1;\r\n                this.type = 'B';\r\n            }\r\n            else if (this.type === 'B') {\r\n                ranIndex = indexItem3;\r\n                this.type = 'C';\r\n            }\r\n            else if (this.type === 'C') {\r\n                const ran = LwgTools.Num.randomOneHalf();\r\n                if (ran === 1) {\r\n                    ranIndex = indexItem1;\r\n                    this.type = 'A';\r\n                }\r\n                else {\r\n                    ranIndex = indexItem3;\r\n                    this.type = 'D';\r\n                }\r\n            }\r\n            else if (this.type === 'D') {\r\n                const ran = LwgTools.Num.randomOneHalf();\r\n                if (ran === 1) {\r\n                    ranIndex = indexItem1;\r\n                }\r\n                else {\r\n                    ranIndex = indexItem3;\r\n                }\r\n                this.type = 'A';\r\n            }\r\n        }\r\n        else if (this.roadIndex > 20) {\r\n            if (this.type === 'A') {\r\n                ranIndex = indexItem1;\r\n                this.type = 'B';\r\n            }\r\n            else if (this.type === 'B') {\r\n                ranIndex = indexItem4;\r\n                this.type = 'C';\r\n            }\r\n            else if (this.type === 'C') {\r\n                ranIndex = indexItem4;\r\n                this.type = 'D';\r\n            }\r\n            else if (this.type === 'D') {\r\n                const ran = LwgTools.Num.randomOneHalf();\r\n                if (ran === 1) {\r\n                    ranIndex = indexItem1;\r\n                }\r\n                else {\r\n                    ranIndex = indexItem4;\r\n                }\r\n                this.type = 'A';\r\n            }\r\n        }\r\n        const roadData = GameData.Road.getObjByID(ranIndex);\r\n        if (!roadData) {\r\n            console.log('表格中没有这个路段', ranIndex, '第', this.roadIndex);\r\n        }\r\n        else {\r\n            const newRoadData = LwgTools.ObjArray.objCopy(roadData);\r\n            newRoadData.color = '0';\r\n            this.endRoadData = newRoadData;\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Lwg/Lwg.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameData.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameEvent.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameRes.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameType.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Game3D/SceneBase.ts"
  ]
}
