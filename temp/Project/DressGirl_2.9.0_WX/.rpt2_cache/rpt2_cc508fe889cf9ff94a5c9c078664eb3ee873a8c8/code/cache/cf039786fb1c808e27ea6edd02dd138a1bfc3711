{
  "code": "import { LwgTools } from \"../../Lwg/Lwg\";\r\nimport { GameData } from \"../Control/GameData\";\r\nimport { GameRes } from \"../Control/GameRes\";\r\nimport { SceneBase } from \"./SceneBase\";\r\nexport class EndLessScene extends SceneBase {\r\n    constructor() {\r\n        super(GameRes.Scene3D.EndLess.instance);\r\n        EndLessScene.ins = this;\r\n        this.scene.name = 'EndLessScene';\r\n    }\r\n    ready() {\r\n        this.roadDestoryDistance = 200;\r\n        this.showbase();\r\n    }\r\n    clear() {\r\n        this.hideBase();\r\n    }\r\n    setEndData() {\r\n        const indexBubble = Math.round(Math.random() * 38) + 200;\r\n        console.log('随机路段', indexBubble);\r\n        const indexObstacle = Math.round(Math.random() * 16) + 300;\r\n        let ranIndex;\r\n        if (this.roadIndex === 0) {\r\n            ranIndex = indexBubble;\r\n            this.type = 'A';\r\n        }\r\n        else {\r\n            if (this.type === 'A') {\r\n                ranIndex = indexObstacle;\r\n                this.type = 'B';\r\n            }\r\n            else if (this.type === 'B') {\r\n                const ran = LwgTools.Num.randomOneHalf();\r\n                if (ran === 1) {\r\n                    ranIndex = indexObstacle;\r\n                    this.type = 'B';\r\n                }\r\n                else {\r\n                    ranIndex = indexBubble;\r\n                    this.type = 'A';\r\n                }\r\n            }\r\n            else if (this.type === 'C') {\r\n                ranIndex = indexBubble;\r\n                this.type = 'A';\r\n            }\r\n        }\r\n        const roadData = GameData.Road.getObjByID(ranIndex);\r\n        if (!roadData) {\r\n            console.log('表格中没有这个路段', ranIndex);\r\n        }\r\n        else {\r\n            const newRoadData = LwgTools.ObjArray.objCopy(roadData);\r\n            newRoadData.color = '0';\r\n            this.endRoadData = newRoadData;\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Lwg/Lwg.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameData.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameRes.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Control/GameType.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/Project/src/script/Game/Game3D/SceneBase.ts"
  ]
}
