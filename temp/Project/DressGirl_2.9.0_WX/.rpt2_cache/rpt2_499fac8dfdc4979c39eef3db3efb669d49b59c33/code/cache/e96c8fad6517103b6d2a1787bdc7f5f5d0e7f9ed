{
  "code": "import { LwgEvent } from \"../../Lwg/Lwg\";\r\nimport { GameEvent } from \"../Control/GameEvent\";\r\nexport class SceneBase {\r\n    constructor(scene) {\r\n        this.mileageTotal = 0;\r\n        this._mileageCur = 0;\r\n        this.scene = scene;\r\n        Laya.stage.addChild(this.scene);\r\n        this.camaraPoint = this.scene.getChildByName('CameraPoint');\r\n        this.mainCamara = this.camaraPoint.getChildByName('Main Camera');\r\n        if (Laya.Browser.pixelRatio >= 16 / 9) {\r\n            this.mainCamara.fieldOfView += 5;\r\n        }\r\n        this.directionalLight = this.camaraPoint.getChildByName('Directional Light');\r\n        const mainCamaraP = this.mainCamara.transform.position;\r\n        this.mainCamaraFP = new Laya.Vector3(mainCamaraP.x, mainCamaraP.y, mainCamaraP.z);\r\n        this.unitParent = new Laya.Sprite3D;\r\n        this.unitParent.name = 'unitParent';\r\n        this.scene.addChild(this.unitParent);\r\n        this.road888 = this.scene.getChildByName('Road_888');\r\n        this.marginParent = new Laya.Sprite3D;\r\n        this.marginParent.name = 'marginParent';\r\n        this.scene.addChild(this.marginParent);\r\n        LwgEvent.register(GameEvent.addMileageCur, this, (num) => {\r\n            this.mileageCur += num;\r\n        });\r\n    }\r\n    get mileageCur() {\r\n        return this._mileageCur;\r\n    }\r\n    set mileageCur(val) {\r\n        this._mileageCur = val;\r\n        if (this._mileageCur > this.mileageTotal) {\r\n            this._mileageCur = this.mileageTotal;\r\n        }\r\n        LwgEvent.notify(GameEvent.updateLvSchedule, [this._mileageCur / this.mileageTotal]);\r\n    }\r\n    readyBase() {\r\n        Laya.timer.clearAll(this);\r\n        this.mileageTotal = 0;\r\n        this.mileageCur = 0;\r\n        this.road888.active = true;\r\n    }\r\n}\r\n",
  "references": [
    "E:/svn/恐龙跑酷/DinosaursGrow_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/script/Lwg/Lwg.ts",
    "E:/svn/恐龙跑酷/DinosaursGrow_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/script/Game/Control/GameEvent.ts"
  ]
}
