{
  "code": "import { LwgEvent, LwgTools } from \"./Lwg\";\r\nexport var Lwg3D;\r\n(function (Lwg3D) {\r\n    class Script3DBase extends Laya.Script3D {\r\n        get cameraPos() {\r\n            if (!this['__cameraPos']) {\r\n                return this['__cameraPos'] = new Laya.Vector3(this.mainCamera.transform.localPositionX, this.mainCamera.transform.localPositionY, this.mainCamera.transform.localPositionZ);\r\n            }\r\n            else {\r\n                return this['__cameraPos'];\r\n            }\r\n        }\r\n        get mainCamera() {\r\n            if (!this['_MainCamera']) {\r\n                if (this.owner.getChildByName('Main Camera')) {\r\n                    return this['_MainCamera'] = this.owner.getChildByName('Main Camera');\r\n                }\r\n                for (let index = 0; index < this.owner.numChildren; index++) {\r\n                    const element = this.owner.getChildAt(index);\r\n                    if (typeof element == typeof (Laya.Camera)) {\r\n                        return this['_MainCamera'] = element;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                return this['_MainCamera'];\r\n            }\r\n        }\r\n        set mainCamera(Camera) {\r\n            this['_MainCamera'] = Camera;\r\n        }\r\n        child(name) {\r\n            if (!this[`_child${name}`]) {\r\n                if (this.owner.getChildByName(name)) {\r\n                    return this[`_child${name}`] = this.owner.getChildByName(name);\r\n                }\r\n                else {\r\n                    console.log(`不存在子节点${name}`);\r\n                }\r\n            }\r\n            else {\r\n                return this[`_child${name}`];\r\n            }\r\n        }\r\n        getChildComponent(name, Component) {\r\n            if (!this[`_child${name}${Component}`]) {\r\n                let Child = this.owner.getChildByName(name);\r\n                if (Child) {\r\n                    if (Child[Component]) {\r\n                        return this[`_child${name}${Component}`] = Child[Component];\r\n                    }\r\n                    else {\r\n                        console.log(`${name}子节点没有${Component}组件`);\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(`不存在子节点${name}`);\r\n                }\r\n            }\r\n            else {\r\n                return this[`_child${name}${Component}`];\r\n            }\r\n        }\r\n        childTrans(name) {\r\n            return this.getChildComponent(name, 'transform');\r\n        }\r\n        childMRenderer(name) {\r\n            return this.getChildComponent(name, 'meshRenderer');\r\n        }\r\n        getFindComponent(name, Component) {\r\n            if (!this[`_child${name}${Component}`]) {\r\n                let Node = LwgTools.Node.findChild3D(this.owner, name);\r\n                if (Node) {\r\n                    if (Node[Component]) {\r\n                        return this[`_child${name}${Component}`] = Node[Component];\r\n                    }\r\n                    else {\r\n                        console.log(`${name}场景内节点没有${Component}组件`);\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(`场景内不存在子节点${name}`);\r\n                }\r\n            }\r\n            else {\r\n                return this[`_child${name}${Component}`];\r\n            }\r\n        }\r\n        find(name) {\r\n            if (!this[`_FindNode${name}`]) {\r\n                let Node = LwgTools.Node.findChild3D(this.owner, name);\r\n                if (Node) {\r\n                    return this[`_FindNode${name}`] = Node;\r\n                }\r\n                else {\r\n                    console.log(`不存在节点${name}`);\r\n                }\r\n            }\r\n            else {\r\n                return this[`_FindNode${name}`];\r\n            }\r\n        }\r\n        findMRenderer(name) {\r\n            return this.getFindComponent(name, 'meshRenderer');\r\n        }\r\n        findTrans(name) {\r\n            return this.getFindComponent(name, 'transform');\r\n        }\r\n        lwgReset() { }\r\n        lwgOnAwake() {\r\n        }\r\n        lwgEventRegister() { }\r\n        ;\r\n        evReg(name, func) {\r\n            LwgEvent.register(name, this, func);\r\n        }\r\n        evNotify(name, args) {\r\n            LwgEvent.notify(name, args);\r\n        }\r\n        lwgOnEnable() { }\r\n        lwgOnStart() { }\r\n        lwgOnUpdate() {\r\n        }\r\n        lwgOnDisable() {\r\n        }\r\n        lwgClear() {\r\n            Laya.timer.clearAll(this);\r\n            Laya.Tween.clearAll(this);\r\n            LwgEvent.offAllCaller(this);\r\n            Laya.timer.clearAll(this.owner);\r\n            Laya.Tween.clearAll(this.owner);\r\n            LwgEvent.offAllCaller(this.owner);\r\n        }\r\n    }\r\n    class Scene3DBase extends Script3DBase {\r\n        constructor() {\r\n            super();\r\n            this.cameraFp = new Laya.Vector3;\r\n        }\r\n        get Owner() {\r\n            return this.owner;\r\n        }\r\n        onAwake() {\r\n            this.calssName = this['__proto__']['constructor'].name;\r\n            if (this.mainCamera) {\r\n                this.cameraFp.x = this.mainCamera.transform.localPositionX;\r\n                this.cameraFp.y = this.mainCamera.transform.localPositionY;\r\n                this.cameraFp.z = this.mainCamera.transform.localPositionZ;\r\n            }\r\n            this.lwgOnAwake();\r\n        }\r\n        onEnable() {\r\n            this.Owner[this.calssName] = this;\r\n            this.lwgEventRegister();\r\n            this.lwgOnEnable();\r\n            this.lwgOpenAni();\r\n        }\r\n        onStart() {\r\n            this.lwgOnStart();\r\n        }\r\n        lwgOpenAni() {\r\n        }\r\n        lwgVanishAni() {\r\n        }\r\n        onUpdate() {\r\n            this.lwgOnUpdate();\r\n        }\r\n        onDisable() {\r\n            this.lwgOnDisable();\r\n            this.lwgClear();\r\n        }\r\n    }\r\n    Lwg3D.Scene3DBase = Scene3DBase;\r\n    class Object3D extends Script3DBase {\r\n        constructor() {\r\n            super();\r\n        }\r\n        get Owner() {\r\n            return this.owner;\r\n        }\r\n        locScale() {\r\n            return this.Owner.transform.localScale;\r\n        }\r\n        locPos() {\r\n            return this.Owner.transform.localPosition;\r\n        }\r\n        pos() {\r\n            return this.Owner.transform.position;\r\n        }\r\n        locEuler() {\r\n            return this.Owner.transform.localRotationEuler;\r\n        }\r\n        get parent() {\r\n            return this.owner.parent;\r\n        }\r\n        get transform() {\r\n            return this.Owner.transform;\r\n        }\r\n        get scene3D() {\r\n            return this.owner.scene;\r\n        }\r\n        get rig3D() {\r\n            if (!this.Owner['__Rigidbody3D']) {\r\n                this.Owner['__Rigidbody3D'] = this.Owner.getComponent(Laya.Rigidbody3D);\r\n            }\r\n            return this.Owner['__Rigidbody3D'];\r\n        }\r\n        onAwake() {\r\n            this.lwgOnAwake();\r\n        }\r\n        onEnable() {\r\n            this.lwgEventRegister();\r\n            this.lwgOnEnable();\r\n        }\r\n        onUpdate() {\r\n            this.lwgOnUpdate();\r\n        }\r\n        onDisable() {\r\n            this.lwgReset();\r\n            this.lwgOnDisable();\r\n            this.lwgClear();\r\n        }\r\n    }\r\n    Lwg3D.Object3D = Object3D;\r\n})(Lwg3D || (Lwg3D = {}));\r\n",
  "references": [
    "E:/svn/恐龙跑酷/DinosaursGrow_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/script/Lwg/Lwg.ts"
  ]
}
