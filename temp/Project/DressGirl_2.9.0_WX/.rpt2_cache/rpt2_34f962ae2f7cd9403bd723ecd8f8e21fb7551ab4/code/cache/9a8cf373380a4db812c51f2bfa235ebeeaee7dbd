{
  "code": "import { ui } from \"../../../../ui/layaMaxUI\";\r\nimport { LwgControl, LwgCurrency, LwgScene, LwgSet } from \"../../../Lwg/Lwg\";\r\nimport { StateControl } from \"../../Game3D/Role\";\r\nexport default class GameManager extends LwgScene.SceneBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.dataArr = [\r\n            {\r\n                key: '钻石数量',\r\n                get value() {\r\n                    return LwgCurrency.Diamond.num;\r\n                },\r\n                set value(val) {\r\n                    LwgCurrency.Diamond.num = val;\r\n                    LwgCurrency.Diamond.updateNumOnNode;\r\n                }\r\n            },\r\n            {\r\n                key: '体力',\r\n                get value() {\r\n                    return LwgCurrency.Stamina.num;\r\n                },\r\n                set value(val) {\r\n                    LwgCurrency.Stamina.num = val;\r\n                    LwgCurrency.Stamina.updateNumOnNode;\r\n                }\r\n            },\r\n            {\r\n                key: '关卡数',\r\n                get value() {\r\n                    return LwgControl.Game.level;\r\n                },\r\n                set value(val) {\r\n                    LwgControl.Game.level = val;\r\n                }\r\n            },\r\n            {\r\n                key: '背景音乐',\r\n                get value() {\r\n                    if (LwgSet.BgMusic.switch) {\r\n                        return 1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                },\r\n                set value(val) {\r\n                    if (val === 1) {\r\n                        LwgSet.BgMusic.switch = true;\r\n                    }\r\n                    else {\r\n                        LwgSet.BgMusic.switch = false;\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                key: '音效',\r\n                get value() {\r\n                    if (LwgSet.Sound.switch) {\r\n                        return 1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                },\r\n                set value(val) {\r\n                    if (val === 1) {\r\n                        LwgSet.Sound.switch = true;\r\n                    }\r\n                    else {\r\n                        LwgSet.Sound.switch = false;\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                key: '蓄力阶段每次点击增加值',\r\n                get value() {\r\n                    return StateControl.AccumulateStrength.ins.strengthAdd;\r\n                },\r\n                set value(val) {\r\n                    StateControl.AccumulateStrength.ins.strengthAdd = val;\r\n                }\r\n            },\r\n            {\r\n                key: '蓄力阶段每次点击减少值',\r\n                get value() {\r\n                    return StateControl.AccumulateStrength.ins.strengthSub;\r\n                },\r\n                set value(val) {\r\n                    StateControl.AccumulateStrength.ins.strengthSub = val;\r\n                }\r\n            },\r\n        ];\r\n    }\r\n    get View() {\r\n        return this.owner;\r\n    }\r\n    lwgOnAwake() {\r\n        this.updataView();\r\n    }\r\n    updataView() {\r\n        for (let index = 0; index < this.dataArr.length; index++) {\r\n            const data = this.dataArr[index];\r\n            const Render = new ui.Views.Base.GameManagerRenderObjUI();\r\n            Render.lbKey.text = data.key;\r\n            const len0 = data.key.length - 10;\r\n            if (len0 > 0) {\r\n                Render.lbKey.fontSize = 26 - len0 * 2;\r\n            }\r\n            Render.Value.text = data.value;\r\n            this.owner.plValueView.addChild(Render);\r\n            Render.y = 50 + index * (Render.height + 10);\r\n            Render.centerX = 0;\r\n        }\r\n    }\r\n    lwgButton() {\r\n        this.btnOnUp(this.owner.btnConfirm, () => {\r\n            for (let index = 0; index < this.owner.plValueView.numChildren; index++) {\r\n                const Element = this.owner.plValueView.getChildAt(index);\r\n                this.dataArr[index].value = +Element.Value.text;\r\n            }\r\n        });\r\n        this.btnOnUp(this.owner.btnClose, () => {\r\n            this.closeScene();\r\n        });\r\n        this.btnOnUp(this.owner.btnClear, () => {\r\n            this.closeScene();\r\n            Laya.LocalStorage.clear();\r\n        });\r\n        for (let index = 0; index < this.owner.plValueView.numChildren; index++) {\r\n            const Element = this.owner.plValueView.getChildAt(index);\r\n            Element.Value.on(Laya.Event.FOCUS, this, () => {\r\n                this.dataArr[index].value = +Element.Value.text;\r\n            });\r\n        }\r\n        for (let index = 0; index < this.owner.plValueView.numChildren; index++) {\r\n            const Element = this.owner.plValueView.getChildAt(index);\r\n            Element.Value.on(Laya.Event.BLUR, this, () => {\r\n                this.dataArr[index].value = +Element.Value.text;\r\n            });\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "E:/svn/恐龙跑酷/DinosaursGrow_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/ui/layaMaxUI.ts",
    "E:/svn/恐龙跑酷/DinosaursGrow_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/script/Lwg/Lwg.ts",
    "E:/svn/恐龙跑酷/DinosaursGrow_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/script/Game/Game3D/Role.ts"
  ]
}
