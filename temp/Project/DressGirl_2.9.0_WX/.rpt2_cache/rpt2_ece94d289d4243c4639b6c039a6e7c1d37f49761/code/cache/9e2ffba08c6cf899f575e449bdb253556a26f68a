{
  "code": "import { LwgSound, LwgCurrency, LwgScene, LwgWX, LwgControl, LwgTimer } from \"../../Lwg/Lwg\";\r\nimport { GameAni2D } from \"../Control/GameAni2D\";\r\nimport { GameData } from \"../Control/GameData\";\r\nimport { GameEff2D } from \"../Control/GameEff2D\";\r\nimport { GameEnum } from \"../Control/GameEnum\";\r\nimport GameSceneName from \"../Control/GameSceneName\";\r\nexport default class Victory extends LwgScene.SceneBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.score = 0;\r\n        this.multiple = 1;\r\n    }\r\n    lwgOnAwake() {\r\n        this.score = GameData.Level.levelScore ? GameData.Level.levelScore : 0;\r\n        this.owner.lbRewardNum.text = 'x' + this.score.toString();\r\n        this.owner.lbLvNum.text = LwgControl.Game.level.toString();\r\n        LwgSound.playVictorySound();\r\n        LwgSound.playMusic();\r\n        GameEff2D.interfacePointJet();\r\n    }\r\n    lwgOpenAniAfter() {\r\n        LwgControl.Game.level++;\r\n        LwgTimer.frameLoop(1, this, () => {\r\n            const rotation = Math.abs(this.owner.imgPointerMultiple.rotation);\r\n            if (rotation > 0 && rotation <= 10) {\r\n                this.multiple = 2;\r\n            }\r\n            else if (rotation > 10 && rotation <= 30) {\r\n                this.multiple = 3;\r\n            }\r\n            else if (rotation > 30 && rotation <= 60) {\r\n                this.multiple = 4;\r\n            }\r\n            else if (rotation > 60 && rotation <= 90) {\r\n                this.multiple = 5;\r\n            }\r\n            this.owner.lbRewardNum.text = (this.score * this.multiple).toString();\r\n        });\r\n    }\r\n    lwgButton() {\r\n        this.btnOnUp(this.owner.btnThreeGet, () => {\r\n            LwgWX.AD.showVideo(() => {\r\n                this.getReward(this.multiple);\r\n            });\r\n        });\r\n        this.btnOnceUp(this.owner.btnDirect, () => {\r\n            this.getReward(1);\r\n        });\r\n    }\r\n    getReward(multiple = 1) {\r\n        GameAni2D.getRewardAni(GameEnum.ResType.Diamond, null, null, () => {\r\n            LwgCurrency.Diamond.addNumDisPlayNode(this.score * multiple);\r\n            const openData = {\r\n                whereFrom: this.owner.name,\r\n            };\r\n            this.openScene(GameSceneName.Start, openData);\r\n        });\r\n    }\r\n}\r\n",
  "references": [
    "E:/svn/泡泡/Bubble_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/ui/layaMaxUI.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/script/Lwg/Lwg.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/script/Game/Control/GameAni2D.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/script/Game/Control/GameData.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/script/Game/Control/GameEff2D.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/script/Game/Control/GameEnum.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/script/Game/Control/GameSceneName.ts",
    "E:/svn/泡泡/Bubble_Laya_2.9.0/DinosaursGrowUp_2.9.0/src/script/Game/Control/GameType.ts"
  ]
}
